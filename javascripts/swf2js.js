"swf2js"in window||!function(t){"use strict";function e(t){return t.replace(/%(8[1-9A-F]|[9E][0-9A-F]|F[0-9A-C])(%[4-689A-F][0-9A-F]|%7[0-9A-E]|[@-~])|%([0-7][0-9A-F]|A[1-9A-F]|[B-D][0-9A-F])/gi,function(t){var e=q(t.substring(1,3),16),r=t.length;return 3===r?K(160>e?e:e+65216):Dt.charAt(188*(160>e?e-129:e-193)+(4===r?t.charCodeAt(3)-64:(e=q(t.substring(4),16))<127?e-64:e-65))})}function r(t){var e=function(t,r){var n,o=a;for(n in t)if(t.hasOwnProperty(n)){var i=t[n];"Matrix"===n||"ColorTransform"===n?r[n]=o(i):i instanceof Array?(r[n]=[],e(i,r[n])):i instanceof Object?(r[n]={},e(i,r[n])):r[n]=i}},r={};return e(t,r),r}function a(t){for(var e=[],r=t.length,a=0;r>a;a++)e[a]=t[a];return e}function n(){for(var t in pt)if(pt.hasOwnProperty(t)){var e=pt[t];e.isLoad&&e.resize()}}function o(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function i(t,e){return[t[0]*e[0],t[1]*e[1],t[2]*e[2],t[3]*e[3],t[0]*e[4]+t[4],t[1]*e[5]+t[5],t[2]*e[6]+t[6],t[3]*e[7]+t[7]]}function s(t,e){t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])}function l(t){var e=-16384*t[0]-16384*t[2]+t[4],r=16384*t[0]-16384*t[2]+t[4],a=-16384*t[0]+16384*t[2]+t[4],n=-16384*t[1]-16384*t[3]+t[5],o=16384*t[1]-16384*t[3]+t[5],i=-16384*t[1]+16384*t[3]+t[5],s=a-e,l=i-n,c=H(s*s+l*l);s/=c,l/=c;var g=(r-e)*s+(o-n)*l;return[e+g*s,n+g*l,r,o]}function c(t){return"rgba("+t.R+","+t.G+","+t.B+","+t.A+")"}function g(t,e){return e||(e=100),{R:(16711680&t)>>16,G:(65280&t)>>8,B:255&t,A:e/100}}function p(t){var e=Ht.getCanvas();e.width=1,e.height=1;var r=e.getContext("2d");r.fillStyle=t;var a="0x"+r.fillStyle.substr(1);return Ht.destroy(r),a}function u(t,e,r){for(var a=t.data,n=e.R,o=e.G,i=e.B,s=a.length,l=0;s>l;l+=4){var c=l+3,g=a[c];r?255!==g&&(a[l]=n,a[l+1]=o,a[l+2]=i,a[c]=255-g):0!==g&&(a[l]=n,a[l+1]=o,a[l+2]=i,a[c]=g)}return t}function f(t,e,r,a){var n=t.canvas,o=t.getImageData(0,0,n.width,n.height);if(o=u(o,e,r),t.putImageData(o,0,0),a>0)for(var i=1;a>i;i++)t.drawImage(t.canvas,0,0);return t}function h(t,e,r){var a="source-over";return a=e===!0?t?"source-in":"source-out":r===!0?t?"source-in":"copy":t?"source-atop":"destination-over"}function d(t,e){for(var r;0!==(r=t%e);)t=e,e=r;return e}function v(t,e,r){return function(t,e,r){return function(){var a=new jt([],e.constantPool,e.register,e.initAction);return a.cache=e.cache,a.scope=t,a.parent=r?r:null,arguments.length&&a.initVariable(arguments),a.setVariable("this",this),a.execute(t)}}(t,e,r)}function y(t){var e=null;switch(t){case 1:case"normal":e="normal";break;case 2:case"layer":e="layer";break;case 3:case"multiply":e="multiply";break;case 4:case"screen":e="screen";break;case 5:case"lighten":e="lighten";break;case 6:case"darken":e="darken";break;case 7:case"difference":e="difference";break;case 8:case"add":e="add";break;case 9:case"subtract":e="subtract";break;case 10:case"invert":e="invert";break;case 11:case"alpha":e="alpha";break;case 12:case"erase":e="erase";break;case 13:case"overlay":e="overlay";break;case 14:case"hardlight":e="hardlight"}return e}function b(t){var e=H(t[0]*t[0]+t[1]*t[1]),r=H(t[2]*t[2]+t[3]*t[3]);return e=L(V,D(N(e)/(G/2))),r=L(V,D(N(r)/(G/2))),[e,r]}function m(t,e,r){var a=z.MAX_VALUE,n=-a,o=-a,i=a,s=a;r&&(i=r.xMin,n=r.xMax,s=r.yMin,o=r.yMax);var l=t.xMax*e[0]+t.yMax*e[2]+e[4],c=t.xMax*e[0]+t.yMin*e[2]+e[4],g=t.xMin*e[0]+t.yMax*e[2]+e[4],p=t.xMin*e[0]+t.yMin*e[2]+e[4],u=t.xMax*e[1]+t.yMax*e[3]+e[5],f=t.xMax*e[1]+t.yMin*e[3]+e[5],h=t.xMin*e[1]+t.yMax*e[3]+e[5],d=t.xMin*e[1]+t.yMin*e[3]+e[5];return n=X(X(X(X(n,l),c),g),p),i=w(w(w(w(i,l),c),g),p),o=X(X(X(X(o,u),f),h),d),s=w(w(w(w(s,u),f),h),d),{xMin:i,xMax:n,yMin:s,yMax:o}}function S(t,e){var r=t.R,a=t.G,n=t.B,o=255*t.A;return{R:P(X(0,w(r*e[0]+e[4],255))),G:P(X(0,w(a*e[1]+e[5],255))),B:P(X(0,w(n*e[2]+e[6],255))),A:X(0,w(o*e[3]+e[7],255))/255}}function I(t,e){if(e.SyncStop)t.pause();else{if(e.HasLoops){t.loopCount=e.LoopCount;var r=function(){t.loopCount--,this.loopCount?(t.currentTime=0,e.HasInPoint&&(t.currentTime=e.InPoint),t.play()):t.removeEventListener("ended",r)};t.addEventListener("ended",r)}e.HasInPoint&&t.addEventListener("canplay",function(){this.currentTime=e.InPoint}),t.play()}}function C(t){var e=[],r=new Rt;return r.setData(t),e}function x(t,e){var r=0,a=0,n=0,o=[],i=[],s=A,l=M,c=new Rt;c.setData(t);var g=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];At&&(g=new Uint8Array(g),p=new Uint8Array(p),u=new Uint16Array(u),f=new Uint8Array(f),h=new Uint16Array(h));var d=2;e&&(d=10),c.setOffset(d,8);for(var v=0;!v;){v=c.readUB(1);var y=c.readUB(2),b={},m={},S=!1,I=!1;if(y){if(1===y){if(b=S,m=I,!b){for(i=[],a=32;a--;)i[i.length]=5;b=S=s(i)}if(!m){for(i=[],a=0;144>a;a++)i[i.length]=8;for(;256>a;a++)i[i.length]=9;for(;280>a;a++)i[i.length]=7;for(;288>a;a++)i[i.length]=8;m=I=s(i)}}else{var C=c.readUB(5)+257,x=c.readUB(5)+1,F=c.readUB(4)+4,U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(At&&(U=new Uint8Array(U)),a=0;F>a;a++)U[g[a]]=c.readUB(3);var B=s(U);U=null;for(var k=[],Y=0,T=C+x;k.length<T;)switch(r=l(c,B)){case 16:for(a=c.readUB(2)+3;a--;)k[k.length]=Y;break;case 17:for(a=c.readUB(3)+3;a--;)k[k.length]=0;break;case 18:for(a=c.readUB(7)+11;a--;)k[k.length]=0;break;default:15>=r&&(k[k.length]=r,Y=r)}b=s(k.splice(C,x)),m=s(k)}for(r=0;256!==r;)if(r=l(c,m),256>r)o[o.length]=r;else if(r>256){var _=r-257;n=u[_]+c.readUB(p[_]);var w=l(c,b),X=h[w]+c.readUB(f[w]);for(a=o.length-X;n--;)o[o.length]=o[a++]}}else for(c.bit_offset=8,c.bit_buffer=null,n=c.readNumber(2),c.readNumber(2);n--;)o[o.length]=c.readNumber(1)}return o}function A(t){for(var e=t.length,r=[],a=[],n={},o=0,i=0,s=0,l=0;e>l;l++)s=X(s,t[l]);for(s++,l=e;l--;)i=t[l],r[i]=(r[i]||0)+(i>0);for(l=1;s>l;l++)i=l-1,i in r||(r[i]=0),o=o+r[i]<<1,a[l]=o;for(l=0;e>l;l++)i=t[l],i&&(n[a[i]]={length:i,symbol:l},a[i]++);return n}function M(t,e){for(var r=0,a=0;;)if(r=r<<1|t.readUB(1),a++,r in e){var n=e[r];if(n.length===a)return n.symbol}}function F(){pt=null,ut=null,t.removeEventListener("unload",F)}function U(){var t=Y.canvas;s(Y,[]),Y.setTransform(1,0,0,1,0,0),Y.clearRect(0,0,t.width+1,t.height+1)}function B(t){Bt=t;var e=Fe.keyUpEvent,r=e.length;if(r)for(var a=0;r>a;a++){var n=e[a];n.as.apply(n.mc)}}function k(t){Bt=t;var e,r,a,n=Fe.getCode(),o=Fe.keyDownEvent;if(r=o.length)for(e=0;r>e;e++)a=o[e],a.as.apply(a.mc);var i;r=pt.length;for(var s=0;r>s;s++)if(s in pt){var l=pt[s],c=l.keyDownEventHits,g=c.length;if(g)for(i=0;g>i;i++)a=c[i],l.executeEventAction(a.as,a.mc);var p=l.buttonHits,u=p.length,f=!1;for(e=u;e--;)if(e in p){var h=p[e];if(h){var d=h.button;if(d){var v=d.getActions();if(v){var y=v.length;for(i=0;y>i;i++)if(i in v){var b=v[i],m=b.CondKeyPress;switch(m){case 1:m=37;break;case 2:m=39;break;case 3:m=36;break;case 4:m=35;break;case 5:m=45;break;case 6:m=46;break;case 14:m=38;break;case 15:m=40;break;case 16:m=33;break;case 17:m=34;break;case 18:m=9;break;case 19:m=27}if(m===n){l.buttonAction(h.parent,b.ActionScript),l.touchRender(),f=!0;break}}if(f)break}}}}}}var Y,T=t.document,_=Math,w=_.min,X=_.max,P=_.floor,D=_.ceil,L=_.pow,O=_.random,E=_.atan2,H=_.sqrt,R=_.cos,Z=_.sin,N=_.log,j=_.abs,V=_.SQRT2,G=_.LN2,W=_.PI,z=Number,K=String.fromCharCode,q=parseInt,J=parseFloat,Q=isNaN,$=setTimeout,tt=clearTimeout,et=setInterval,rt=clearInterval,at=Function,nt=t.alert,ot=t.console,it="btoa"in t,st=t.WebGLRenderingContext&&T.createElement("canvas").getContext("webgl")?!0:!1,lt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.setTimeout,ct=0,gt=0,pt=[],ut=[],ft=0,ht=new Date,dt=t.navigator,vt=dt.userAgent,yt=vt.indexOf("Android")>0,bt=vt.indexOf("Android 4.")>0,mt=vt.indexOf("iPhone")>0||vt.indexOf("iPod")>0,St=vt.indexOf("Chrome")>0,It=yt||mt,Ct=new XMLHttpRequest,xt="undefined"!=typeof Ct.responseType,At=t.ArrayBuffer,Mt=t.devicePixelRatio||1,Ft=.75*Mt,Ut=null,Bt=null,kt="mousedown",Yt="mousemove",Tt="mouseup";It&&(kt="touchstart",Yt="touchmove",Tt="touchend");var _t=yt,wt=T.createElement("canvas");if(wt.width=1,wt.height=1,Y=wt.getContext("2d"),yt){var Xt=Y.createImageData(1,1),Pt=Xt.data;Pt[0]=128,Pt[3]=128,Y.putImageData(Xt,0,0),Xt=Y.getImageData(0,0,1,1),Pt=Xt.data,_t=255===Pt[0],Xt=null,Pt=null}"function"!=typeof Object.defineProperty&&(Object.defineProperty=function(t,e,r){return"value"in r&&(t[e]=r.value),"get"in r&&t.__defineGetter__(e,r.get),"set"in r&&t.__defineSetter__(e,r.set),t}),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(t,e){for(var r in e)e.hasOwnProperty(r)&&Object.defineProperty(t,r,e[r]);return t}),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf=function(t){return t.__proto__});var Dt=new at('var a="zKV33~jZ4zN=~ji36XazM93y!{~k2y!o~k0ZlW6zN?3Wz3W?{EKzK[33[`y|;-~j^YOTz$!~kNy|L1$353~jV3zKk3~k-4P4zK_2+~jY4y!xYHR~jlz$_~jk4z$e3X5He<0y!wy|X3[:~l|VU[F3VZ056Hy!nz/m1XD61+1XY1E1=1y|bzKiz!H034zKj~mEz#c5ZA3-3X$1~mBz$$3~lyz#,4YN5~mEz#{ZKZ3V%7Y}!J3X-YEX_J(3~mAz =V;kE0/y|F3y!}~m>z/U~mI~j_2+~mA~jp2;~m@~k32;~m>V}2u~mEX#2x~mBy+x2242(~mBy,;2242(~may->2&XkG2;~mIy-_2&NXd2;~mGz,{4<6:.:B*B:XC4>6:.>B*BBXSA+A:X]E&E<~r#z+625z s2+zN=`HXI@YMXIAXZYUM8X4K/:Q!Z&33 3YWX[~mB`{zKt4z (zV/z 3zRw2%Wd39]S11z$PAXH5Xb;ZQWU1ZgWP%3~o@{Dgl#gd}T){Uo{y5_d{e@}C(} WU9|cB{w}bzvV|)[} H|zT}d||0~{]Q|(l{|x{iv{dw}(5}[Z|kuZ }cq{{y|ij}.I{idbof%cu^d}Rj^y|-M{ESYGYfYsZslS`?ZdYO__gLYRZ&fvb4oKfhSf^d<Yeasc1f&a=hnYG{QY{D`Bsa|u,}Dl|_Q{C%xK|Aq}C>|c#ryW=}eY{L+`)][YF_Ub^h4}[X|?r|u_ex}TL@YR]j{SrXgo*|Gv|rK}B#mu{R1}hs|dP{C7|^Qt3|@P{YVV |8&}#D}ef{e/{Rl|>Hni}R1{Z#{D[}CQlQ||E}[s{SG_+i8eplY[=[|ec[$YXn#`hcm}YR|{Ci(_[ql|?8p3]-}^t{wy}4la&pc|3e{Rp{LqiJ],] `kc(]@chYnrM`O^,ZLYhZB]ywyfGY~aex!_Qww{a!|)*lHrM{N+n&YYj~Z b c#e_[hZSon|rOt`}hBXa^i{lh|<0||r{KJ{kni)|x,|0auY{D!^Sce{w;|@S|cA}Xn{C1h${E]Z-XgZ*XPbp]^_qbH^e[`YM|a||+=]!Lc}]vdBc=j-YSZD]YmyYLYKZ9Z>Xcczc2{Yh}9Fc#Z.l{}(D{G{{mRhC|L3b#|xK[Bepj#ut`H[,{E9Yr}1b{[e]{ZFk7[ZYbZ0XL]}Ye[(`d}c!|*y`Dg=b;gR]Hm=hJho}R-[n}9;{N![7k_{UbmN]rf#pTe[x8}!Qcs_rs[m`|>N}^V})7{^r|/E}),}HH{OYe2{Skx)e<_.cj.cjoMhc^d}0uYZd!^J_@g,[[[?{i@][|3S}Yl3|!1|eZ|5IYw|1D}e7|Cv{OHbnx-`wvb[6[4} =g+k:{C:}ed{S]|2M]-}WZ|/q{LF|dYu^}Gs^c{Z=}h>|/i|{W]:|ip{N:|zt|S<{DH[p_tvD{N<[8Axo{X4a.^o^X>Yfa59`#ZBYgY~_t^9`jZHZn`>G[oajZ;X,i)Z.^~YJe ZiZF^{][[#Zt^|]Fjx]&_5dddW]P0C[-]}]d|y {C_jUql] |OpaA[Z{lp|rz}:Mu#]_Yf6{Ep?f5`$[6^D][^u[$[6^.Z8]]ePc2U/=]K^_+^M{q*|9tYuZ,s(dS{i=|bNbB{uG}0jZOa:[-]dYtu3]:]<{DJ_SZIqr_`l=Yt`gkTnXb3d@kiq0a`Z{|!B|}e}Ww{Sp,^Z|0>_Z}36|]A|-t}lt{R6pi|v8hPu#{C>YOZHYmg/Z4nicK[}hF_Bg|YRZ7c|crkzYZY}_iXcZ.|)U|L5{R~qi^Uga@Y[xb}&qdbd6h5|Btw[}c<{Ds53[Y7]?Z<|e0{L[ZK]mXKZ#Z2^tavf0`PE[OSOaP`4gi`qjdYMgys/?[nc,}EEb,eL]g[n{E_b/vcvgb.{kcwi`~v%|0:|iK{Jh_vf5lb}KL|(oi=LrzhhY_^@`zgf[~g)[J_0fk_V{T)}I_{D&_/d9W/|MU[)f$xW}?$xr4<{Lb{y4}&u{XJ|cm{Iu{jQ}CMkD{CX|7A}G~{kt)nB|d5|<-}WJ}@||d@|Iy}Ts|iL|/^|no|0;}L6{Pm]7}$zf:|r2}?C_k{R(}-w|`G{Gy[g]bVje=_0|PT{^Y^yjtT[[[l!Ye_`ZN]@[n_)j3nEgMa]YtYpZy].d-Y_cjb~Y~[nc~sCi3|zg}B0}do{O^{|$`_|D{}U&|0+{J3|8*]iayx{a{xJ_9|,c{Ee]QXlYb]$[%YMc*]w[aafe]aVYi[fZEii[xq2YQZHg]Y~h#|Y:thre^@^|_F^CbTbG_1^qf7{L-`VFx Zr|@EZ;gkZ@slgko`[e}T:{Cu^pddZ_`yav^Ea+[#ZBbSbO`elQfLui}.F|txYcbQ`XehcGe~fc^RlV{D_0ZAej[l&jShxG[ipB_=u:eU}3e8[=j|{D(}dO{Do[BYUZ0/]AYE]ALYhZcYlYP/^-^{Yt_1_-;YT`P4BZG=IOZ&]H[e]YYd[9^F[1YdZxZ?Z{Z<]Ba2[5Yb[0Z4l?]d_;_)a?YGEYiYv`_XmZs4ZjY^Zb]6gqGaX^9Y}dXZr[g|]Y}K aFZp^k^F]M`^{O1Ys]ZCgCv4|E>}8eb7}l`{L5[Z_faQ|c2}Fj}hw^#|Ng|B||w2|Sh{v+[G}aB|MY}A{|8o}X~{E8paZ:]i^Njq]new)`-Z>haounWhN}c#{DfZ|fK]KqGZ=:u|fqoqcv}2ssm}.r{]{nIfV{JW)[K|,Z{Uxc|]l_KdCb%]cfobya3`p}G^|LZiSC]U|(X|kBlVg[kNo({O:g:|-N|qT}9?{MBiL}Sq{`P|3a|u.{Uaq:{_o|^S}jX{Fob0`;|#y_@[V[K|cw[<_ }KU|0F}d3|et{Q7{LuZttsmf^kYZ`Af`}$x}U`|Ww}d]| >}K,r&|XI|*e{C/a-bmr1fId4[;b>tQ_:]hk{b-pMge]gfpo.|(w[jgV{EC1Z,YhaY^q,_G[c_g[J0YX]`[h^hYK^_Yib,` {i6vf@YM^hdOKZZn(jgZ>bzSDc^Z%[[o9[2=/YHZ(_/Gu_`*|8z{DUZxYt^vuvZjhi^lc&gUd4|<UiA`z]$b/Z?l}YI^jaHxe|;F}l${sQ}5g}hA|e4}?o{ih}Uz{C)jPe4]H^J[Eg[|AMZMlc}:,{iz}#*|gc{Iq|/:|zK{l&}#u|myd{{M&v~nV};L|(g|I]ogddb0xsd7^V})$uQ{HzazsgxtsO^l}F>ZB]r|{7{j@cU^{{CbiYoHlng]f+nQ[bkTn/}<-d9q {KXadZYo+n|l[|lc}V2{[a{S4Zam~Za^`{HH{xx_SvF|ak=c^[v^7_rYT`ld@]:_ub%[$[m](Shu}G2{E.ZU_L_R{tz`vj(f?^}hswz}GdZ}{S:h`aD|?W|`dgG|if{a8|J1{N,}-Ao3{H#{mfsP|[ bzn+}_Q{MT{u4kHcj_q`eZj[8o0jy{p7}C|[}l){MuYY{|Ff!Ykn3{rT|m,^R|,R}$~Ykgx{P!]>iXh6[l[/}Jgcg{JYZ.^qYfYIZl[gZ#Xj[Pc7YyZD^+Yt;4;`e8YyZVbQ7YzZxXja.7SYl[s]2^/Ha$[6ZGYrb%XiYdf2]H]kZkZ*ZQ[ZYS^HZXcCc%Z|[(bVZ]]:OJQ_DZCg<[,]%Zaa [g{C00HY[c%[ChyZ,Z_`PbXa+eh`^&jPi0a[ggvhlekL]w{Yp^v}[e{~;k%a&k^|nR_z_Qng}[E}*Wq:{k^{FJZpXRhmh3^p>de^=_7`|ZbaAZtdhZ?n4ZL]u`9ZNc3g%[6b=e.ZVfC[ZZ^^^hD{E(9c(kyZ=bb|Sq{k`|vmr>izlH[u|e`}49}Y%}FT{[z{Rk}Bz{TCc/lMiAqkf(m$hDc;qooi[}^o:c^|Qm}a_{mrZ(pA`,}<2sY| adf_%|}`}Y5U;}/4|D>|$X{jw{C<|F.hK|*A{MRZ8Zsm?imZm_?brYWZrYx`yVZc3a@f?aK^ojEd {bN}/3ZH]/$YZhm^&j 9|(S|b]mF}UI{q&aM]LcrZ5^.|[j`T_V_Gak}9J[ ZCZD|^h{N9{~&[6Zd{}B}2O|cv]K}3s}Uy|l,fihW{EG`j_QOp~Z$F^zexS`dcISfhZBXP|.vn|_HYQ|)9|cr]<`&Z6]m_(ZhPcSg>`Z]5`~1`0Xcb4k1{O!bz|CN_T{LR|a/gFcD|j<{Z._[f)mPc:1`WtIaT1cgYkZOaVZOYFrEe[}T$}Ch}mk{K-^@]fH{Hdi`c*Z&|Kt{if[C{Q;{xYB`dYIX:ZB[}]*[{{p9|4GYRh2ao{DS|V+[zd$`F[ZXKadb*A] Ys]Maif~a/Z2bmclb8{Jro_rz|x9cHojbZ{GzZx_)]:{wAayeDlx}<=`g{H1{l#}9i|)=|lP{Qq}.({La|!Y{i2EZfp=c*}Cc{EDvVB|;g}2t{W4av^Bn=]ri,|y?|3+}T*ckZ*{Ffr5e%|sB{lx^0]eZb]9[SgAjS_D|uHZx]dive[c.YPkcq/}db{EQh&hQ|eg}G!ljil|BO]X{Qr_GkGl~YiYWu=c3eb}29v3|D|}4i||.{Mv})V{SP1{FX}CZW6{cm|vO{pS|e#}A~|1i}81|Mw}es|5[}3w{C`h9aL]o{}p[G`>i%a1Z@`Ln2bD[$_h`}ZOjhdTrH{[j_:k~kv[Sdu]CtL}41{I |[[{]Zp$]XjxjHt_eThoa#h>sSt8|gK|TVi[Y{t=}Bs|b7Zpr%{gt|Yo{CS[/{iteva|cf^hgn}($_c^wmb^Wm+|55jrbF|{9^ q6{C&c+ZKdJkq_xOYqZYSYXYl`8]-cxZAq/b%b*_Vsa[/Ybjac/OaGZ4fza|a)gY{P?| I|Y |,pi1n7}9bm9ad|=d{aV|2@[(}B`d&|Uz}B}{`q|/H|!JkM{FU|CB|.{}Az}#P|lk}K{|2rk7{^8^?`/|k>|Ka{Sq}Gz}io{DxZh[yK_#}9<{TRdgc]`~Z>JYmYJ]|`!ZKZ]gUcx|^E[rZCd`f9oQ[NcD_$ZlZ;Zr}mX|=!|$6ZPZYtIo%fj}CpcN|B,{VDw~gb}@hZg`Q{LcmA[(bo`<|@$|o1|Ss}9Z_}tC|G`{F/|9nd}i=}V-{L8aaeST]daRbujh^xlpq8|}zs4bj[S`J|]?G{P#{rD{]I`OlH{Hm]VYuSYUbRc*6[j`8]pZ[bt_/^Jc*[<Z?YE|Xb|?_Z^Vcas]h{t9|Uwd)_(=0^6Zb{Nc} E[qZAeX[a]P^|_J>e8`W^j_Y}R{{Jp__]Ee#e:iWb9q_wKbujrbR}CY`,{mJ}gz{Q^{t~N|? gSga`V_||:#mi}3t|/I`X{N*|ct|2g{km}gi|{={jC}F;|E}{ZZjYf*frmu}8Tdroi{T[|+~}HG{cJ}DM{Lp{Ctd&}$hi3|FZ| m}Kr|38}^c|m_|Tr{Qv|36}?Up>|;S{DV{k_as}BK{P}}9p|t`jR{sAm4{D=b4pWa[}Xi{EjwEkI}3S|E?u=X0{jf} S|NM|JC{qo^3cm]-|JUx/{Cj{s>{Crt[UXuv|D~|j|d{YXZR}Aq}0r}(_{pJfi_z}0b|-vi)Z mFe,{f4|q`b{}^Z{HM{rbeHZ|^x_o|XM|L%|uFXm}@C_{{Hhp%a7|0p[Xp+^K}9U{bP}: tT}B|}+$|b2|[^|~h{FAby[`{}xgygrt~h1[li`c4vz|,7p~b(|mviN}^pg[{N/|g3|^0c,gE|f%|7N{q[|tc|TKA{LU}I@|AZp(}G-sz{F |qZ{}F|f-}RGn6{Z]_5})B}UJ{FFb2]4ZI@v=k,]t_Dg5Bj]Z-]L]vrpdvdGlk|gF}G]|IW}Y0[G| /bo|Te^,_B}#n^^{QHYI[?hxg{[`]D^IYRYTb&kJ[cri[g_9]Ud~^_]<p@_e_XdNm-^/|5)|h_{J;{kacVopf!q;asqd}n)|.m|bf{QW|U)}b+{tL|w``N|to{t ZO|T]jF}CB|0Q{e5Zw|k |We}5:{HO{tPwf_uajjBfX}-V_C_{{r~gg|Ude;s+}KNXH}! `K}eW{Upwbk%ogaW}9EYN}YY|&v|SL{C3[5s.]Y]I]u{M6{pYZ`^,`ZbCYR[1mNg>rsk0Ym[jrE]RYiZTr*YJ{Ge|%-lf|y(`=[t}E6{k!|3)}Zk} ][G{E~cF{u3U.rJ|a9p#o#ZE|?|{sYc#vv{E=|LC}cu{N8`/`3`9rt[4|He{cq|iSYxY`}V |(Q|t4{C?]k_Vlvk)BZ^r<{CL}#h}R+[<|i=}X|{KAo]|W<`K{NW|Zx}#;|fe{IMr<|K~tJ_x}AyLZ?{GvbLnRgN}X&{H7|x~}Jm{]-| GpNu0}.ok>|c4{PYisrDZ|fwh9|hfo@{H~XSbO]Odv]%`N]b1Y]]|eIZ}_-ZA]aj,>eFn+j[aQ_+]h[J_m_g]%_wf.`%k1e#Z?{CvYu_B^|gk`Xfh^M3`afGZ-Z|[m{L}|k3cp[it ^>YUi~d>{T*}YJ{Q5{Jxa$hg|%4`}|LAgvb }G}{P=|<;Ux{_skR{cV|-*|s-{Mp|XP|$G|_J}c6cM{_=_D|*9^$ec{V;|4S{qO|w_|.7}d0|/D}e}|0G{Dq]Kdp{}dfDi>}B%{Gd|nl}lf{C-{y}|ANZr}#={T~|-(}c&{pI|ft{lsVP}){|@u}!W|bcmB{d?|iW|:dxj{PSkO|Hl]Li:}VYk@|2={fnWt{M3`cZ6|)}|Xj}BYa?vo{e4|L7|B7{L7|1W|lvYO}W8nJ|$Vih|{T{d*_1|:-n2dblk``fT{Ky|-%}m!|Xy|-a{Pz}[l{kFjz|iH}9N{WE{x,|jz}R {P|{D)c=nX|Kq|si}Ge{sh|[X{RF{t`|jsr*fYf,rK|/9}$}}Nf{y!1|<Std}4Wez{W${Fd_/^O[ooqaw_z[L`Nbv[;l7V[ii3_PeM}.h^viqYjZ*j1}+3{bt{DR[;UG}3Og,rS{JO{qw{d<_zbAh<R[1_r`iZTbv^^a}c{iEgQZ<exZFg.^Rb+`Uj{a+{z<[~r!]`[[|rZYR|?F|qppp]L|-d|}K}YZUM|=Y|ktm*}F]{D;g{uI|7kg^}%?Z%ca{N[_<q4xC]i|PqZC]n}.bDrnh0Wq{tr|OMn6tM|!6|T`{O`|>!]ji+]_bTeU}Tq|ds}n|{Gm{z,f)}&s{DPYJ`%{CGd5v4tvb*hUh~bf]z`jajiFqAii]bfy^U{Or|m+{I)cS|.9k:e3`^|xN}@Dnlis`B|Qo{`W|>||kA}Y}{ERYuYx`%[exd`]|OyiHtb}HofUYbFo![5|+]gD{NIZR|Go}.T{rh^4]S|C9_}xO^i`vfQ}C)bK{TL}cQ|79iu}9a];sj{P.o!f[Y]pM``Jda^Wc9ZarteBZClxtM{LW}l9|a.mU}KX}4@{I+f1}37|8u}9c|v${xGlz}jP{Dd1}e:}31}%3X$|22i<v+r@~mf{sN{C67G97855F4YL5}8f{DT|xy{sO{DXB334@55J1)4.G9A#JDYtXTYM4, YQD9;XbXm9SX]IB^4UN=Xn<5(;(F3YW@XkH-X_VM[DYM:5XP!T&Y`6|,^{IS-*D.H>:LXjYQ0I3XhAF:9:(==.F*3F1189K/7163D,:@|e2{LS36D4hq{Lw/84443@4.933:0307::6D7}&l{Mx657;89;,K5678H&93D(H<&<>0B90X^I;}Ag1{P%3A+>><975}[S{PZE453?4|T2{Q+5187;>447:81{C=hL6{Me^:=7ii{R=.=F<81;48?|h8}Uh{SE|,VxL{ST,7?9Y_5Xk3A#:$%YSYdXeKXOD8+TXh7(@>(YdXYHXl9J6X_5IXaL0N?3YK7Xh!1?XgYz9YEXhXaYPXhC3X`-YLY_XfVf[EGXZ5L8BXL9YHX]SYTXjLXdJ: YcXbQXg1PX]Yx4|Jr{Ys4.8YU+XIY`0N,<H%-H;:0@,74/:8546I=9177154870UC]d<C3HXl7ALYzXFXWP<<?E!88E5@03YYXJ?YJ@6YxX-YdXhYG|9o{`iXjY_>YVXe>AYFX[/(I@0841?):-B=14337:8=|14{c&93788|di{cW-0>0<097/A;N{FqYpugAFT%X/Yo3Yn,#=XlCYHYNX[Xk3YN:YRT4?)-YH%A5XlYF3C1=NWyY}>:74-C673<69545v {iT85YED=64=.F4..9878/D4378?48B3:7:7/1VX[f4{D,{l<5E75{dAbRB-8-@+;DBF/$ZfW8S<4YhXA.(5@*11YV8./S95C/0R-A4AXQYI7?68167B95HA1*<M3?1/@;/=54XbYP36}lc{qzSS38:19?,/39193574/66878Yw1X-87E6=;964X`T734:>86>1/=0;(I-1::7ALYGXhF+Xk[@W%TYbX7)KXdYEXi,H-XhYMRXfYK?XgXj.9HX_SX]YL1XmYJ>Y}WwIXiI-3-GXcYyXUYJ$X`Vs[7;XnYEZ;XF! 3;%8;PXX(N3Y[)Xi1YE&/ :;74YQ6X`33C;-(>Xm0(TYF/!YGXg8 9L5P01YPXO-5%C|qd{{/K/E6,=0144:361:955;6443@?B7*7:F89&F35YaX-CYf,XiFYRXE_e{}sF 0*7XRYPYfXa5YXXY8Xf8Y~XmA[9VjYj*#YMXIYOXk,HHX40YxYMXU8OXe;YFXLYuPXP?EB[QV0CXfY{:9XV[FWE0D6X^YVP*$4%OXiYQ(|xp|%c3{}V`1>Y`XH00:8/M6XhQ1:;3414|TE|&o@1*=81G8<3}6<|(f6>>>5-5:8;093B^3U*+*^*UT30XgYU&7*O1953)5@E78--F7YF*B&0:%P68W9Zn5974J9::3}Vk|-,C)=)1AJ4+<3YGXfY[XQXmT1M-XcYTYZXCYZXEYXXMYN,17>XIG*SaS|/eYJXbI?XdNZ+WRYP<F:R PXf;0Xg`$|1GX9YdXjLYxWX!ZIXGYaXNYm6X9YMX?9EXmZ&XZ#XQ>YeXRXfAY[4 ;0X!Zz0XdN$XhYL XIY^XGNXUYS/1YFXhYk.TXn4DXjB{jg|4DEX]:XcZMW=A.+QYL<LKXc[vV$+&PX*Z3XMYIXUQ:ZvW< YSXFZ,XBYeXMM)?Xa XiZ4/EXcP3%}&-|6~:1(-+YT$@XIYRBC<}&,|7aJ6}bp|8)K1|Xg|8C}[T|8Q.89;-964I38361<=/;883651467<7:>?1:.}le|:Z=39;1Y^)?:J=?XfLXbXi=Q0YVYOXaXiLXmJXO5?.SFXiCYW}-;|=u&D-X`N0X^,YzYRXO(QX_YW9`I|>hZ:N&X)DQXP@YH#XmNXi$YWX^=!G6YbYdX>XjY|XlX^XdYkX>YnXUXPYF)FXT[EVTMYmYJXmYSXmNXi#GXmT3X8HOX[ZiXN]IU2>8YdX1YbX<YfWuZ8XSXcZU%0;1XnXkZ_WTG,XZYX5YSX Yp 05G?XcYW(IXg6K/XlYP4XnI @XnO1W4Zp-9C@%QDYX+OYeX9>--YSXkD.YR%Q/Yo YUX].Xi<HYEZ2WdCE6YMXa7F)=,D>-@9/8@5=?7164;35387?N<618=6>7D+C50<6B03J0{Hj|N9$D,9I-,.KB3}m |NzE0::/81YqXjMXl7YG; [.W=Z0X4XQY]:MXiR,XgM?9$9>:?E;YE77VS[Y564760391?14941:0=:8B:;/1DXjFA-564=0B3XlH1+D85:0Q!B#:-6&N/:9<-R3/7Xn<*3J4.H:+334B.=>30H.;3833/76464665755:/83H6633:=;.>5645}&E|Y)?1/YG-,93&N3AE@5 <L1-G/8A0D858/30>8<549=@B8] V0[uVQYlXeD(P#ID&7T&7;Xi0;7T-$YE)E=1:E1GR):--0YI7=E<}n9|aT6783A>D7&4YG7=391W;Zx<5+>F#J39}o/|cc;6=A050EQXg8A1-}D-|d^5548083563695D?-.YOXd37I$@LYLWeYlX<Yd+YR A$;3-4YQ-9XmA0!9/XLY_YT(=5XdDI>YJ5XP1ZAW{9>X_6R(XhYO65&J%DA)C-!B:97#A9;@?F;&;(9=11/=657/H,<8}bz|j^5446>.L+&Y^8Xb6?(CYOXb*YF(8X`FYR(XPYVXmPQ%&DD(XmZXW??YOXZXfCYJ79,O)XnYF7K0!QXmXi4IYFRXS,6<%-:YO(+:-3Q!1E1:W,Zo}Am|n~;3580534*?3Zc4=9334361693:30C<6/717:<1/;>59&:4}6!|rS36=1?75<8}[B|s809983579I.A.>84758=108564741H*9E{L{|u%YQ<%6XfH.YUXe4YL@,>N}Tv|ve*G0X)Z;/)3@A74(4P&A1X:YVH97;,754*A66:1 D739E3553545558E4?-?K17/770843XAYf838A7K%N!YW4.$T19Z`WJ*0XdYJXTYOXNZ 1XaN1A+I&Xi.Xk3Z3GB&5%WhZ1+5#Y[X<4YMXhQYoQXVXbYQ8XSYUX4YXBXWDMG0WxZA[8V+Z8X;D],Va$%YeX?FXfX[XeYf<X:Z[WsYz8X_Y]%XmQ(!7BXIZFX]&YE3F$(1XgYgYE& +[+W!<YMYFXc;+PXCYI9YrWxGXY9DY[!GXiI7::)OC;*$.>N*HA@{C|}&k=:<TB83X`3YL+G4XiK]i}(fYK<=5$.FYE%4*5*H*6XkCYL=*6Xi6!Yi1KXR4YHXbC8Xj,B9ZbWx/XbYON#5B}Ue}+QKXnF1&YV5XmYQ0!*3IXBYb71?1B75XmF;0B976;H/RXU:YZX;BG-NXj;XjI>A#D3B636N;,*%<D:0;YRXY973H5)-4FXOYf0:0;/7759774;7;:/855:543L43<?6=E,.A4:C=L)%4YV!1(YE/4YF+ F3%;S;&JC:%/?YEXJ4GXf/YS-EXEYW,9;E}X$}547EXiK=51-?71C%?57;5>463553Zg90;6447?<>4:9.7538XgN{|!}9K/E&3-:D+YE1)YE/3;37/:05}n<}:UX8Yj4Yt864@JYK..G=.(A Q3%6K>3(P3#AYE$-6H/456*C=.XHY[#S.<780191;057C)=6HXj?955B:K1 E>-B/9,;5.!L?:0>/.@//:;7833YZ56<4:YE=/:7Z_WGC%3I6>XkC*&NA16X=Yz2$X:Y^&J48<99k8}CyB-61<18K946YO4{|N}E)YIB9K0L>4=46<1K0+R;6-=1883:478;4,S+3YJX`GJXh.Yp+Xm6MXcYpX(>7Yo,/:X=Z;Xi0YTYHXjYmXiXj;*;I-8S6N#XgY}.3XfYGO3C/$XjL$*NYX,1 6;YH&<XkK9C#I74.>}Hd`A748X[T450[n75<4439:18A107>|ET}Rf<1;14876/Yb983E<5.YNXd4149>,S=/4E/<306443G/06}0&}UkYSXFYF=44=-5095=88;63844,9E6644{PL}WA8:>)7+>763>>0/B3A545CCnT}Xm|dv}Xq1L/YNXk/H8;;.R63351YY747@15YE4J8;46;.38.>4A369.=-83,;Ye3?:3@YE.4-+N353;/;@(X[YYD>@/05-I*@.:551741Yf5>6A443<3535;.58/86=D4753442$635D1>0359NQ @73:3:>><Xn?;43C14 ?Y|X611YG1&<+,4<*,YLXl<1/AIXjF*N89A4Z576K1XbJ5YF.ZOWN.YGXO/YQ01:4G38Xl1;KI0YFXB=R<7;D/,/4>;$I,YGXm94@O35Yz66695385.>:6A#5}W7n^4336:4157597434433<3|XA}m`>=D>:4A.337370?-6Q96{`E|4A}C`|Qs{Mk|J+~r>|o,wHv>Vw}!c{H!|Gb|*Ca5}J||,U{t+{CN[!M65YXOY_*B,Y[Z9XaX[QYJYLXPYuZ%XcZ8LY[SYPYKZM<LMYG9OYqSQYM~[e{UJXmQYyZM_)>YjN1~[f3{aXFY|Yk:48YdH^NZ0|T){jVFYTZNFY^YTYN~[h{nPYMYn3I]`EYUYsYIZEYJ7Yw)YnXPQYH+Z.ZAZY]^Z1Y`YSZFZyGYHXLYG 8Yd#4~[i|+)YH9D?Y^F~Y7|-eYxZ^WHYdYfZQ~[j|3>~[k|3oYmYqY^XYYO=Z*4[]Z/OYLXhZ1YLZIXgYIHYEYK,<Y`YEXIGZI[3YOYcB4SZ!YHZ*&Y{Xi3~[l|JSY`Zz?Z,~[m|O=Yi>??XnYWXmYS617YVYIHZ(Z4[~L4/=~[n|Yu{P)|];YOHHZ}~[o33|a>~[r|aE]DH~[s|e$Zz~[t|kZFY~XhYXZB[`Y}~[u|{SZ&OYkYQYuZ2Zf8D~[v}% ~[w3},Q[X]+YGYeYPIS~[y}4aZ!YN^!6PZ*~[z}?E~[{3}CnZ=~[}}EdDZz/9A3(3S<,YR8.D=*XgYPYcXN3Z5 4)~[~}JW=$Yu.XX~] }KDX`PXdZ4XfYpTJLY[F5]X~[2Yp}U+DZJ::<446[m@~]#3}]1~]%}^LZwZQ5Z`/OT<Yh^ -~]&}jx[ ~m<z!%2+~ly4VY-~o>}p62yz!%2+Xf2+~ly4VY-zQ`z (=] 2z~o2",C={" ":0,"!":1},c=34,i=2,p,s="",u=String.fromCharCode,t=u(12539);for(;++c<127;)C[u(c)]=c^39&&c^92?i++:0;i=0;for(;0<=(c=C[a.charAt(i++)]);)if(16===c)if((c=C[a.charAt(i++)])<87){if(86===c)c=1879;for(;c--;)s+=u(++p)}else s+=s.substr(8272,360);else if(c<86)s+=u(p+=c<51?c-16:(c-55)*92+C[a.charAt(i++)]);else if((c=((c-86)*92+C[a.charAt(i++)])*92+C[a.charAt(i++)])<49152)s+=u(p=c<40960?c:c|57344);else{c&=511;for(;c--;)s+=t;p=12539}return s')();t.addEventListener("resize",function(){tt(ct),ct=$(n,300)}),t.addEventListener("unload",F);var Lt=function(){};Lt.prototype.convert=function(t,e){for(var a=this,n=t.lineStyles.lineStyles,o=t.fillStyles.fillStyles,i=t.ShapeRecords,s=0,l={},c=[],g=0,p=0,u=0,f=0,h=0,d=0,v=0,y=0,b=0,m=[],S=[],I=[],C=[],x=0,A=r,M=i.length,F=0;M>F;F++){var U=i[F];if(!U){C=a.setStack(C,a.fillMerge(m,S,e)),C=a.setStack(C,I);break}if(U.isChange)x++,U.StateNewStyles&&(g=0,p=0,C=a.setStack(C,a.fillMerge(m,S,e)),C=a.setStack(C,I),m=[],S=[],I=[],U.NumFillBits&&(o=U.FillStyles.fillStyles),U.NumLineBits&&(n=U.LineStyles.lineStyles)),u=g,f=p,U.StateMoveTo&&(u=U.MoveX,f=U.MoveY),h=u,d=f,U.StateFillStyle0&&(v=U.FillStyle0),U.StateFillStyle1&&(y=U.FillStyle1),U.StateLineStyle&&(b=U.LineStyle);else{g=U.AnchorX,p=U.AnchorY;var B=U.ControlX,k=U.ControlY,Y=U.isCurved;if(v&&(s=v-1,s in m||(m[s]=[]),x in m[s]||(m[s][x]={obj:o[s],startX:u,startY:f,endX:0,endY:0,cache:[]}),l=m[s][x],c=l.cache,c[c.length]=A(U),l.endX=g,l.endY=p),y&&(s=y-1,s in S||(S[s]=[]),x in S[s]||(S[s][x]={obj:o[s],startX:u,startY:f,endX:0,endY:0,cache:[]}),l=S[s][x],c=l.cache,c[c.length]=A(U),l.endX=g,l.endY=p),b){s=b-1,s in I||(I[s]={obj:n[s],cache:[]}),l=I[s],c=l.cache,c[c.length]=[0,h,d];var T=[2,g,p];Y&&(T=[1,B,k,g,p]),c[c.length]=T}h=g,d=p}}return C},Lt.prototype.fillMerge=function(t,e,r){var a=this;if(t=a.fillReverse(t),t.length)for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if(n in e){var i=e[n];for(var s in o)o.hasOwnProperty(s)&&(i[i.length]=o[s])}else e[n]=o}return a.coordinateAdjustment(e,r)},Lt.prototype.fillReverse=function(t){if(!t.length)return t;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];for(var a in r)if(r.hasOwnProperty(a)){var n=0,o=0,i=r[a],s=i.startX,l=i.startY,c=i.cache,g=c.length;if(g){for(var p in c)if(c.hasOwnProperty(p)){var u=c[p];n=u.AnchorX,o=u.AnchorY,u.AnchorX=s,u.AnchorY=l,s=n,l=o}for(var f=[];g--;)f[f.length]=c[g];i.cache=f}s=i.startX,l=i.startY,i.startX=i.endX,i.startY=i.endY,i.endX=s,i.endY=l}}return t},Lt.prototype.coordinateAdjustment=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var a=[],n=t[r];for(var o in n)n.hasOwnProperty(o)&&(a[a.length]=n[o]);var i=[];if(a.length>1&&!e)for(;a.length;){var s=a.shift();if(s.startX!==s.endX||s.startY!==s.endY){var l=a.length;if(!l)break;for(var c=0;l--;){var g=a[l];if(g.startX===s.endX&&g.startY===s.endY){s.endX=g.endX,s.endY=g.endY;for(var p=s.cache,u=g.cache,f=u.length,h=0;f>h;h++)p[p.length]=u[h];a.splice(l,1),a.unshift(s),c=1;break}}c||a.unshift(s)}else i[i.length]=s}else i=a;for(var d=i.length,v=[],y={},b=0;d>b;b++){var m=i[b];y=m.obj;var S=m.cache,I=S.length;v[v.length]=[0,m.startX,m.startY];for(var C=0;I>C;C++){var x=S[C],A=[2,x.AnchorX,x.AnchorY];x.isCurved&&(A=[1,x.ControlX,x.ControlY,x.AnchorX,x.AnchorY]),v[v.length]=A}}t[r]={cache:v,obj:y}}return t},Lt.prototype.setStack=function(t,e){var r=this,a=r.buildCommand;if(e.length)for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];t[t.length]={obj:o.obj,cmd:a.call(r,o.cache)}}return t},Lt.prototype.buildCommand=function(t){var e=this;return st?e.toCanvas2D(t):e.toCanvas2D(t)},Lt.prototype.toCanvas2D=function(t){for(var e=t.length,r="",a=0;e>a;a++){var n=t[a];switch(n[0]){case 0:r+="ctx.moveTo("+n[1]+","+n[2]+");";break;case 1:r+="ctx.quadraticCurveTo("+n[1]+","+n[2]+","+n[3]+","+n[4]+");";break;case 2:r+="ctx.lineTo("+n[1]+","+n[2]+");";break;case 3:r+="ctx.bezierCurveTo("+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+","+n[6]+");";break;case 4:r+="ctx.arc("+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+",false);";break;case 5:r+="ctx.scale("+n[1]+","+n[2]+");",r+="ctx.arc("+n[3]+","+n[4]+","+n[5]+", "+n[6]+","+n[7]+",false);",r+="ctx.scale(1,1);";break;case 6:r+="ctx.closePath();"}}return new at("ctx",r)},Lt.prototype.toWebGL=function(t){return t};var Ot=new Lt,Et=function(){this.store={},this.pool=[],this.size=73400320};Et.prototype.reset=function(){var t=this,e=t.destroy,r=t.store;for(var a in r)if(r.hasOwnProperty(a)){var n=r[a];n instanceof CanvasRenderingContext2D&&e.call(t,n)}t.store={},t.size=73400320},Et.prototype.destroy=function(t){var e=this.pool,r=t.canvas;t.clearRect(0,0,r.width+1,r.height+1),r.width=1,r.height=1,e[e.length]=r},Et.prototype.getCanvas=function(){return this.pool.pop()||T.createElement("canvas")},Et.prototype.getCache=function(t){return this.store[t]},Et.prototype.setCache=function(t,e){var r=this;if(e instanceof CanvasRenderingContext2D){var a=e.canvas;r.size-=a.width*a.height}this.store[t]=e},Et.prototype.generateKey=function(t,e,r,a){var n=t+"_"+e;return r instanceof Array&&(n+="_"+r.join("_")),a instanceof Array&&(n+="_"+a.join("_")),n};var Ht=new Et,Rt=function(){var t=this;t.data=null,t.bit_offset=0,t.byte_offset=0,t.bit_buffer=null};Rt.prototype.init=function(t){for(var e=this,r=t.length,a=e.createArray(r),n=0;r--;n++)a[n]=255&t.charCodeAt(n);e.data=a},Rt.prototype.createArray=function(t){return At?new Uint8Array(t):[]},Rt.prototype.setData=function(t){this.data=t},Rt.prototype.getHeaderSignature=function(){for(var t=this,e="",r=3;r;){var a=t.getUI8();switch(a){case 32:case 96:case 127:continue}e+=K(a),r--}return e},Rt.prototype.getVersion=function(){return this.getUI8()},Rt.prototype.byteAlign=function(){var t=this;t.bit_offset&&(t.byte_offset+=(t.bit_offset+7)/8|0,t.bit_offset=0)},Rt.prototype.getData=function(t){var e=this;e.byteAlign();for(var r=e.createArray(t),a=0,n=e.data,o=t;o--;)r[a++]=n[e.byte_offset++];return r},Rt.prototype.getDataUntil=function(t,r){var a=this,n=a.data;a.byteAlign();var o=a.byte_offset,i=0;if(null===t)i=-1;else for(var s=n.length;;){var l=n[o+i];if(i++,0===l||o+i>=s)break}var c=-1===i?n.length-o:i,g=[],p="",u=Array.prototype.join,f=0;if(null!==t){for(f=0;c>f;f++){var h=n[o+f];(10===h||13===h)&&(g[g.length]="\n"),32>h||(g[g.length]="%"+h.toString(16))}if(g.length){var d=u.call(g,"");if(d.length>5&&"\n"===d.substr(-5)&&(d=d.slice(0,-5)),r)p=e(d);else try{p=decodeURIComponent(d)}catch(v){p=e(d)}}}else for(f=0;c>f;f++)p+=K(n[o+f]);return a.byte_offset=o+c,p},Rt.prototype.byteCarry=function(){var t=this;if(t.bit_offset>7)t.byte_offset+=(t.bit_offset+7)/8|0,t.bit_offset&=7;else for(;t.bit_offset<0;)t.byte_offset--,t.bit_offset+=8},Rt.prototype.getUIBits=function(t){for(var e=0,r=this,a=r.getUIBit;t--;)e<<=1,e|=a.call(r);return e},Rt.prototype.getUIBit=function(){var t=this;return t.byteCarry(),t.data[t.byte_offset]>>7-t.bit_offset++&1},Rt.prototype.getSIBits=function(t){var e=this,r=e.getUIBits(t),a=r&1<<t-1;if(a){var n=2*a-1;return-(r^n)-1}return r},Rt.prototype.getUI8=function(){var t=this;return t.byteAlign(),t.data[t.byte_offset++]},Rt.prototype.getUI16=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|e[t.byte_offset++]<<8},Rt.prototype.getUI16BE=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]<<8|e[t.byte_offset++]},Rt.prototype.getUI32=function(){var t=this,e=t.data;return t.byteAlign(),e[t.byte_offset++]|(e[t.byte_offset++]|(e[t.byte_offset++]|e[t.byte_offset++]<<8)<<8)<<8},Rt.prototype.getFloat16=function(){for(var t=this.getData(2),e=0,r=2;r--;)e|=t[r]<<8*r;return e},Rt.prototype.getFloat32=function(){for(var t=this.getData(4),e=0,r=4;r--;)e|=t[r]<<8*r;var a=2147483648&e,n=e>>23&255,o=8388607&e;return e&&2147483648!==e?(a?-1:1)*(8388608|o)*L(2,n-127-23):0},Rt.prototype.getFloat64=function(){var t=this,e=t.getUI32(),r=t.getUI32(),a=e>>>31&1,n=e>>>20&2047,o=1048575&e;return e||r?(0===a?1:-1)*(o/L(2,20)+r/L(2,52)+1)*L(2,n-1023):0},Rt.prototype.toUI16=function(t){return t[0]+(t[1]<<8)},Rt.prototype.toSI16LE=function(t){var e=this,r=e.toUI16(t);return 32768>r?r:r-65536},Rt.prototype.incrementOffset=function(t,e){var r=this;r.byte_offset+=t,r.bit_offset+=e,r.byteCarry()},Rt.prototype.setOffset=function(t,e){var r=this;r.byte_offset=t,r.bit_offset=e},Rt.prototype.getU30=function(){for(var t=this,e=0,r=t.data,a=0;5>a;a++){var n=r[t.byte_offset++];if(e|=(127&n)<<7*a,!(128&n))break}return e},Rt.prototype.ReadU30=function(t){for(var e=this,r=0,a=e.data,n=0;5>n;n++){var o=a[t++];if(r|=(127&o)<<7*n,!(128&o))break}return r},Rt.prototype.AbcReadString=function(){for(var t=this,e=t.byte_offset,r=t.data,a=t.ReadU30(e)+1,n=[],o=0;a>o;o++){var i=r[t.byte_offset++];10===i||13===i||32>i||(n[n.length]=K(i))}return n.join("")},Rt.prototype.readUB=function(t){for(var e=this,r=0,a=0;t>a;a++)8===e.bit_offset&&(e.bit_buffer=e.readNumber(1),e.bit_offset=0),r|=(e.bit_buffer&1<<e.bit_offset++?1:0)<<a;return r},Rt.prototype.readNumber=function(t){for(var e=this,r=0,a=e.byte_offset,n=a+t;n>a;)r=r<<8|e.data[--n];return e.byte_offset+=t,r},Rt.prototype.deCompress=function(t,e){var r,a,n=this,o=0,i=n.createArray(t),s=n.byte_offset;n.byte_offset=0;var l,c=n.getData(s);for(l="ZLIB"===e?x(n.data,!0):C(n.data),n.data=null,r=c.length,a=0;r>a;a++)i[o++]=c[a];for(r=l.length,a=0;r>a;a++)i[o++]=l[a];n.data=i,n.byte_offset=s};var Zt=function(){var t=this;t.matrix=a([1,0,0,1,0,0]),t.colorTransform=a([1,1,1,1,0,0,0,0]),t.filters=null,t.blendMode="normal"};Zt.prototype.clone=function(){var t=this,e=new Zt;return e.setMatrix(t.getMatrix()),e.setColorTransform(t.getColorTransform()),e.setFilters(t.getFilters()),e.setBlendMode(t.getBlendMode()),e},Zt.prototype.getMatrix=function(){return this.matrix},Zt.prototype.setMatrix=function(t){this.matrix=a(t)},Zt.prototype.getColorTransform=function(){return this.colorTransform},Zt.prototype.setColorTransform=function(t){this.colorTransform=a(t)},Zt.prototype.getFilters=function(){return this.filters},Zt.prototype.setFilters=function(t){this.filters=t},Zt.prototype.getBlendMode=function(){return this.blendMode},Zt.prototype.setBlendMode=function(t){this.blendMode=y(t)};var Nt=function(t,e){var r=this;r.stage=t,r.bitio=e,r.currentPosition={x:0,y:0},r.jpegTables=null};Nt.prototype.parse=function(t){var e=this,r=e.bitio.data.length;return e.parseTags(r,t.characterId)},Nt.prototype.build=function(t,e){var r=this,a=t.length;if(a){var n=r.showFrame,o=[];for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];n.call(r,s,e,o)}}},Nt.prototype.showFrame=function(t,e,r){var a,n,o=this,i=o.buildTag,s=[],l=t.frame,c=o.stage;l in r||(r[l]=[]),e.setTotalFrames(X(e.getTotalFrames(),l));var g=t.actionScript;if(g.length)for(a in g)g.hasOwnProperty(a)&&e.setActions(l,g[a]);
var p=t.labels;if(p.length)for(a in p)if(p.hasOwnProperty(a)){var u=p[a];e.addLabel(u.frame,u.name)}var f=t.sounds;if(f.length)for(a in f)f.hasOwnProperty(a)&&e.addSound(l,f[a]);var h=t.cTags;if(h.length)for(a in h)h.hasOwnProperty(a)&&(n=h[a],s[n.Depth]=!0,i.call(o,l,n,e,r));var d=t.removeTags;if(d.length){e.setRemoveTag(l,d);for(a in d)if(d.hasOwnProperty(a)){var v=d[a];s[v.Depth]=!0}}if(l>1){var y=l-1,b=e.container;if(y in b){var m=b[y];l in b||(b[l]=[]);var S=m.length;if(S)for(var I=e.instanceId,C=0;S>C;C++)C in m&&!(C in s)&&(b[l][C]=m[C],c.copyPlaceObject(I,C,l),r[l][C]=r[y][C])}}},Nt.prototype.buildTag=function(t,e,a,n){var o=this,i=r,s=a.container;t in s||(s[t]=[]);var l=!0;if(e.PlaceFlagMove){var c=n[t-1][e.Depth];void 0!==c&&(e.PlaceFlagHasCharacter?e.CharacterId!==c.CharacterId&&(l=!1):(e.PlaceFlagHasCharacter=c.PlaceFlagHasCharacter,e.CharacterId=c.CharacterId),!e.PlaceFlagHasMatrix&&c.PlaceFlagHasMatrix&&(e.PlaceFlagHasMatrix=c.PlaceFlagHasMatrix,e.Matrix=c.Matrix),!e.PlaceFlagHasColorTransform&&c.PlaceFlagHasColorTransform&&(e.PlaceFlagHasColorTransform=c.PlaceFlagHasColorTransform,e.ColorTransform=c.ColorTransform),!e.PlaceFlagHasClipDepth&&c.PlaceFlagHasClipDepth&&(e.PlaceFlagHasClipDepth=c.PlaceFlagHasClipDepth,e.ClipDepth=c.ClipDepth),!e.PlaceFlagHasClipActions&&c.PlaceFlagHasClipActions&&(e.PlaceFlagHasClipActions=c.PlaceFlagHasClipActions,e.ClipActionRecords=c.ClipActionRecords),e.PlaceFlagHasRatio||l||(e.PlaceFlagHasRatio=1,e.Ratio=t-1),!e.PlaceFlagHasFilterList&&c.PlaceFlagHasFilterList&&(e.PlaceFlagHasFilterList=c.PlaceFlagHasFilterList,e.SurfaceFilterList=c.SurfaceFilterList),!e.PlaceFlagHasBlendMode&&c.PlaceFlagHasBlendMode&&(e.PlaceFlagHasBlendMode=c.PlaceFlagHasBlendMode,e.BlendMode=c.BlendMode))}n[t][e.Depth]=i(e);var g=o.buildObject(e,a,l,t);if(g){var p=o.stage,u=o.buildPlaceObject(e);p.setPlaceObject(u,a.instanceId,e.Depth,t),s[t][e.Depth]=g.instanceId}},Nt.prototype.buildObject=function(t,e,r,a){var n=this,o=n.stage,i=o.getCharacter(t.CharacterId),s=i.tagType,l=!1;(46===s||84===s)&&(l=!0);var c={};if(!l&&t.PlaceFlagMove&&r){var g=e.container[a-1][t.Depth];c=o.getInstance(g)}else{if(i instanceof Array)c=n.buildMovieClip(t,i,e);else switch(s){case 11:case 33:c=n.buildText(t,i);break;case 37:c=n.buildTextField(t,i,e);break;case 2:case 22:case 32:case 83:c=n.buildShape(t,i);break;case 46:case 84:var p=n.buildMorphShape(i,t.Ratio);p.tagType=s,c=n.buildShape(t,p);break;case 7:case 34:c=n.buildButton(i,t,e);break;default:return 0}c.setParent(e),c.setStage(o),c.setCharacterId(t.CharacterId),c.setRatio(t.Ratio||0),c.setLevel(t.Depth)}return t.PlaceFlagHasClipDepth&&(c.isClipDepth=!0,c.clipDepth=t.ClipDepth),c},Nt.prototype.buildPlaceObject=function(t){var e=new Zt;return t.PlaceFlagHasMatrix&&e.setMatrix(t.Matrix),t.PlaceFlagHasColorTransform&&e.setColorTransform(t.ColorTransform),t.PlaceFlagHasFilterList&&e.setFilters(t.SurfaceFilterList),t.PlaceFlagHasBlendMode&&e.setBlendMode(t.BlendMode),e},Nt.prototype.buildMovieClip=function(t,e,r){var a=this,n=a.stage,o=new be;o.setStage(n),o._url=r._url;var i="instance"+o.instanceId;if(t.PlaceFlagHasName&&(o.setName(t.Name),i=t.Name),o.setTarget(r.getTarget()+"/"+i),a.build(e,o),t.PlaceFlagHasClipActions)for(var s,l=t.ClipActionRecords,c=l.length,g=0;c>g;g++){var p=l[g],u=p.EventFlags;for(s in u)if(u.hasOwnProperty(s)&&u[s]){var f=v(o,p.Actions);o.addEventListener(s,f)}}var h=n.initMovieClip[t.CharacterId];return h&&(o.variables=h.variables),o},Nt.prototype.buildTextField=function(t,e,r){var a=this,n=a.stage,o=new ve;o.setStage(n),o.setParent(r),o.setInitParams(),o.setTagType(e.tagType),o.setBounds(e.bounds);var i="instance"+o.instanceId;t.PlaceFlagHasName&&(o.setName(t.Name),i=t.Name),o.setTarget(r.getTarget()+"/"+i);var s=e.data,l={},c=null,g=s.FontID;s.HasFont&&(c=n.getCharacter(g)),o.fontId=g,o.fontScale=s.FontHeight/1024,c&&c.ZoneTable&&(o.fontScale/=20),o.initialText=s.InitialText,l.autoSize=s.AutoSize,l.border=s.Border,l.bottomScroll=1,l.condenseWhite=0,l.embedFonts=s.HasFont&&s.UseOutlines&&c.FontFlagsHasLayout&&!s.Password?1:0,l.hscroll=0,l.maxscroll=0,l.scroll=0,l.maxhscroll=0,l.html=s.HTML,l.htmlText=null,l.length=0,l.maxChars=0,l.multiline=s.Multiline,l.password=s.Password,l.selectable=s.NoSelect,l.tabEnabled=0,l.tabIndex=0,l.text=s.InitialText,l.textColor=s.TextColor,l.textHeight=0,l.textWidth=0,l.type=s.ReadOnly?"dynamic":"input";var p=s.VariableName;if(l.variable=p,p&&r.setVariable(p,s.InitialText),l.wordWrap=s.WordWrap,l.blockIndent=0,l.bullet=0,c){l.bold=c.FontFlagsBold;var u=o.getVariable("font");l.font="'"+c.FontName+"', "+u,l.italic=c.FontFlagsItalic}if(s.HasLayout){switch(s.Align){case 1:l.align="right";break;case 2:l.align="center";break;case 3:l.align="justify"}l.leftMargin=s.LeftMargin,l.rightMargin=s.RightMargin,l.indent=s.Indent,l.leading=s.Leading}l.size=s.FontHeight/20,l.tabStops=[],l.target=null,l.underline=0,l.url=null;for(var f in l)l.hasOwnProperty(f)&&o.setProperty(f,l[f]);return"input"===l.type&&o.setInputElement(),o},Nt.prototype.buildText=function(t,e){var r=this,a=r.stage,n=new he;n.setTagType(e.tagType),n.setBounds(e.bounds);for(var o=e.textRecords,i=o.length,s=0,l=0,c=1,g=0,p=null,u=e.matrix,f=null,h=!1,d=0;i>d;d++){var v=o[d];if("FontId"in v){var y=v.FontId,b=a.getCharacter(y);p=b.GlyphShapeTable,h=!1,"ZoneTable"in b&&(h=!0)}"XOffset"in v&&(s=v.XOffset),"YOffset"in v&&(l=v.YOffset),"TextColor"in v&&(f=v.TextColor),"TextHeight"in v&&(g=v.TextHeight,h&&(g/=20));var m=v.GlyphEntries,S=v.GlyphCount;c=g/1024;for(var I=0;S>I;I++){var C=m[I],x=p[C.GlyphIndex],A=Ot.convert(x),M=[c,u[1],u[2],c,u[4]+s,u[5]+l],F=new fe;F.setData(A),F.setColor(f),F.setMatrix(M),n.addRecord(F),s+=C.GlyphAdvance}}return n},Nt.prototype.buildShape=function(t,e){var r=new ue;return r.setTagType(e.tagType),r.setBounds(e.bounds),r.setData(e.data),r},Nt.prototype.buildButton=function(t,e,r){var a=this,n=a.stage,o=t.characters,i=new ye;i.setStage(n),i.setParent(r),i.setLevel(e.Depth),"actions"in t&&i.setActions(t.actions);var s="instance"+i.instanceId;e.PlaceFlagHasName&&(i.setName(e.Name),s=e.Name),i.setTarget(r.getTarget()+"/"+s);var l=i.getSprite("down");t.ButtonStateDownSoundId&&(l.soundId=t.ButtonStateDownSoundId,l.soundInfo=t.ButtonStateDownSoundInfo);var c=i.getSprite("hit");t.ButtonStateHitTestSoundId&&(c.soundId=t.ButtonStateHitTestSoundId,c.soundInfo=t.ButtonStateHitTestSoundInfo);var g=i.getSprite("over");t.ButtonStateOverSoundId&&(g.soundId=t.ButtonStateOverSoundId,g.soundInfo=t.ButtonStateOverSoundInfo);var p=i.getSprite("up");t.ButtonStateUpSoundId&&(p.soundId=t.ButtonStateUpSoundId,p.soundInfo=t.ButtonStateUpSoundInfo);for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];for(var h in f)if(f.hasOwnProperty(h)){var d=f[h],v=a.buildObject(d,i,!1,1),y=a.buildPlaceObject(d),b=d.Depth;d.ButtonStateDown&&(l.addTag(b,v),n.setPlaceObject(y,l.instanceId,b,0)),d.ButtonStateHitTest&&(c.addTag(b,v),n.setPlaceObject(y,c.instanceId,b,0)),d.ButtonStateOver&&(g.addTag(b,v),n.setPlaceObject(y,g.instanceId,b,0)),d.ButtonStateUp&&(p.addTag(b,v),n.setPlaceObject(y,p.instanceId,b,0))}}return i.setSprite("down",l),i.setSprite("hit",c),i.setSprite("over",g),i.setSprite("up",p),i.setTagType(t.tagType),i},Nt.prototype.generateDefaultTagObj=function(t,e){return{frame:t,characterId:e,cTags:[],removeTags:[],actionScript:[],labels:[],sounds:[]}},Nt.prototype.parseTags=function(t,e){var r=this,a=r.parseTag,n=r.addTag,o=r.generateDefaultTagObj,i=1,s=[],l=0,c=r.bitio;for(s[i]=o.call(r,i,e);c.byte_offset<t;){var g=c.byte_offset;if(g+2>t)break;var p=c.getUI16();l=p>>6;var u=63&p;if(63===u){if(g+6>t){c.byte_offset=g,c.bit_offset=0;break}u=c.getUI32()}var f=c.byte_offset;1===l&&(i++,t>f+2&&(s[i]=o.call(r,i,e)));var h=a.call(r,l,u),d=c.byte_offset-f;if(d!==u&&u>d){var v=u-d;v>0&&(c.byte_offset+=v)}h&&(s=n.call(r,l,s,h,i)),c.bit_offset=0}return s},Nt.prototype.parseTag=function(t,e){var r=this,a=null,n=r.bitio,o=r.stage;switch(t){case 0:break;case 1:break;case 2:case 22:case 32:case 83:10>e?n.byte_offset+=e:r.parseDefineShape(t);break;case 9:o.setBackgroundColor(n.getUI8(),n.getUI8(),n.getUI8());break;case 10:case 48:case 75:r.parseDefineFont(t,e);break;case 13:case 62:r.parseDefineFontInfo(t,e);break;case 11:case 33:r.parseDefineText(t);break;case 4:case 26:case 70:a=r.parsePlaceObject(t,e);break;case 37:r.parseDefineEditText(t);break;case 39:r.parseDefineSprite(n.byte_offset+e);break;case 12:a=r.parseDoAction(e);break;case 59:r.parseDoInitAction(e);break;case 5:case 28:a=r.parseRemoveObject(t);break;case 7:case 34:a=r.parseDefineButton(t,e);break;case 43:a=r.parseFrameLabel();break;case 88:r.parseDefineFontName();break;case 20:case 36:r.parseDefineBitsLossLess(t,e);break;case 6:case 21:case 35:case 90:r.parseDefineBits(t,e,r.jpegTables);break;case 8:r.jpegTables=r.parseJPEGTables(e);break;case 56:r.parseExportAssets();break;case 46:case 84:r.parseDefineMorphShape(t);break;case 40:n.getDataUntil("\x00");break;case 24:n.byteAlign();break;case 64:n.getUI16();var i=n.getDataUntil("\x00");ot.log("Password",i);break;case 69:r.parseFileAttributes();break;case 77:n.getDataUntil("\x00");break;case 86:a=r.parseDefineSceneAndFrameLabelData();break;case 18:case 45:a=r.parseSoundStreamHead(t);break;case 72:case 82:a=r.parseDoABC(t,e);break;case 76:a=r.parseSymbolClass();break;case 14:r.parseDefineSound(t,e);break;case 15:case 89:a=r.parseStartSound(t);break;case 17:r.parseDefineButtonSound();break;case 73:r.parseDefineFontAlignZones();break;case 74:r.parseCSMTextSettings(t);break;case 19:r.parseSoundStreamBlock(t,e);break;case 60:r.parseDefineVideoStream(t);break;case 61:r.parseVideoFrame(t,e);break;case 78:r.parseDefineScalingGrid();break;case 3:case 16:case 23:case 25:case 29:case 31:case 38:case 41:case 42:case 44:case 47:case 49:case 52:case 53:case 54:case 55:case 57:case 58:case 63:case 65:case 66:case 71:case 87:case 91:case 93:ot.log("[base] tagType -> "+t);break;case 27:case 30:case 67:case 68:case 79:case 80:case 81:case 85:case 92:}return a},Nt.prototype.addTag=function(t,e,r,a){var n=e[a];switch(t){case 4:case 26:case 70:var o=n.cTags;n.cTags[o.length]=r;break;case 12:var i=n.actionScript;n.actionScript[i.length]=r;break;case 5:case 28:var s=n.removeTags;n.removeTags[s.length]=r;break;case 43:var l=n.labels;r.frame=a,n.labels[l.length]=r;break;case 15:case 89:var c=n.sounds;n.sounds[c.length]=r}return e},Nt.prototype.parseDefineShape=function(t){var e=this,r=e.bitio,a=r.getUI16(),n=e.rect();if(83===t){var o={};o.EdgeBounds=e.rect(),r.getUIBits(5),o.UsesFillWindingRule=r.getUIBits(1),o.UsesNonScalingStrokes=r.getUIBits(1),o.UsesScalingStrokes=r.getUIBits(1)}var i=e.shapeWithStyle(t);e.appendShapeTag(a,n,i,t)},Nt.prototype.rect=function(){var t=this.bitio;t.byteAlign();var e=t.getUIBits(5);return{xMin:t.getSIBits(e),xMax:t.getSIBits(e),yMin:t.getSIBits(e),yMax:t.getSIBits(e)}},Nt.prototype.shapeWithStyle=function(t){var e,r,a=this,n=a.bitio;46===t||84===t?(e={fillStyleCount:0,fillStyles:[]},r={lineStyleCount:0,lineStyles:[]}):(e=a.fillStyleArray(t),r=a.lineStyleArray(t));var o=n.getUI8(),i=o>>4,s=15&o,l=a.shapeRecords(t,{FillBits:i,LineBits:s});return{fillStyles:e,lineStyles:r,ShapeRecords:l}},Nt.prototype.fillStyleArray=function(t){var e=this,r=e.bitio,a=r.getUI8();t>2&&255===a&&(a=r.getUI16());for(var n=[],o=a;o--;)n[n.length]=e.fillStyle(t);return{fillStyleCount:a,fillStyles:n}},Nt.prototype.fillStyle=function(t){var e=this,r=e.bitio,a={},n=r.getUI8();switch(a.fillStyleType=n,n){case 0:32===t||83===t?a.Color=e.rgba():46===t||84===t?(a.StartColor=e.rgba(),a.EndColor=e.rgba()):a.Color=e.rgb();break;case 16:case 18:46===t||84===t?(a.startGradientMatrix=e.matrix(),a.endGradientMatrix=e.matrix(),a.gradient=e.gradient(t)):(a.gradientMatrix=e.matrix(),a.gradient=e.gradient(t));break;case 19:a.gradientMatrix=e.matrix(),a.gradient=e.focalGradient(t);break;case 64:case 65:case 66:case 67:a.bitmapId=r.getUI16(),46===t||84===t?(a.startBitmapMatrix=e.matrix(),a.endBitmapMatrix=e.matrix()):a.bitmapMatrix=e.matrix()}return a},Nt.prototype.rgb=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:1}},Nt.prototype.rgba=function(){var t=this.bitio;return{R:t.getUI8(),G:t.getUI8(),B:t.getUI8(),A:t.getUI8()/255}},Nt.prototype.matrix=function(){var t=this.bitio;t.byteAlign();var e=[1,0,0,1,0,0];if(t.getUIBit()){var r=t.getUIBits(5);e[0]=t.getSIBits(r)/65536,e[3]=t.getSIBits(r)/65536}if(t.getUIBit()){var a=t.getUIBits(5);e[1]=t.getSIBits(a)/65536,e[2]=t.getSIBits(a)/65536}var n=t.getUIBits(5);return e[4]=t.getSIBits(n),e[5]=t.getSIBits(n),e},Nt.prototype.gradient=function(t){var e,r=this,a=0,n=0,o=this.bitio;o.byteAlign(),46===t||84===t?e=o.getUI8():(a=o.getUIBits(2),n=o.getUIBits(2),e=o.getUIBits(4));for(var i=[],s=e;s--;)i[i.length]=r.gradientRecord(t);return{SpreadMode:a,InterpolationMode:n,GradientRecords:i}},Nt.prototype.gradientRecord=function(t){var e=this,r=e.bitio;if(46===t||84===t)return{StartRatio:r.getUI8()/255,StartColor:e.rgba(),EndRatio:r.getUI8()/255,EndColor:e.rgba()};var a=r.getUI8(),n=32>t?e.rgb():e.rgba();return{Ratio:a/255,Color:n}},Nt.prototype.focalGradient=function(t){var e=this.bitio;e.byteAlign();for(var r=this,a=e.getUIBits(2),n=e.getUIBits(2),o=e.getUIBits(4),i=[],s=o;s--;)i[i.length]=r.gradientRecord(t);var l=e.getFloat16();return{SpreadMode:a,InterpolationMode:n,GradientRecords:i,FocalPoint:l}},Nt.prototype.lineStyleArray=function(t){var e=this,r=e.bitio,a=r.getUI8();t>2&&255===a&&(a=r.getUI16());for(var n=[],o=a;o--;)n[n.length]=e.lineStyles(t);return{lineStyleCount:a,lineStyles:n}},Nt.prototype.lineStyles=function(t){var e=this,r=e.bitio,a={};return a.fillStyleType=0,46===t?a={StartWidth:r.getUI16(),EndWidth:r.getUI16(),StartColor:e.rgba(),EndColor:e.rgba()}:84===t?(a.StartWidth=r.getUI16(),a.EndWidth=r.getUI16(),a.StartCapStyle=r.getUIBits(2),a.JoinStyle=r.getUIBits(2),a.HasFillFlag=r.getUIBit(),a.NoHScaleFlag=r.getUIBit(),a.NoVScaleFlag=r.getUIBit(),a.PixelHintingFlag=r.getUIBit(),r.getUIBits(5),a.NoClose=r.getUIBit(),a.EndCapStyle=r.getUIBits(2),2===a.JoinStyle&&(a.MiterLimitFactor=r.getUI16()),a.HasFillFlag?a.FillType=e.fillStyle(t):(a.StartColor=e.rgba(),a.EndColor=e.rgba())):(a.Width=r.getUI16(),83===t?(a.StartCapStyle=r.getUIBits(2),a.JoinStyle=r.getUIBits(2),a.HasFillFlag=r.getUIBit(),a.NoHScaleFlag=r.getUIBit(),a.NoVScaleFlag=r.getUIBit(),a.PixelHintingFlag=r.getUIBit(),r.getUIBits(5),a.NoClose=r.getUIBit(),a.EndCapStyle=r.getUIBits(2),2===a.JoinStyle&&(a.MiterLimitFactor=r.getUI16()),a.HasFillFlag?a.FillType=e.fillStyle(t):a.Color=e.rgba()):32===t?a.Color=e.rgba():a.Color=e.rgb()),a},Nt.prototype.shapeRecords=function(t,e){var r=this,a=r.bitio,n=[];r.currentPosition={x:0,y:0};for(var o=r.straightEdgeRecord,i=r.curvedEdgeRecord,s=r.styleChangeRecord;;){var l=a.getUIBits(6),c=0;if(32&l){var g=15&l;c=16&l?o.call(r,t,g):i.call(r,t,g)}else l&&(c=s.call(r,t,l,e));if(n[n.length]=c,!c){a.byteAlign();break}}return n},Nt.prototype.straightEdgeRecord=function(t,e){var r=this,a=r.bitio,n=0,o=0,i=a.getUIBit();if(i)n=a.getSIBits(e+2),o=a.getSIBits(e+2);else{var s=a.getUIBit();s?(n=0,o=a.getSIBits(e+2)):(n=a.getSIBits(e+2),o=0)}var l=n,c=o;return 46!==t&&84!==t&&(l=r.currentPosition.x+n,c=r.currentPosition.y+o,r.currentPosition.x=l,r.currentPosition.y=c),{ControlX:0,ControlY:0,AnchorX:l,AnchorY:c,isCurved:!1,isChange:!1}},Nt.prototype.curvedEdgeRecord=function(t,e){var r=this,a=r.bitio,n=a.getSIBits(e+2),o=a.getSIBits(e+2),i=a.getSIBits(e+2),s=a.getSIBits(e+2),l=n,c=o,g=i,p=s;return 46!==t&&84!==t&&(l=r.currentPosition.x+n,c=r.currentPosition.y+o,g=l+i,p=c+s,r.currentPosition.x=g,r.currentPosition.y=p),{ControlX:l,ControlY:c,AnchorX:g,AnchorY:p,isCurved:!0,isChange:!1}},Nt.prototype.styleChangeRecord=function(t,e,r){var a=this,n=a.bitio,o={};if(o.StateNewStyles=e>>4&1,o.StateLineStyle=e>>3&1,o.StateFillStyle1=e>>2&1,o.StateFillStyle0=e>>1&1,o.StateMoveTo=1&e,o.StateMoveTo){var i=n.getUIBits(5);o.MoveX=n.getSIBits(i),o.MoveY=n.getSIBits(i),a.currentPosition.x=o.MoveX,a.currentPosition.y=o.MoveY}if(o.FillStyle0=0,o.StateFillStyle0&&(o.FillStyle0=n.getUIBits(r.FillBits)),o.FillStyle1=0,o.StateFillStyle1&&(o.FillStyle1=n.getUIBits(r.FillBits)),o.LineStyle=0,o.StateLineStyle&&(o.LineStyle=n.getUIBits(r.LineBits)),o.StateNewStyles){o.FillStyles=a.fillStyleArray(t),o.LineStyles=a.lineStyleArray(t);var s=n.getUI8();r.FillBits=o.NumFillBits=s>>4,r.LineBits=o.NumLineBits=15&s}return o.isChange=!0,o},Nt.prototype.appendShapeTag=function(t,e,r,a){var n=this.stage;n.setCharacter(t,{tagType:a,data:Ot.convert(r,!1),bounds:e})},Nt.prototype.parseDefineBitsLossLess=function(t,e){var r=this,a=r.bitio,n=r.stage,o=a.byte_offset,i=a.getUI16(),s=a.getUI8(),l=a.getUI16(),c=a.getUI16(),g=36===t,p=0;3===s&&(p=a.getUI8()+1);var u=a.byte_offset-o,f=a.getData(e-u),h=x(f,!1),d=Ht.getCanvas();d.width=l,d.height=c;var v=d.getContext("2d"),y=v.createImageData(l,c),b=y.data,m=0,S=0,I=l,C=c;if(5!==s||g){var A=g?4:3,M=p*A,F=0;for(p&&(F=(l+3&-4)-l),C=c;C--;){for(I=l;I--;)if(m=p?h[M++]*A:M++*A,g){var U=3===s?h[m+3]:h[m++];_t?(b[S++]=h[m++],b[S++]=h[m++],b[S++]=h[m++]):(b[S++]=255*h[m++]/U,b[S++]=255*h[m++]/U,b[S++]=255*h[m++]/U),b[S++]=U,3===s&&m++}else b[S++]=h[m++],b[S++]=h[m++],b[S++]=h[m++],m++,b[S++]=255;M+=F}}else for(m=0,S=0,C=c;C--;)for(I=l;I--;)m++,b[S++]=h[m++],b[S++]=h[m++],b[S++]=h[m++],b[S++]=255;v.putImageData(y,0,0),n.setCharacter(i,v)},Nt.prototype.parseExportAssets=function(){for(var t=this,e=t.bitio,r=t.stage,a=e.getUI16(),n=r.exportAssets;a--;){var o=e.getUI16(),i=e.getDataUntil("\x00");n[i]=o}r.exportAssets=n},Nt.prototype.parseJPEGTables=function(t){return this.bitio.getData(t)},Nt.prototype.parseDefineBits=function(t,e,r){var a=this,n=a.bitio,o=n.byte_offset,i=n.getUI16(),s=n.byte_offset-o,l=e-s;if((35===t||90===t)&&(l=n.getUI32()),90===t){var c=n.getUI16();ot.log("DeblockParam",c)}var g=n.getData(l),p=!1;(35===t||90===t)&&(p=n.getData(e-s-l)),n.byte_offset=o+e;var u=a.stage;u.imgUnLoadCount++;var f=T.createElement("img");if(f.onload=function(){var t=this.width,e=this.height,r=Ht.getCanvas();r.width=t,r.height=e;var a=r.getContext("2d");if(a.drawImage(this,0,0,t,e),p){for(var n=x(p,!1),o=a.getImageData(0,0,t,e),s=o.data,l=3,c=t*e,g=0;c>g;g++)s[l]=n[g],l+=4;a.putImageData(o,0,0)}u.setCharacter(i,a),u.imgUnLoadCount--},null!==r&&r.length>4){for(var h=[],d=r.length-2,v=0;d>v;v++)h[h.length]=r[v];for(d=g.length,v=2;d>v;v++)h[h.length]=g[v];g=h}f.src="data:image/jpeg;base64,"+a.base64encode(a.parseJpegData(g)),$(function(){},0)},Nt.prototype.parseJpegData=function(t){var e=0,r=0,a="",n=t.length;if(255===t[0]&&217===t[1]&&255===t[2]&&216===t[3])for(e=4;n>e;e++)a+=K(t[e]);else if(255===t[e++]&&216===t[e++]){for(r=0;e>r;r++)a+=K(t[r]);for(;n>e;)if(255===t[e]){if(217===t[e+1]&&255===t[e+2]&&216===t[e+3]){for(e+=4,r=e;n>r;r++)a+=K(t[r]);break}if(218===t[e+1]){for(r=e;n>r;r++)a+=K(t[r]);break}var o=(t[e+2]<<8)+t[e+3]+e+2;for(r=e;o>r;r++)a+=K(t[r]);e+=o-e}}return a},Nt.prototype.base64encode=function(e){if(it)return t.btoa(e);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=[],n=0,o=e.length;o>n;){var i=255&e.charCodeAt(n++);if(n===o){a[a.length]=r.charAt(i>>2),a[a.length]=r.charAt((3&i)<<4),a[a.length]="==";break}var s=e.charCodeAt(n++);if(n===o){a[a.length]=r.charAt(i>>2),a[a.length]=r.charAt((3&i)<<4|(240&s)>>4),a[a.length]=r.charAt((15&s)<<2),a[a.length]="=";break}var l=e.charCodeAt(n++);a[a.length]=r.charAt(i>>2),a[a.length]=r.charAt((3&i)<<4|(240&s)>>4),a[a.length]=r.charAt((15&s)<<2|(192&l)>>6),a[a.length]=r.charAt(63&l)}return a.join("")},Nt.prototype.parseDefineFont=function(t,r){var a=this,n=a.bitio,o=a.stage,i=n.byte_offset+r,s=0,l=0,c={};c.tagType=t,c.FontId=n.getUI16();var g=0;if(48===t||75===t){var p=n.getUI8();if(c.FontFlagsHasLayout=p>>>7&1,c.FontFlagsShiftJIS=p>>>6&1,c.FontFlagsSmallText=p>>>5&1,c.FontFlagsANSI=p>>>4&1,c.FontFlagsWideOffsets=p>>>3&1,c.FontFlagsWideCodes=p>>>2&1,c.FontFlagsItalic=p>>>1&1,c.FontFlagsBold=1&p,n.byteAlign(),c.LanguageCode=n.getUI8(),c.FontNameLen=n.getUI8(),c.FontNameLen){var u=n.byte_offset,f=n.getData(c.FontNameLen),h="";for(l=c.FontNameLen,s=0;l>s;s++)f[s]>127||(h+=K(f[s]));var d;d=c.FontFlagsShiftJIS||2===c.LanguageCode?e(h):decodeURIComponent(h),c.FontName=a.getFontName(d),n.byte_offset=u+c.FontNameLen}g=n.getUI16(),c.NumGlyphs=g}var v=n.byte_offset;if(10===t&&(g=n.getUI16()),g){var y=[];if(10===t&&(y[0]=g,g/=2,g--),c.FontFlagsWideOffsets){for(s=g;s--;)y[y.length]=n.getUI32();10!==t&&(c.CodeTableOffset=n.getUI32())}else{for(s=g;s--;)y[y.length]=n.getUI16();10!==t&&(c.CodeTableOffset=n.getUI16())}var b=[];for(10===t&&g++,s=0;g>s;s++){n.setOffset(y[s]+v,0);var m=n.getUI8(),S=m>>4,I=15&m,C={FillBits:S,LineBits:I},x={};x.ShapeRecords=a.shapeRecords(t,C),x.lineStyles={lineStyles:[{Color:{R:0,G:0,B:0,A:1},lineStyleType:0}]},x.fillStyles={fillStyles:[{Color:{R:0,G:0,B:0,A:1},fillStyleType:0}]},b[b.length]=x}if(c.GlyphShapeTable=b,48===t||75===t){n.setOffset(c.CodeTableOffset+v,0);var A=[];if(c.FontFlagsWideCodes)for(s=g;s--;)A[A.length]=n.getUI16();else for(s=g;s--;)A[A.length]=n.getUI8();if(c.CodeTable=A,c.FontFlagsHasLayout){c.FontAscent=n.getUI16(),c.FontDescent=n.getUI16(),c.FontLeading=n.getUI16();var M=[];for(s=g;s--;)M[M.length]=n.getUI16();c.FontAdvanceTable=M;var F=[];for(s=g;s--;)F[F.length]=a.rect();if(c.FontBoundsTable=F,75===t)for(c.KerningCount=n.getUI16(),c.KerningRecord=[],s=c.KerningCount;s--;){var U=c.FontFlagsWideCodes?n.getUI16():n.getUI8(),B=c.FontFlagsWideCodes?n.getUI16():n.getUI8(),k=n.getSIBits(16);c.KerningRecord[c.KerningRecord.length]={FontKerningCode1:U,FontKerningCode2:B,FontKerningAdjustment:k}}}}}n.byte_offset=i,o.setCharacter(c.FontId,c)},Nt.prototype.parseDefineFontInfo=function(t,r){var a=this,n=a.bitio,o=n.byte_offset+r,i={};i.tagType=t,i.FontId=n.getUI16();for(var s=n.getUI8(),l=n.getData(s),c="",g=0;s>g;g++)l[g]>127||(c+=K(l[g]));i.FontFlagsReserved=n.getUIBits(2),i.FontFlagsSmallText=n.getUIBits(1),i.FontFlagsShiftJIS=n.getUIBits(1),i.FontFlagsANSI=n.getUIBits(1),i.FontFlagsItalic=n.getUIBits(1),i.FontFlagsBold=n.getUIBits(1),i.FontFlagsWideCodes=n.getUIBits(1),62===t&&(i.LanguageCode=n.getUI8());var p;p=i.FontFlagsShiftJIS||2===i.LanguageCode?e(c):decodeURIComponent(c),i.FontName=a.getFontName(p);var u=[];n.byteAlign();var f=o-n.byte_offset;if(i.FontFlagsWideCodes||62===t)for(;f;)u[u.length]=n.getUI16(),f--,f--;else for(;f;)u[u.length]=n.getUI8(),f--;i.CodeTable=u},Nt.prototype.getFontName=function(t){var e=t.length,r=t.substr(e-1);switch(0===r.charCodeAt(0)&&(t=t.slice(0,-1)),t){case"_sans":return"sans-serif";case"_serif":return"serif";case"_typewriter":return"monospace";default:var a=t.substr(0,1);return"_"===a?"sans-serif":t}},Nt.prototype.parseDefineFontName=function(){var t=this.bitio;t.getUI16(),t.getDataUntil("\x00"),t.getDataUntil("\x00")},Nt.prototype.parseDefineText=function(t){var e=this,r=e.bitio,a=e.stage,n={},o=r.getUI16();n.tagType=t,n.bounds=e.rect(),n.matrix=e.matrix();var i=r.getUI8(),s=r.getUI8();n.textRecords=e.getTextRecords(t,i,s),a.setCharacter(o,n)},Nt.prototype.getTextRecords=function(t,e,r){for(var a=this,n=a.bitio,o=[];0!==n.getUI8();){n.incrementOffset(-1,0);var i={};i.TextRecordType=n.getUIBits(1),i.StyleFlagsReserved=n.getUIBits(3),i.StyleFlagsHasFont=n.getUIBits(1),i.StyleFlagsHasColor=n.getUIBits(1),i.StyleFlagsHasYOffset=n.getUIBits(1),i.StyleFlagsHasXOffset=n.getUIBits(1),i.StyleFlagsHasFont&&(i.FontId=n.getUI16()),i.StyleFlagsHasColor&&(11===t?i.TextColor=a.rgb():i.TextColor=a.rgba()),i.StyleFlagsHasXOffset&&(i.XOffset=n.getUI16()),i.StyleFlagsHasYOffset&&(i.YOffset=n.getUI16()),i.StyleFlagsHasFont&&(i.TextHeight=n.getUI16()),i.GlyphCount=n.getUI8(),i.GlyphEntries=a.getGlyphEntries(i.GlyphCount,e,r),o[o.length]=i}return o},Nt.prototype.getGlyphEntries=function(t,e,r){for(var a=this.bitio,n=[],o=t;o--;)n[n.length]={GlyphIndex:a.getUIBits(e),GlyphAdvance:a.getSIBits(r)};return n},Nt.prototype.parseDefineEditText=function(t){var e=this,r=e.bitio,a=e.stage,n={},o=!1;n.CharacterId=r.getUI16();var i=e.rect(),s=r.getUI8();n.HasText=s>>>7&1,n.WordWrap=s>>>6&1,n.Multiline=s>>>5&1,n.Password=s>>>4&1,n.ReadOnly=s>>>3&1,n.HasTextColor=s>>>2&1,n.HasMaxLength=s>>>1&1,n.HasFont=1&s;var l=r.getUI8();if(n.HasFontClass=l>>>7&1,n.AutoSize=l>>>6&1,n.HasLayout=l>>>5&1,n.NoSelect=l>>>4&1,n.Border=l>>>3&1,n.WasStatic=l>>>2&1,n.HTML=l>>>1&1,n.UseOutlines=1&l,n.HasFont){n.FontID=r.getUI16();var c=a.getCharacter(n.FontID);o=c.FontFlagsShiftJIS?!0:!1,n.HasFontClass&&(n.FontClass=r.getDataUntil("\x00")),n.FontHeight=r.getUI16()}n.HasTextColor&&(n.TextColor=e.rgba()),n.HasMaxLength&&(n.MaxLength=r.getUI16()),n.HasLayout&&(n.Align=r.getUI8(),n.LeftMargin=r.getUI16(),n.RightMargin=r.getUI16(),n.Indent=r.getUI16(),n.Leading=r.getUI16());var g=r.getDataUntil("\x00",o)+"";if(n.VariableName=""===g?null:g,n.InitialText="",n.HasText){var p=r.getDataUntil("\x00",o);if(n.HTML){-1!==p.indexOf("<sbr />")&&(p=p.replace(new RegExp("<sbr />","gi"),"\n"));var u=T.createElement("span");u.innerHTML=p;var f=u.getElementsByTagName("font");f.length&&(n.InitialText=f[0].innerHTML)}else n.InitialText=p}a.setCharacter(n.CharacterId,{data:n,bounds:i,tagType:t})},Nt.prototype.parseDefineMorphShape=function(t){var e=this,r=e.bitio,a=e.stage,n={};n.tagType=t,n.CharacterId=r.getUI16(),n.StartBounds=e.rect(),n.EndBounds=e.rect(),84===t&&(n.StartEdgeBounds=e.rect(),n.EndEdgeBounds=e.rect(),r.getUIBits(6),n.UsesNonScalingStrokes=r.getUIBits(1),n.UsesScalingStrokes=r.getUIBits(1));var o=r.getUI32(),i=r.byte_offset+o;n.MorphFillStyles=e.fillStyleArray(t),n.MorphLineStyles=e.lineStyleArray(t),n.StartEdges=e.shapeWithStyle(t),r.byte_offset!==i&&(r.byte_offset=i),n.EndEdges=e.shapeWithStyle(t);for(var s={x:0,y:0},l={x:0,y:0},c=n.StartEdges.ShapeRecords,g=n.EndEdges.ShapeRecords,p=c.length,u=g.length,f=X(p,u),h=0;f>h;h++){var d={},v=c[h],y=g[h];(v||y)&&(v.isChange||y.isChange?v.isChange&&!y.isChange?(d={FillStyle0:v.FillStyle0,FillStyle1:v.FillStyle1,LineStyle:v.LineStyle,StateFillStyle0:v.StateFillStyle0,StateFillStyle1:v.StateFillStyle1,StateLineStyle:v.StateLineStyle,StateMoveTo:v.StateMoveTo,StateNewStyles:v.StateNewStyles,isChange:!0},v.StateMoveTo&&(d.MoveX=l.x,d.MoveY=l.y,s.x=v.MoveX,s.y=v.MoveY),g.splice(h,0,d)):!v.isChange&&y.isChange?(d={FillStyle0:y.FillStyle0,FillStyle1:y.FillStyle1,LineStyle:y.LineStyle,StateFillStyle0:y.StateFillStyle0,StateFillStyle1:y.StateFillStyle1,StateLineStyle:y.StateLineStyle,StateMoveTo:y.StateMoveTo,StateNewStyles:y.StateNewStyles,isChange:!0},y.StateMoveTo&&(d.MoveX=s.x,d.MoveY=s.y,l.x=y.MoveX,l.y=y.MoveY),c.splice(h,0,d)):(v.StateMoveTo&&(s.x=v.MoveX,s.y=v.MoveY),y.StateMoveTo&&(l.x=y.MoveX,l.y=y.MoveY)):(v.isCurved?(s.x+=v.ControlX+v.AnchorX,s.y+=v.ControlY+v.AnchorY):(s.x+=v.AnchorX,s.y+=v.AnchorY),y.isCurved?(l.x+=y.ControlX+y.AnchorX,l.y+=y.ControlY+y.AnchorY):(l.x+=y.AnchorX,l.y+=y.AnchorY)))}var b=0,m=0;for(f=n.StartEdges.ShapeRecords.length,h=0;f>h;h++){var S=c[h];S.isChange&&(S.StateFillStyle0&&(m=S.FillStyle0),m?(S.StateFillStyle0=1,S.StateFillStyle1=1,b?(S.FillStyle0=0,S.FillStyle1=m):(S.FillStyle0=m,S.FillStyle1=0)):(S.StateFillStyle1=1,S.FillStyle1=0),b=b?0:1)}a.setCharacter(n.CharacterId,n)},Nt.prototype.buildMorphShape=function(t,e){for(var r=void 0===e?0:e/65535,n=1-r,o=[],i=t.MorphLineStyles,s=i.lineStyles,l=i.lineStyleCount,c=t.MorphFillStyles,g=c.fillStyles,p=c.fillStyleCount,u=t.StartEdges,f=u.ShapeRecords,h=t.EndEdges,d=h.ShapeRecords,v={lineStyles:{lineStyleCount:l,lineStyles:[]},fillStyles:{fillStyleCount:p,fillStyles:[]},ShapeRecords:[]},y={x:0,y:0},b=f.length,m=0;b>m;m++){var S=f[m];if(S){var I={},C=d[m];if(S.isChange){var x=0,A=0;1===S.StateMoveTo&&(x=S.MoveX*n+C.MoveX*r,A=S.MoveY*n+C.MoveY*r,y.x=x,y.y=A),I={FillStyle0:S.FillStyle0,FillStyle1:S.FillStyle1,LineStyle:S.LineStyle,MoveX:x,MoveY:A,StateFillStyle0:S.StateFillStyle0,StateFillStyle1:S.StateFillStyle1,StateLineStyle:S.StateLineStyle,StateMoveTo:S.StateMoveTo,StateNewStyles:S.StateNewStyles,isChange:!0}}else{var M=0,F=0,U=0,B=0,k=S.AnchorX,Y=S.AnchorY,T=C.AnchorX,_=C.AnchorY,w=S.ControlX,X=S.ControlY,D=C.ControlX,L=C.ControlY;r>0&&1>r&&S.isCurved!==C.isCurved&&(S.isCurved||(k=S.AnchorX/2,Y=S.AnchorY/2,w=k,X=Y),C.isCurved||(T=C.AnchorX/2,_=C.AnchorY/2,D=T,L=_)),U=w*n+D*r+y.x,B=X*n+L*r+y.y,M=k*n+T*r+U,F=Y*n+_*r+B,y.x=M,y.y=F,I={AnchorX:M,AnchorY:F,ControlX:U,ControlY:B,isChange:!1,isCurved:S.isCurved||C.isCurved}}o[m]=I}}o[o.length]=0,v.ShapeRecords=o;var O,E,H;for(m=0;l>m;m++){var R=s[m];O=R.EndColor,E=R.StartColor,H={R:P(E.R*n+O.R*r),G:P(E.G*n+O.G*r),B:P(E.B*n+O.B*r),A:E.A*n+O.A*r};var Z=s[m].EndWidth,N=s[m].StartWidth;v.lineStyles.lineStyles[m]={Width:P(N*n+Z*r),Color:H,fillStyleType:0}}for(m=0;p>m;m++){var j=g[m],V=j.fillStyleType;if(0===V)O=j.EndColor,E=j.StartColor,H={R:P(E.R*n+O.R*r),G:P(E.G*n+O.G*r),B:P(E.B*n+O.B*r),A:E.A*n+O.A*r},v.fillStyles.fillStyles[m]={Color:H,fillStyleType:V};else{for(var G=j.endGradientMatrix,W=j.startGradientMatrix,z=[W[0]*n+G[0]*r,W[1]*n+G[1]*r,W[2]*n+G[2]*r,W[3]*n+G[3]*r,W[4]*n+G[4]*r,W[5]*n+G[5]*r],K=[],q=j.gradient,J=q.GradientRecords,Q=J.length,$=0;Q>$;$++){var tt=J[$];O=tt.EndColor,E=tt.StartColor,H={R:P(E.R*n+O.R*r),G:P(E.G*n+O.G*r),B:P(E.B*n+O.B*r),A:E.A*n+O.A*r},K[$]={Color:H,Ratio:tt.StartRatio*n+tt.EndRatio*r}}v.fillStyles.fillStyles[m]={gradient:{GradientRecords:K},gradientMatrix:a(z),fillStyleType:V}}}var et=t.EndBounds,rt=t.StartBounds,at={xMax:rt.xMax*n+et.xMax*r,xMin:rt.xMin*n+et.xMin*r,yMax:rt.yMax*n+et.yMax*r,yMin:rt.yMin*n+et.yMin*r};return{data:Ot.convert(v,!0),bounds:at}},Nt.prototype.parseFrameLabel=function(){return{name:this.bitio.getDataUntil("\x00"),frame:0}},Nt.prototype.parseRemoveObject=function(t){var e=this.bitio;return 5===t?(ot.log("RemoveObject"),{CharacterId:e.getUI16(),Depth:e.getUI16()}):{Depth:e.getUI16()}},Nt.prototype.parseDefineButton=function(t,e){var r={};r.tagType=t;var a=this,n=a.bitio,o=a.stage,i=n.byte_offset+e;r.ButtonId=n.getUI16();var s=0;return 7!==t&&(r.ReservedFlags=n.getUIBits(7),r.TrackAsMenu=n.getUIBits(1),s=n.getUI16()),r.characters=a.buttonCharacters(),7===t?r.actions=a.parseDoAction(i-n.byte_offset):s>0&&(r.actions=a.buttonActions(i)),o.setCharacter(r.ButtonId,r),n.byte_offset!==i&&(n.byte_offset=i),r},Nt.prototype.buttonCharacters=function(){for(var t=[],e=this,r=e.bitio;0!==r.getUI8();){r.incrementOffset(-1,0);var a=e.buttonRecord(),n=a.Depth;a.Depth in t||(t[n]=[]),t[n].push(a)}return t},Nt.prototype.buttonRecord=function(){var t=this,e=t.bitio,r={};return e.getUIBits(2),r.PlaceFlagHasBlendMode=e.getUIBits(1),r.PlaceFlagHasFilterList=e.getUIBits(1),r.ButtonStateHitTest=e.getUIBits(1),r.ButtonStateDown=e.getUIBits(1),r.ButtonStateOver=e.getUIBits(1),r.ButtonStateUp=e.getUIBits(1),r.CharacterId=e.getUI16(),r.Depth=e.getUI16(),r.PlaceFlagHasMatrix=1,r.Matrix=t.matrix(),r.ColorTransform=t.colorTransform(),r.PlaceFlagHasColorTransform=void 0===r.ColorTransform?0:1,r.PlaceFlagHasBlendMode&&(r.BlendMode=e.getUI8()),r.PlaceFlagHasFilterList&&(r.SurfaceFilterList=t.getFilterList()),r.PlaceFlagHasRatio=0,r.PlaceFlagHasClipDepth=0,r.Sound=null,r},Nt.prototype.buttonActions=function(t){for(var e=this,r=e.bitio,a=[];;){var n={},o=r.byte_offset,i=r.getUI16();n.CondIdleToOverDown=r.getUIBits(1),n.CondOutDownToIdle=r.getUIBits(1),n.CondOutDownToOverDown=r.getUIBits(1),n.CondOverDownToOutDown=r.getUIBits(1),n.CondOverDownToOverUp=r.getUIBits(1),n.CondOverUpToOverDown=r.getUIBits(1),n.CondOverUpToIdle=r.getUIBits(1),n.CondIdleToOverUp=r.getUIBits(1),n.CondKeyPress=r.getUIBits(7),n.CondOverDownToIdle=r.getUIBits(1);var s=t-r.byte_offset+1;if(n.ActionScript=e.parseDoAction(s),a[a.length]=n,!i)break;r.byte_offset=o+i}return a},Nt.prototype.parsePlaceObject=function(t,e){var r=this,a=r.bitio,n=r.stage,o={};o.tagType=t;var i=a.byte_offset;if(4===t)o.CharacterId=a.getUI16(),o.Depth=a.getUI16(),o.Matrix=r.matrix(),o.PlaceFlagHasMatrix=1,a.byteAlign(),a.byte_offset-i<e&&(o.ColorTransform=r.colorTransform(),o.PlaceFlagHasColorTransform=1);else if(o.PlaceFlagHasClipActions=a.getUIBits(1),n.getVersion()<5&&(o.PlaceFlagHasClipActions=0),o.PlaceFlagHasClipDepth=a.getUIBits(1),
o.PlaceFlagHasName=a.getUIBits(1),o.PlaceFlagHasRatio=a.getUIBits(1),o.PlaceFlagHasColorTransform=a.getUIBits(1),o.PlaceFlagHasMatrix=a.getUIBits(1),o.PlaceFlagHasCharacter=a.getUIBits(1),o.PlaceFlagMove=a.getUIBits(1),70===t&&(a.getUIBits(1),o.PlaceFlagOpaqueBackground=a.getUIBits(1),o.PlaceFlagHasVisible=a.getUIBits(1),o.PlaceFlagHasImage=a.getUIBits(1),o.PlaceFlagHasClassName=a.getUIBits(1),o.PlaceFlagHasCacheAsBitmap=a.getUIBits(1),o.PlaceFlagHasBlendMode=a.getUIBits(1),o.PlaceFlagHasFilterList=a.getUIBits(1)),o.Depth=a.getUI16(),(o.PlaceFlagHasClassName||o.PlaceFlagHasImage&&o.PlaceFlagHasCharacter)&&(o.ClassName=a.getDataUntil("\x00")),o.PlaceFlagHasCharacter&&(o.CharacterId=a.getUI16()),o.PlaceFlagHasMatrix&&(o.Matrix=r.matrix()),o.PlaceFlagHasColorTransform&&(o.ColorTransform=r.colorTransform()),o.PlaceFlagHasRatio&&(o.Ratio=a.getUI16()),o.PlaceFlagHasName&&(o.Name=a.getDataUntil("\x00")),o.PlaceFlagHasClipDepth&&(o.ClipDepth=a.getUI16()),70===t&&(o.PlaceFlagHasFilterList&&(o.SurfaceFilterList=r.getFilterList()),o.PlaceFlagHasBlendMode&&(o.BlendMode=a.getUI8()),o.PlaceFlagHasCacheAsBitmap&&(o.BitmapCache=a.getUI8()),o.PlaceFlagHasVisible&&(o.Visible=a.getUI8(),o.BackgroundColor=r.rgba())),o.PlaceFlagHasClipActions){a.getUI16(),o.AllEventFlags=r.parseClipEventFlags();for(var s=i+e,l=[];a.byte_offset<s;){var c=r.parseClipActionRecord(s);if(l[l.length]=c,s<=a.byte_offset)break;var g=n.getVersion()<=5?a.getUI16():a.getUI32();if(!g)break;n.getVersion()<=5?a.byte_offset-=2:a.byte_offset-=4,c.KeyCode&&(a.byte_offset-=1)}o.ClipActionRecords=l}return a.byteAlign(),a.byte_offset=i+e,o},Nt.prototype.parseClipActionRecord=function(t){var e=this,r=e.bitio,a={},n=e.parseClipEventFlags();if(t>r.byte_offset){var o=r.getUI32();n.keyPress&&(a.KeyCode=r.getUI8()),a.EventFlags=n,a.Actions=e.parseDoAction(o)}return a},Nt.prototype.parseClipEventFlags=function(){var t=this,e={},r=t.bitio,a=t.stage;return e.keyUp=r.getUIBits(1),e.keyDown=r.getUIBits(1),e.mouseUp=r.getUIBits(1),e.mouseDown=r.getUIBits(1),e.mouseMove=r.getUIBits(1),e.unload=r.getUIBits(1),e.enterFrame=r.getUIBits(1),e.load=r.getUIBits(1),a.getVersion()>=6&&(e.dragOver=r.getUIBits(1),e.rollOut=r.getUIBits(1),e.rollOver=r.getUIBits(1),e.releaseOutside=r.getUIBits(1),e.release=r.getUIBits(1),e.press=r.getUIBits(1),e.initialize=r.getUIBits(1)),e.data=r.getUIBits(1),a.getVersion()>=6&&(r.getUIBits(5),e.construct=r.getUIBits(1),e.keyPress=r.getUIBits(1),e.dragOut=r.getUIBits(1),r.getUIBits(8)),r.byteAlign(),e},Nt.prototype.getFilterList=function(){for(var t=this,e=t.bitio,r=[],a=t.getFilter,n=e.getUI8(),o=0;n>o;o++){var i=a.call(t);i&&(r[r.length]=i)}return r.length?r:null},Nt.prototype.getFilter=function(){var t,e=this,r=e.bitio,a=r.getUI8();switch(a){case 0:t=e.dropShadowFilter();break;case 1:t=e.blurFilter();break;case 2:t=e.glowFilter();break;case 3:t=e.bevelFilter();break;case 4:t=e.gradientGlowFilter();break;case 5:t=e.convolutionFilter();break;case 6:t=e.colorMatrixFilter();break;case 7:t=e.gradientBevelFilter()}return t},Nt.prototype.dropShadowFilter=function(){var t=this,e=t.bitio,r=t.rgba(),a=r.A,n=r.R<<16|r.G<<8|r.B,o=e.getUI32()/65536,i=e.getUI32()/65536,s=e.getUI32()/65536*180/W,l=e.getUI32()/65536,c=e.getFloat16()/256,g=e.getUIBits(1)?!0:!1,p=e.getUIBits(1)?!0:!1,u=e.getUIBits(1)?!1:!0,f=e.getUIBits(5);return c?new Wt(l,s,n,a,o,i,c,f,g,p,u):null},Nt.prototype.blurFilter=function(){var t=this.bitio,e=t.getUI32()/65536,r=t.getUI32()/65536,a=t.getUIBits(5);return t.getUIBits(3),new Gt(e,r,a)},Nt.prototype.glowFilter=function(){var t=this,e=t.bitio,r=t.rgba(),a=r.A,n=r.R<<16|r.G<<8|r.B,o=e.getUI32()/65536,i=e.getUI32()/65536,s=e.getFloat16()/256,l=e.getUIBits(1)?!0:!1,c=e.getUIBits(1)?!0:!1;e.getUIBits(1);var g=e.getUIBits(5);return s?new zt(n,a,o,i,s,g,l,c):null},Nt.prototype.bevelFilter=function(){var t,e=this,r=e.bitio;t=e.rgba();var a=t.A,n=t.R<<16|t.G<<8|t.B;t=e.rgba();var o=t.A,i=t.R<<16|t.G<<8|t.B,s=r.getUI32()/65536,l=r.getUI32()/65536,c=r.getUI32()/65536*180/W,g=r.getUI32()/65536,p=r.getFloat16()/256,u=r.getUIBits(1)?!0:!1,f=r.getUIBits(1)?!0:!1;r.getUIBits(1);var h=r.getUIBits(1),d=r.getUIBits(4),v="inner";return u||(v=h?"full":"outer"),p?new Kt(g,c,n,a,i,o,s,l,p,d,v,f):null},Nt.prototype.gradientGlowFilter=function(){var t,e=this,r=e.bitio,a=r.getUI8(),n=[],o=[];for(t=0;a>t;t++){var i=e.rgba();o[o.length]=i.A,n[n.length]=i.R<<16|i.G<<8|i.B}var s=[];for(t=0;a>t;t++)s[s.length]=r.getUI8();var l=r.getUI32()/65536,c=r.getUI32()/65536,g=r.getUI32()/65536*180/W,p=r.getUI32()/65536,u=r.getFloat16()/256,f=r.getUIBits(1)?!0:!1,h=r.getUIBits(1)?!0:!1;r.getUIBits(1);var d=r.getUIBits(1),v=r.getUIBits(4),y="inner";return f||(y=d?"full":"outer"),u?new qt(p,g,n,o,s,l,c,u,v,y,h):null},Nt.prototype.convolutionFilter=function(){var t=this,e=t.bitio,r={};r.MatrixX=e.getUI8(),r.MatrixY=e.getUI8(),r.Divisor=e.getFloat16()|e.getFloat16(),r.Bias=e.getFloat16()|e.getFloat16();for(var a=r.MatrixX*r.MatrixY,n=[];a--;)n[n.length]=e.getUI32();return r.DefaultColor=t.rgba(),e.getUIBits(6),r.Clamp=e.getUIBits(1),r.PreserveAlpha=e.getUIBits(1),new Jt},Nt.prototype.gradientBevelFilter=function(){var t,e=this,r=e.bitio,a=r.getUI8(),n=[],o=[];for(t=0;a>t;t++){var i=e.rgba();o[o.length]=i.A,n[n.length]=i.R<<16|i.G<<8|i.B}var s=[];for(t=0;a>t;t++)s[s.length]=r.getUI8();var l=r.getUI32()/65536,c=r.getUI32()/65536,g=r.getUI32()/65536*180/W,p=r.getUI32()/65536,u=r.getFloat16()/256,f=r.getUIBits(1)?!0:!1,h=r.getUIBits(1)?!0:!1;r.getUIBits(1);var d=r.getUIBits(1),v=r.getUIBits(4),y="inner";return f||(y=d?"full":"outer"),u?new $t(p,g,n,o,s,l,c,u,v,y,h):null},Nt.prototype.colorMatrixFilter=function(){for(var t=this.bitio,e=[],r=0;20>r;r++)e[e.length]=t.getUI32();return new Qt},Nt.prototype.colorTransform=function(){var t=this.bitio;t.byteAlign();var e=[1,1,1,1,0,0,0,0],r=t.getUIBits(6),a=r>>5,n=r>>4&1,o=15&r;return n&&(e[0]=t.getSIBits(o)/256,e[1]=t.getSIBits(o)/256,e[2]=t.getSIBits(o)/256,e[3]=t.getSIBits(o)/256),a&&(e[4]=t.getSIBits(o),e[5]=t.getSIBits(o),e[6]=t.getSIBits(o),e[7]=t.getSIBits(o)),e},Nt.prototype.parseDefineSprite=function(t){var e=this,r=e.bitio,a=r.getUI16();r.getUI16();var n=e.stage;n.setCharacter(a,e.parseTags(t,a))},Nt.prototype.parseDoAction=function(t){var e=this,r=e.bitio,a=r.getData(t);return new jt(a)},Nt.prototype.parseDoInitAction=function(t){var e=this,r=e.bitio,a=e.stage,n=r.getUI16(),o=new be;o.active=!0,o.setStage(a),a.initMovieClip[n]=o;var i=new jt(r.getData(t-2),void 0,void 0,!0),s=v(o,i),l=a.initActions;l[l.length]={as:s,mc:o}},Nt.prototype.parseDefineSceneAndFrameLabelData=function(){var t,e=this.bitio,r={};for(r.SceneCount=e.getU30(),r.sceneInfo=[],t=0;t<r.SceneCount;t++)r.sceneInfo[t]={offset:e.getU30(),name:decodeURIComponent(e.getDataUntil("\x00"))};for(r.FrameLabelCount=e.getU30(),r.frameInfo=[],t=0;t<r.FrameLabelCount;t++)r.frameInfo[t]={num:e.getU30(),label:decodeURIComponent(e.getDataUntil("\x00"))};return r},Nt.prototype.parseSoundStreamHead=function(t){var e={};e.tagType=t;var r=this.bitio;return r.getUIBits(4),e.PlaybackSoundRate=r.getUIBits(2),e.PlaybackSoundSize=r.getUIBits(1),e.PlaybackSoundType=r.getUIBits(1),e.StreamSoundCompression=r.getUIBits(4),e.StreamSoundRate=r.getUIBits(2),e.StreamSoundSize=r.getUIBits(1),e.StreamSoundType=r.getUIBits(1),e.StreamSoundSampleCount=r.getUI16(),2===e.StreamSoundCompression&&(e.LatencySeek=r.getSIBits(2)),e},Nt.prototype.parseDoABC=function(t,e){var r=this,a=r.bitio,n=a.byte_offset,o={};o.tagType=t,o.Flags=a.getUI32(),o.Name=a.getDataUntil("\x00");var i=e-(a.byte_offset-n),s=a.getData(i),l=new Rt;return l.setData(s),o.minorVersion=l.getUI16(),o.majorVersion=l.getUI16(),o.integer=r.ABCInteger(l),o.uinteger=r.ABCUinteger(l),o["double"]=r.ABCDouble(l),o.string=r.ABCStringInfo(l),o.namespace=r.ABCNameSpaceInfo(l),o.nsSet=r.ABCNsSetInfo(l),o.multiname=r.ABCMultiNameInfo(l),o.metadataInfo=r.ABCMethodInfo(l),o.metadata=r.ABCMetadataInfo(l),o.instance=r.ABCInstanceInfo(l),o.classInfo=r.ABCClassInfo(l),o.scriptInfo=r.ABCScriptInfo(l),o.methodBodyInfo=r.ABCMethodBodyInfo(l),o.exceptionInfo=r.ABCException(l),o},Nt.prototype.ABCInteger=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++)e[e.length]=t.getUI32()}return e},Nt.prototype.ABCUinteger=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++)e[e.length]=t.getUI32()}return e},Nt.prototype.ABCDouble=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++)e[e.length]=t.getFloat64()}return e},Nt.prototype.ABCStringInfo=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++)e[e.length]=t.AbcReadString()}return e},Nt.prototype.ABCNameSpaceInfo=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++)e[e.length]={kind:t.getUI8(),name:t.getU30()}}return e},Nt.prototype.ABCNsSetInfo=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++){var n=t.getU30(),o=[];if(n)for(var i=0;n>i;i++)o[o.length]=t.getU30();e[e.length]=o}}return e},Nt.prototype.ABCMultiNameInfo=function(t){var e=[],r=t.getU30();if(r){r--;for(var a=0;r>a;a++){var n,o=t.getUI8();switch(o){case 7:case 13:n={ns:t.getU30(),name:t.getU30()};break;case 15:case 16:n={name:t.getU30()};break;case 9:case 14:n={name:t.getU30(),ns_set:t.getU30()};break;case 27:case 28:n={ns_set:t.getU30()};break;case 17:case 18:n={}}e[e.length]=n}}return e},Nt.prototype.ABCMethodInfo=function(t){var e,r={},a=t.getU30();r.paramCount=a,r.returnType=t.getU30();var n=[];if(a)for(e=0;a>e;e++)n[n.length]=t.getU30();r.paramType=n,r.name=t.getU30(),r.flags=t.getUI8();var o=t.getU30(),i=[];if(a)for(e=a-o;o>e;e++)i[i.length]={val:t.getU30(),kind:t.getUI8()};r.options=i;var s=[];if(a)for(e=0;a>e;e++)s[s.length]=t.getU30();return r.paramName=s,r},Nt.prototype.ABCMetadataInfo=function(t){var e={};e.name=t.getU30();var r=[],a=t.getU30();if(a){var n,o=[],i=[];for(n=0;a>n;n++)o[o.length]=t.getU30();for(n=0;a>n;n++)i[i.length]=t.getU30();r[r.length]={keys:o,values:i}}return e.items=r,e},Nt.prototype.ABCInstanceInfo=function(t){var e={};e.name=t.getU30(),e.superName=t.getU30();var r=t.getUI8();8&r&&(e.protectedNs=t.getU30());var a=t.getU30(),n=[];if(a)for(var o=0;a>o;o++)n[n.length]=t.getU30();return e.interfaces=n,e.iinit=t.getU30(),e.trait=this.ABCTrait(t),e},Nt.prototype.ABCClassInfo=function(t){var e={};return e.cinit=t.getU30(),e.trait=this.ABCTrait(t),e},Nt.prototype.ABCScriptInfo=function(t){var e={};return e.init=t.getU30(),e.trait=this.ABCTrait(t),e},Nt.prototype.ABCMethodBodyInfo=function(t){var e={};e.method=t.getU30(),e.maxStack=t.getU30(),e.localCount=t.getU30(),e.initScopeDepth=t.getU30(),e.maxScopeDepth=t.getU30();var r,a=t.getU30(),n=[];if(a)for(r=0;a>r;r++)n[n.length]=t.getUI8();e.code=n,a=t.getU30();var o=[];if(a)for(r=0;a>r;r++)o[o.length]=this.ABCException(t);return e.exceptions=o,e.trait=this.ABCTrait(t),e},Nt.prototype.ABCException=function(t){var e={};return e.from=t.getU30(),e.to=t.getU30(),e.target=t.getU30(),e.excType=t.getU30(),e.varName=t.getU30(),e},Nt.prototype.ABCTrait=function(t){var e=t.getU30(),r=[];if(e)for(var a=0;e>a;a++){var n={};n.name=t.getU30();var o,i=t.getUI8();switch(i){default:break;case 0:case 6:o={slotId:t.getU30(),typeName:t.getU30()},o.index=t.getU30(),o.kind=-1,0!==o.index&&(o.kind=t.getUI8());break;case 1:case 2:case 3:o={dispId:t.getU30(),method:t.getU30()};break;case 4:o={slotId:t.getU30(),method:t.getU30()};break;case 5:o={slotId:t.getU30(),func:t.getU30()}}if(n.kind=i,n.data=o,i>>4&4){var s=t.getU30(),l=[];if(s)for(var c=0;s>c;c++)l[l.length]=t.getU30();n.metadata=l}r[r.length]=n}return r},Nt.prototype.parseSymbolClass=function(){var t={},e=this.bitio;t.NumSymbols=e.getUI16(),t.class2tag={symbols:[]};for(var r=0;r<t.NumSymbols;r++){var a=e.getUI16(),n=e.getDataUntil("\x00");t.class2tag.symbols[r]={tag:a,name:n},0===a&&(t.class2tag.topLevelClass=n)}return t},Nt.prototype.parseDefineSound=function(e,r){var a={},n=this,o=n.bitio,i=n.stage,s=o.byte_offset;a.tagType=e,a.SoundId=o.getUI16(),a.SoundFormat=o.getUIBits(4),a.SoundRate=o.getUIBits(2),a.SoundSize=o.getUIBit(),a.SoundType=o.getUIBit(),a.SoundSampleCount=o.getUI32();for(var l=o.byte_offset-s,c=r-l,g=o.getData(c),p="",u=0;c>u;u++)p+=K(g[u]);o.byte_offset=s+r;var f="";switch(a.SoundFormat){case 0:case 3:f="wave";break;case 1:f="wave";break;case 2:f="mpeg";break;case 4:case 5:case 6:f="nellymoser";break;case 11:f="speex";break;case 15:f="x-aiff"}a.base64="data:audio/"+f+";base64,"+t.btoa(p),i.sounds[a.SoundId]=a},Nt.prototype.parseStartSound=function(t){var e=this,r=e.bitio,a={},n=e.stage;a.tagType=t,a.SoundId=r.getUI16(),89===t&&(a.SoundClassName=r.getDataUntil("\x00")),a.SoundInfo=e.parseSoundInfo(),n.setCharacter(a.SoundId,a);var o=n.sounds[a.SoundId],i=T.createElement("audio");i.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},i.src=o.base64;var s=n.loadSounds;return s[s.length]=i,{SoundId:a.SoundId,Audio:i,tagType:t}},Nt.prototype.parseDefineButtonSound=function(){for(var t=this,e=t.bitio,r=t.stage,a=e.getUI16(),n=r.getCharacter(a),o=0;4>o;o++){var i=e.getUI16();if(i){var s=t.parseSoundInfo();switch(o){case 0:n.ButtonStateUpSoundInfo=s,n.ButtonStateUpSoundId=i;break;case 1:n.ButtonStateOverSoundInfo=s,n.ButtonStateOverSoundId=i;break;case 2:n.ButtonStateDownSoundInfo=s,n.ButtonStateDownSoundId=i;break;case 3:n.ButtonStateHitTestSoundInfo=s,n.ButtonStateHitTestSoundId=i}}}r.setCharacter(a,n)},Nt.prototype.parseSoundInfo=function(){var t={},e=this.bitio;if(e.getUIBits(2),t.SyncStop=e.getUIBit(),t.SyncNoMultiple=e.getUIBit(),t.HasEnvelope=e.getUIBit(),t.HasLoops=e.getUIBit(),t.HasOutPoint=e.getUIBit(),t.HasInPoint=e.getUIBit(),t.HasInPoint&&(t.InPoint=e.getUI32()),t.HasOutPoint&&(t.OutPoint=e.getUI32()),t.HasLoops&&(t.LoopCount=e.getUI16()),t.HasEnvelope){t.EnvPoints=e.getUI8(),t.EnvelopeRecords=[];for(var r=0;r<t.EnvPoints;r++)t.EnvelopeRecords[r]={Pos44:e.getUI32(),LeftLevel:e.getUI16(),RightLevel:e.getUI16()}}return t},Nt.prototype.parseDefineFontAlignZones=function(){var t=this,e=t.bitio,r=t.stage,a=e.getUI16(),n=r.getCharacter(a);n.CSMTableHint=e.getUIBits(2),e.getUIBits(6);for(var o=n.NumGlyphs,i=[],s=0;o>s;s++){for(var l=e.getUI8(),c=[],g=0;l>g;g++)c[g]=e.getUI32();i[s]={ZoneData:c,Mask:e.getUI8()}}e.byteAlign(),n.ZoneTable=i,r.setCharacter(a,n)},Nt.prototype.parseCSMTextSettings=function(t){var e=this,r={},a=e.bitio;r.tagType=t,r.TextID=a.getUI16(),r.UseFlashType=a.getUIBits(2),r.GridFit=a.getUIBits(3),a.getUIBits(3),r.Thickness=a.getUI32(),r.Sharpness=a.getUI32(),a.getUI8()},Nt.prototype.parseSoundStreamBlock=function(t,e){var r=this,a=r.bitio,n={};n.tagType=t,n.compressed=a.getData(e)},Nt.prototype.parseDefineVideoStream=function(t){var e=this,r=e.bitio,a=e.stage,n={};n.tagType=t,n.CharacterId=r.getUI16(),n.NumFrames=r.getUI16(),n.Width=r.getUI16(),n.Height=r.getUI16(),r.getUIBits(4),n.VideoFlagsDeblocking=r.getUIBits(3),n.VideoFlagsSmoothing=r.getUIBits(1),n.CodecID=r.getUI8(),a.setCharacter(n.CharacterId,n),ot.log(n)},Nt.prototype.parseVideoFrame=function(t,e){var r=this,a=r.bitio,n=r.stage,o=a.byte_offset,i={};i.tagType=t,i.StreamID=a.getUI16(),i.FrameNum=a.getUI16();var s,l=n.getCharacter(i.StreamID),c=a.byte_offset-o,g=e-c;switch(l.CodecID){case 4:s=r.parseVp6SwfVideoPacket(g)}a.byte_offset=o+e,n.videos[i.StreamID]=i},Nt.prototype.parseVp6SwfVideoPacket=function(t){var e=this,r=e.bitio,a="",n=r.getData(t);return ot.log(n),a},Nt.prototype.parseFileAttributes=function(){var t=this,e=t.bitio,r={};e.getUIBit(),r.UseDirectBlit=e.getUIBit(),r.UseGPU=e.getUIBit(),r.HasMetadata=e.getUIBit(),r.ActionScript3=e.getUIBit(),r.Reserved2=e.getUIBits(3),r.UseNetwork=e.getUIBit(),r.Reserved3=e.getUIBits(24)},Nt.prototype.parseDefineScalingGrid=function(){var t=this,e=t.bitio,r={};r.CharacterId=e.getUI16(),r.Splitter=t.rect()};var jt=function(t,e,r,a){var n=this;n.cache=[],n.params=[],n.constantPool=void 0===e?[]:e,n.register=void 0===r?[]:r,n.variables={},n.initAction=a?!0:!1,n.scope=null,n.parent=null,n.arg=null,n.version=7,t.length&&n.__init__(t),n.initParam()};jt.prototype.initParam=function(){for(var t=this,e=t.register,r=e.length,a=[],n=0;r>n;n++){var o=e[n];null===o.name?a[o.register]=o.value:a[o.register]=o.name}t.params=a},jt.prototype.initVariable=function(t){var e=this;e.arg=t;for(var r=e.register,a=r.length,n=e.variables,o=0,i=0;a>i;i++){var s=r[i];null!==s.name&&(n[s.name]=t[o++])}e.variables=n,e.initParam()},jt.prototype.setVariable=function(t,e){this.variables[t]=e},jt.prototype.getVariable=function(t){var e,r=this;if("arguments"===t)return r.arg;if(e=r.variables[t],void 0===e){var a=r.parent;a&&(e=a.getVariable(t))}return e},jt.prototype.valueToString=function(t){return"string"!=typeof t&&(t+=""),t},jt.prototype.__init__=function(t){var e,r,a,n,o,i=this,s=!1,l={},c=0,g=0,p=[],u=[],f=0,h=new Rt;h.setData(t);var d=new Rt,v=t.length;for(i.initParam();h.byte_offset<v;){var y=h.byte_offset;if(l={},f&&f===h.byte_offset)f=0,l.actionCode=148,l.Size=0,p[p.length]=l;else{var b=h.getUI8();l.actionCode=b;var m=null;switch(b>=128&&(o=h.getUI16(),m=h.getData(o),d.setData(m),d.setOffset(0,0)),b){case 129:l.frame=q(d.getUI16())+1;break;case 138:l.frame=d.getUI16(),l.skipCount=d.getUI8();break;case 139:l.targetName=d.getDataUntil("\x00");break;case 140:l.label=d.getDataUntil("\x00");break;case 131:var S=m.length-1,I=[[]];for(g=0,c=0;S>c;c++){var C=K(m[c]);0!==m[c]?I[g]+=C:(g++,I[g]=[])}var x=I[0];if("string"==typeof x){var A=x.split("?");if(2 in A){x=A[0],x+="?"+A[1];var M=A.length;for(c=2;M>c;c++)x+="&"+A[c]}}l.url=x,l.target=I[1];break;case 150:for(a=[];d.byte_offset<o;){var F=d.getUI8();switch(F){case 0:a[a.length]=String(d.getDataUntil("\x00"));break;case 1:a[a.length]=d.getFloat32();break;case 2:a[a.length]=null;break;case 3:a[a.length]=void 0;break;case 4:a[a.length]={key:d.getUI8()};break;case 5:a[a.length]=d.getUI8()?!0:!1;break;case 6:a[a.length]=d.getFloat64();break;case 7:a[a.length]=d.getUI32();break;case 8:a[a.length]=i.constantPool[d.getUI8()];break;case 9:a[a.length]=i.constantPool[d.getUI16()]}}l.values=a;break;case 157:l.offset=h.byte_offset+h.toSI16LE(m);break;case 153:l.offset=h.byte_offset+h.toSI16LE(m);break;case 154:l.LoadVariablesFlag=d.getUIBits(1),l.LoadTargetFlag=d.getUIBits(1),d.getUIBits(4),l.SendVarsMethod=d.getUIBits(2);break;case 159:d.getUIBits(6),l.SceneBiasFlag=d.getUIBit(),l.PlayFlag=d.getUIBit(),1===l.SceneBiasFlag&&(l.SceneBias=d.getUI16());break;case 141:l.skipCount=d.getUI8();break;case 136:for(var U=d.getUI16(),B=[];U--;)B[B.length]=d.getDataUntil("\x00");l.constantPool=B,i.constantPool=B;break;case 155:for(l.FunctionName=d.getDataUntil("\x00"),n=d.getUI16(),r=[],g=1;n--;)r[r.length]={register:g,name:d.getDataUntil("\x00"),value:null};e=h.getData(d.getUI16()),l.ActionScript=new jt(e,i.constantPool,r,i.initAction);break;case 148:l.Size=d.getUI16(),f=l.Size+h.byte_offset;break;case 135:l.RegisterNumber=d.getUI8();break;case 142:r=[],a=[],l.FunctionName=d.getDataUntil("\x00"),n=d.getUI16();var k=d.getUI8();for(l.PreloadParentFlag=d.getUIBits(1),l.PreloadRootFlag=d.getUIBits(1),l.SuppressSuperFlag=d.getUIBits(1),l.PreloadSuperFlag=d.getUIBits(1),l.SuppressArgumentsFlag=d.getUIBits(1),l.PreloadArgumentsFlag=d.getUIBits(1),l.SuppressThisFlag=d.getUIBits(1),l.PreloadThisFlag=d.getUIBits(1),d.getUIBits(7),l.PreloadGlobalFlag=d.getUIBits(1),l.PreloadThisFlag&&(a[a.length]="this"),l.PreloadArgumentsFlag&&(a[a.length]="arguments"),l.PreloadSuperFlag&&(a[a.length]="super"),l.PreloadRootFlag&&(a[a.length]="_root"),l.PreloadParentFlag&&(a[a.length]="_parent"),l.PreloadGlobalFlag&&(a[a.length]="_global"),g=1;k>g;g++){var Y=g-1;Y in a&&(r[r.length]={register:g,name:null,value:a[Y]})}for(;n--;){var T=d.getUI8(),_=d.getDataUntil("\x00");r[r.length]={register:T,name:_,value:null}}e=h.getData(d.getUI16()),l.ActionScript=new jt(e,i.constantPool,r,i.initAction);break;case 143:ot.log("ActionTry"),d.getUIBits(5);var w=d.getUIBits(1);l.FinallyBlockFlag=d.getUIBits(1),l.CatchBlockFlag=d.getUIBits(1);var X=d.getUI16(),P=d.getUI16(),D=d.getUI16();w?l.CatchRegister=d.getUI8():l.CatchName=d.getDataUntil("\x00"),c=0;var L=[];if(X)for(c=X;c--;)L[L.length]=d.getUI8();l.TryBody=L;var O=[];if(P)for(c=P;c--;)O[O.length]=d.getUI8();l.CatchBody=O;var E=[];if(D)for(c=D;c--;)E[E.length]=d.getUI8();l.FinallyBody=E;break;case 130:ot.log("DoABC"),l.flags=d.getUI32(),l.Name=d.getDataUntil("\x00"),l.ABCData=d.getData(m.length-d.byte_offset);break;case 0:s=!0}if(u[y]=p.length,p[p.length]=l,s)break}}var H=p.length;for(c=0;H>c;c++){l=p[c];var R=l.actionCode;if(157===R||153===R){var Z=u[l.offset];void 0!==Z?l.offset=Z-1:l.offset=p.length-1}}i.cache=p},jt.prototype.calc=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;case"string":e=""===t?0:J(t);break;default:e=J(t)}return Q(e)&&(e=0),e},jt.prototype.logicValue=function(t){var e;switch(typeof t){case"boolean":e=t?1:0;break;case"object":null===t?e=0:t instanceof Array?e=t.length:t instanceof Object&&(e=1);break;case"string":e=""===t?0:1;break;default:e=J(t),Q(e)&&(e=0)}return e},jt.prototype.operationValue=function(t){var e=t.pop();return e=J(e),Q(e)&&(e=0),e},jt.prototype.execute=function(t){var e=this,r=e.scope,a=r instanceof be?r:t;if(a.active){var n=a.getStage();n&&(e.version=n.getVersion());for(var o=[],i=e.cache,s=i.length,l=0;s>l;l++)if(l in i){var c=i[l],g=c.actionCode;if(!g)break;switch(g){case 129:e.ActionGotoFrame(a,c.frame);break;case 4:e.ActionNextFrame(a);break;case 5:e.ActionPreviousFrame(a);break;case 6:e.ActionPlay(a);break;case 7:e.ActionStop(a);break;case 8:case 138:break;case 9:e.ActionStopSounds(a);break;case 139:a=e.ActionSetTarget(a,t,c.targetName);break;case 140:e.ActionGoToLabel(a,c.label);break;case 131:e.ActionGetURL(a,c.url,c.target);break;case 10:e.ActionOperation(o,0);break;case 11:e.ActionOperation(o,1);break;case 12:e.ActionOperation(o,2);break;case 13:e.ActionOperation(o,3);break;case 14:e.ActionEquals(o);break;case 15:e.ActionLess(o);break;case 16:e.ActionAnd(o);break;case 17:e.ActionOr(o);break;case 18:e.ActionNot(o);break;case 19:e.ActionStringEquals(o);break;case 20:case 49:e.ActionStringLength(o);break;case 33:e.ActionStringAdd(o);break;case 21:case 53:e.ActionStringExtract(o);break;case 41:e.ActionStringLess(o);break;case 23:o.pop();break;case 150:e.ActionPush(o,a,c.values);break;case 51:case 55:e.ActionAsciiToChar(o);break;case 54:case 50:e.ActionCharToAscii(o);break;case 24:e.ActionToInteger(o);break;case 158:e.ActionCall(o,a);break;case 157:l=e.ActionIf(o,c.offset,l);break;case 153:l=c.offset;break;case 28:e.ActionGetVariable(o,a);break;case 29:e.ActionSetVariable(o,a);break;case 154:e.ActionGetURL2(o,c,a);break;case 34:e.ActionGetProperty(o,a);break;case 159:e.ActionGoToFrame2(o,c,a);break;case 32:a=e.ActionSetTarget2(o,a,t);break;case 35:e.ActionSetProperty(o,a);break;case 39:e.ActionStartDrag(o,a);break;case 141:o.pop();break;case 36:e.ActionCloneSprite(o,a);break;case 37:e.ActionRemoveSprite(o,a);break;case 40:e.ActionEndDrag(a);break;case 52:e.ActionGetTime(o);break;case 48:e.ActionRandomNumber(o);break;case 38:e.ActionTrace(o);break;case 0:break;case 45:e.ActionFsCommand2(o,a);break;case 82:e.ActionCallMethod(o,a);break;case 136:e.constantPool=c.constantPool;break;case 61:e.ActionCallFunction(o,a);break;case 155:e.ActionDefineFunction(o,c,a);break;case 60:e.ActionDefineLocal(o,a);break;case 65:e.ActionDefineLocal2(o,a);break;case 58:e.ActionDelete(o);break;case 59:e.ActionDelete2(o,a);break;case 70:e.ActionEnumerate(o,a);break;case 73:e.ActionEquals2(o);break;case 78:e.ActionGetMember(o,a);break;case 66:e.ActionInitArray(o);break;case 67:e.ActionInitObject(o);break;case 83:e.ActionNewMethod(o,a);break;case 64:e.ActionNewObject(o,a);break;case 79:e.ActionSetMember(o,a);break;case 69:e.ActionTargetPath(o);break;case 148:a=e.ActionWith(o,c.Size,t);break;case 74:e.ActionToNumber(o);break;case 75:e.ActionToString(o);break;case 68:e.ActionTypeOf(o);break;case 71:e.ActionAdd2(o);break;case 72:e.ActionLess2(o);break;case 63:e.ActionModulo(o);break;case 96:e.ActionBitAnd(o);break;case 99:e.ActionBitLShift(o);break;case 97:e.ActionBitOr(o);break;case 100:e.ActionBitRShift(o);break;case 101:e.ActionBitURShift(o);break;case 98:e.ActionBitXor(o);break;case 81:e.ActionDecrement(o);break;case 80:e.ActionIncrement(o);break;case 76:e.ActionPushDuplicate(o);break;case 62:return o.pop();case 77:e.ActionStackSwap(o);break;case 135:e.ActionStoreRegister(o,c.RegisterNumber);break;case 84:e.ActionInstanceOf(o);break;case 85:e.ActionEnumerate(o,a);break;case 102:e.ActionStrictEquals(o);break;case 103:case 104:e.ActionGreater(o);break;case 142:e.ActionDefineFunction(o,c,a);break;case 105:e.ActionExtends(o,a);break;case 43:e.ActionCastOp(o);break;case 44:e.ActionImplementsOp(o);break;case 143:e.ActionTry();break;case 42:e.ActionThrow(o);break;case 130:ot.log("DoABC");break;default:ot.log("[actionScript] "+g)}}}},jt.prototype.methods={gotoandstop:"gotoAndStop",gotoandplay:"gotoAndPlay",play:"play",stop:"stop",duplicatemovieclip:"duplicateMovieClip",getproperty:"getProperty",removemovieclip:"removeMovieClip",setproperty:"setProperty",startdrag:"startDrag",stopdrag:"stopDrag",targetpath:"targetPath",updateafterevent:"updateAfterEvent",nextframe:"nextFrame",nextscene:"nextScene",prevframe:"prevFrame",prevscene:"prevScene",stopallsounds:"stopAllSounds",setmask:"setMask",geturl:"getURL",loadmovie:"loadMovie",loadmovienum:"loadMovieNum",loadvariables:"loadVariables",loadvariablesnum:"loadVariablesNum",unloadmovie:"unloadMovie",unloadmovienum:"unloadMovieNum",swapdepths:"swapDepths",getinstanceatdepth:"getInstanceAtDepth",attachmovie:"attachMovie",attachaudio:"attachAudio",attachbitmap:"attachBitmap",getnexthighestdepth:"getNextHighestDepth",getbytesloaded:"getBytesLoaded",getbytestotal:"getBytesTotal",assetpropflags:"ASSetPropFlags",linestyle:"lineStyle",linegradientstyle:"lineGradientStyle",beginfill:"beginFill",begingradientfill:"beginGradientFill",beginbitmapfill:"beginBitmapFill",clear:"clear",moveto:"moveTo",lineto:"lineTo",curveto:"curveTo",endfill:"endFill",unloadclip:"unloadClip",hittest:"hitTest",getdepth:"getDepth",createemptymovieclip:"createEmptyMovieClip",createtextfield:"createTextField",getbounds:"getBounds",getrect:"getRect",getswfversion:"getSWFVersion",gettextsnapshot:"getTextSnapshot",globaltolocal:"globalToLocal",localtoglobal:"localToGlobal",addproperty:"addProperty"},jt.prototype.checkMethod=function(t){if(!t)return t;var e=this.methods,r=t.toLowerCase();return r in e?e[r]:null},jt.prototype.ActionGotoFrame=function(t,e){t instanceof be&&(t.stop(),t.setNextFrame(e))},jt.prototype.ActionNextFrame=function(t){t instanceof be&&t.nextFrame()},jt.prototype.ActionPreviousFrame=function(t){t instanceof be&&t.prevFrame()},jt.prototype.ActionPlay=function(t){t instanceof be&&t.play()},jt.prototype.ActionStop=function(t){t instanceof be&&t.stop()},jt.prototype.ActionStopSounds=function(t){t instanceof be&&t.stopAllSounds()},jt.prototype.ActionSetTarget=function(t,e,r){if(""!==r){var a=t;return a||(a=e),a.getMovieClip(r)}return e.active?e:void 0},jt.prototype.ActionGoToLabel=function(t,e){if(t instanceof be){var r=J(t.getLabel(e));t.stop(),"number"==typeof r&&t.setNextFrame(r)}},jt.prototype.ActionGetURL=function(t,e,r){t instanceof be&&t.getURL(e,r)},jt.prototype.ActionOperation=function(t,e){var r,a=this,n=a.operationValue(t),o=a.operationValue(t);switch(e){case 0:r=o+n;break;case 1:r=o-n;break;case 2:r=o*n;break;case 3:r=o/n}t[t.length]=r},jt.prototype.ActionEquals=function(t){var e=this,r=e.calc(t.pop()),a=e.calc(t.pop());e.version>4?t[t.length]=r===a:t[t.length]=r===a?1:0},jt.prototype.ActionLess=function(t){var e=this,r=e.calc(t.pop()),a=e.calc(t.pop());e.version>4?t[t.length]=r>a:t[t.length]=r>a?1:0},jt.prototype.ActionAnd=function(t){var e=this,r=t.pop(),a=t.pop();e.version>4?(r=e.logicValue(r),a=e.logicValue(a),t[t.length]=0!==r&&0!==a):(r=e.calc(r),a=e.calc(a),t[t.length]=0!==r&&0!==a?1:0)},jt.prototype.ActionOr=function(t){var e=this,r=t.pop(),a=t.pop();e.version>4?(r=e.logicValue(r),a=e.logicValue(a),t[t.length]=0!==r||0!==a):(r=e.calc(r),a=e.calc(a),t[t.length]=0!==r||0!==a?1:0)},jt.prototype.ActionNot=function(t){var e=this,r=t.pop();e.version>4?(r=e.logicValue(r),t[t.length]=0===r):(r=e.calc(r),t[t.length]=0===r?1:0)},jt.prototype.ActionStringEquals=function(t){var e=t.pop(),r=t.pop();e instanceof be?e=e.getTarget():e+="",r instanceof be?r=r.getTarget():r+="",this.version>4?t[t.length]=r===e:t[t.length]=r===e?1:0},jt.prototype.ActionStringLength=function(t){var e=t.pop();e=this.valueToString(e);for(var r=0,a=e.length,n=0;a>n;n++,r++){var o=e.charCodeAt(n);255>o||r++}t[t.length]=r},jt.prototype.ActionStringAdd=function(t){var e=t.pop(),r=t.pop();(null===e||void 0===e)&&(e=""),(null===r||void 0===r)&&(r=""),t[t.length]=r+""+e},jt.prototype.ActionStringExtract=function(t){var e=t.pop(),r=t.pop(),a=t.pop();a=this.valueToString(a),r--,0>r&&(r=0),t[t.length]=0>e?a.substr(r):a.substr(r,e)},jt.prototype.ActionStringLess=function(t){var e=t.pop(),r=t.pop();this.version>4?t[t.length]=e>r:t[t.length]=e>r?1:0},jt.prototype.ActionPush=function(t,e,r){for(var a=this,n=r.length,o=a.params,i=0;n>i;i++){var s=r[i];if(s instanceof Object){var l=s.key;if(s=void 0,l in o){var c=o[l];"string"==typeof c&&(s=a.getVariable(c),void 0===s&&(s=e.getVariable(c))),void 0===s&&(s=c)}}t[t.length]=s}},jt.prototype.ActionAsciiToChar=function(t){var e=t.pop();t[t.length]=K(e)},jt.prototype.ActionCharToAscii=function(t){var e=t.pop();e=this.valueToString(e),t[t.length]=e.charCodeAt(0)},jt.prototype.ActionToInteger=function(t){var e=t.pop();t[t.length]=q(e)},jt.prototype.ActionCall=function(t,e){var r=t.pop();if(e){r=this.valueToString(r);var a,n=r.split(":"),o=n[0],i=e;n.length>1&&(i=e.getMovieClip(n[0]),o=n[1]),i instanceof be&&(a="number"==typeof o?o:i.getLabel(o),i.executeActions(a))}},jt.prototype.ActionIf=function(t,e,r){var a=t.pop();switch(typeof a){case"boolean":break;case"string":Q(a)||(a=J(a))}return a?e:r},jt.prototype.ActionGetVariable=function(t,e){var r,a=this,n=t.pop();n instanceof be?r=n:(r=a.getVariable(n),void 0===r&&e&&(r=e.getProperty(n))),t[t.length]=r},jt.prototype.ActionSetVariable=function(t,e){var r=this,a=t.pop(),n=t.pop(),o=r.variables;n in o?r.setVariable(n,a):e.setProperty(n,a)},jt.prototype.ActionGetURL2=function(t,e,r){var a=t.pop(),n=t.pop(),o=e.LoadVariablesFlag,i=e.LoadTargetFlag,s=e.SendVarsMethod,l="GET";2===s&&(l="POST");var c;if(r instanceof be)if(n){n=this.valueToString(n);var g=n.split("?"),p=g.length,u="";if(1===p&&(u="?"),p>2){c=g[0]+"?",c+=g[1];for(var f=2;p>f;f++){var h=g[f];c=c+"&"+h}}else c=n;if(s){var d=r.variables,v="";for(var y in d)if(d.hasOwnProperty(y)){var b=d[y];if(null===b&&(b=""),"string"!=typeof b){var m=typeof b;m=m.replace(/^[a-z]/g,function(t){return t.toUpperCase()}),b="%5Btype+"+m+"%5D"}v+="&"+y+"="+b}""!==u&&""!==v&&(v=u+v.slice(1)),c+=v}o?r.loadVariables(c,a,l):i?a instanceof be?a.loadMovie(c,null,s):r.loadMovie(c,a,s):r.getURL(c,a,l)}else r.unloadMovie(a)},jt.prototype.ActionGetProperty=function(t,e){var r=t.pop(),a=t.pop();Q(r)||(r=P(r));var n=this,o=n.getVariable(r);if(void 0===o&&e){var i=e;a&&("string"!=typeof a&&(a+=""),i=e.getMovieClip(a)),i instanceof be&&(o=i.getProperty(r))}t[t.length]=o},jt.prototype.ActionGoToFrame2=function(t,e,r){var a=e.SceneBiasFlag,n=e.PlayFlag;if(1===a){var o=e.SceneBias;ot.log("SceneBias",o)}var i=t.pop();if(i&&r){if(Q(i)){var s=i.split(":");if(s.length>1){var l=r.getMovieClip(s[0]);l&&(i=l.getLabel(s[1]))}else i=r.getLabel(s[0])}"string"==typeof i&&(i=q(i)),"number"==typeof i&&i>0&&(r.setNextFrame(i),n?r.play():r.stop())}},jt.prototype.ActionSetTarget2=function(t,e,r){var a=t.pop();return e||(e=r),e.getMovieClip(a)},jt.prototype.ActionSetProperty=function(t,e){var r=t.pop(),a=t.pop(),n=t.pop();if(Q(a)||(a=P(a)),e){var o=e;void 0!==n&&(o=e.getMovieClip(n)),o instanceof be&&o.setProperty(a,r)}},jt.prototype.ActionStartDrag=function(t,e){var r=t.pop(),a=t.pop(),n=t.pop(),o=null,i=null,s=null,l=null;n&&(o=t.pop(),i=t.pop(),s=t.pop(),l=t.pop());var c=e;r instanceof be&&(c=r),"string"==typeof r&&r&&(c=e.getMovieClip(r)),
c instanceof be&&c.startDrag(a,l,s,i,o)},jt.prototype.ActionCloneSprite=function(t,e){var r=J(t.pop()),a=t.pop(),n=t.pop();e&&e.duplicateMovieClip(a,n,r)},jt.prototype.ActionRemoveSprite=function(t,e){var r=t.pop();e&&e.removeMovieClip(r)},jt.prototype.ActionEndDrag=function(t){t&&t.stopDrag()},jt.prototype.ActionGetTime=function(t){var e=new Date;t[t.length]=e.getTime()-ht.getTime()},jt.prototype.ActionRandomNumber=function(t){var e=t.pop();t[t.length]=P(O()*e)},jt.prototype.ActionTrace=function(t){var e=t.pop();e instanceof be&&(e=e.toString()),ot.log("[trace] "+e)},jt.prototype.ActionFsCommand2=function(t,e){t.pop();var r=t.pop(),a=new Date;switch(r.toLowerCase()){case"getdateyear":t[t.length]=a.getFullYear();break;case"getdatemonth":t[t.length]=a.getMonth()+1;break;case"getdateday":t[t.length]=a.getDate();break;case"getdateweekday":t[t.length]=a.getDay();break;case"gettimehours":t[t.length]=a.getHours();break;case"gettimeminutes":t[t.length]=a.getMinutes();break;case"gettimeseconds":t[t.length]=a.getSeconds();break;case"startvibrate":t.pop(),t.pop(),t.pop(),t[t.length]=-1;break;case"gettimezoneoffset":e.setVariable(t.pop(),a.toUTCString()),e.setVariable(t.pop(),0);break;case"getlocalelongdate":e.setVariable(t.pop(),a.toLocaleDateString()),e.setVariable(t.pop(),0);break;case"getlocaleshortdate":e.setVariable(t.pop(),a.toDateString()),e.setVariable(t.pop(),0);break;case"getlocaletime":e.setVariable(t.pop(),a.toLocaleTimeString()),e.setVariable(t.pop(),0);break;case"getnetworkname":case"getdevice":case"getdeviceid":e.setVariable(t.pop(),""),e.setVariable(t.pop(),-1);break;case"getlanguage":var n=dt.userLanguage||dt.language||dt.browserLanguage||"ja-JP";e.setVariable(t.pop(),n),e.setVariable(t.pop(),0);break;case"setsoftkeys":t.pop(),t.pop(),t[t.length]=-1;break;case"fullscreen":t.pop(),t[t.length]=-1;break;case"setquality":case"getfreestagememory":case"gettotalstagememory":t.pop(),t[t.length]=-1;break;default:t[t.length]=-1}},jt.prototype.ActionCallMethod=function(t,e){for(var r=this,a=t.pop(),n=t.pop(),o=J(t.pop()),i=[];o--;)i[i.length]=t.pop();if("string"==typeof n){var s=r.getVariable(n);s||(s=e.getVariable(n)),s&&(n=s)}var l;if(n&&a){var c,g=r.checkMethod(a);if(g&&(c=n[g]),c||(c=n[a]),!c&&n instanceof be&&(c=n.getVariable(a)),("call"===a||"apply"===a)&&(c=n,n=i.shift()),c)l=c.apply(n,i);else if(n instanceof Object&&"registerClass"===a){l=!1;var p=e.getMovieClip("_root"),u=p.getStage(),f=u.exportAssets[i[0]];f&&(u.registerClass[f]=i[1],l=!0)}}t[t.length]=l},jt.prototype.ActionCallFunction=function(e,r){for(var n=this,o=e.pop(),i=J(e.pop()),s=[];i--;)s[s.length]=e.pop();if(r){var l,c=r,g=n.checkMethod(o);if(g)l=r[g];else if(t[o]){c=t;var p=r;if(s[0]instanceof be&&(p=s.shift(),s.length>0)){var u,f=s.shift();if("string"==typeof f&&(u=p.getVariable(f)),"function"==typeof u){var h=s.shift(),d=a(s),v=function(t,e,r){return function(){t.apply(e,r)}}(u,p,d);s=[],s[s.length]=v,s[s.length]=h}else s.unshift(f)}l=t[o]}else l=r.getVariable(o);e[e.length]=l?l.apply(c,s):void 0}},jt.prototype.ActionDefineFunction=function(t,e,r){var a=v(r,e.ActionScript,this),n=e.FunctionName;""!==n?r.setVariable(n,a):t[t.length]=a},jt.prototype.ActionDefineLocal=function(t,e){var r=this,a=t.pop(),n=t.pop();r.parent?r.setVariable(n,a):e.setVariable(n,a)},jt.prototype.ActionDefineLocal2=function(t,e){var r=this,a=t.pop();r.parent?r.setVariable(a,void 0):e.setVariable(a,void 0)},jt.prototype.ActionDelete=function(t){var e=t.pop(),r=t.pop();r instanceof be&&r.setVariable(e,void 0)},jt.prototype.ActionDelete2=function(t,e){var r=t.pop();e&&e.setVariable(r,void 0)},jt.prototype.ActionEnumerate=function(t,e){var r=t.pop();if(t[t.length]=null,"string"==typeof r&&(r=e.getMovieClip(r)),r instanceof Object){var a;switch(!0){case r instanceof be:var n=r.getTags();for(a in n)if(n.hasOwnProperty(a)){var o=n[a];t[t.length]="instance"+o}var i=r.variables;for(a in i)i.hasOwnProperty(a)&&(t[t.length]=a);break;default:for(a in r)r.hasOwnProperty(a)&&(t[t.length]=a)}}},jt.prototype.ActionEquals2=function(t){var e=t.pop(),r=t.pop(),a=e,n=r;e instanceof be&&(a=e.getTarget()),r instanceof be&&(n=r.getTarget()),"boolean"==typeof a&&(a=Number(a)),"boolean"==typeof n&&(n=Number(n)),""===a||"string"!=typeof a||Q(a)||(a=J(a)),""===n||"string"!=typeof n||Q(n)||(n=J(n)),"number"==typeof a&&(a=q(a)),"number"==typeof n&&(n=q(n)),t[t.length]=n===a},jt.prototype.ActionGetMember=function(t,e){var r,a=t.pop(),n=t.pop();if("string"==typeof n){var o=e.getProperty(n);o&&(n=o)}n&&(r=n[a]),t[t.length]=r},jt.prototype.ActionInitArray=function(t){for(var e=t.pop(),r=[];e--;)r[r.length]=t.pop();t[t.length]=r},jt.prototype.ActionInitObject=function(t){for(var e=t.pop(),r={};e--;){var a=t.pop(),n=t.pop();r[n]=a}t[t.length]=r},jt.prototype.ActionNewMethod=function(e,r){for(var a=e.pop(),n=e.pop(),o=e.pop(),i=[];o--;)i[i.length]=e.pop();var s;if(""===a)s=n.apply(n,i);else if(a in t)s="CSSStyleDeclaration"===a?void 0:this.CreateNewActionScript(t[a],r,i);else if(a in n){var l=n[a];s=this.CreateNewActionScript(l,r,i)}e[e.length]=s},jt.prototype.ActionNewObject=function(e,r){for(var a=e.pop(),n=J(e.pop()),o=[];n--;)o[o.length]=e.pop();var i={};if(a in t)o.unshift(t[a]),i=new(Function.prototype.bind.apply(t[a],o));else switch(a){case"MovieClip":i=new be;var s=r.getStage();i.setStage(s),i.setParent(r);break;case"Sound":i=new Ce(r),i.movieClip=r;break;case"XML":i=new Ie;break;case"LoadVars":i=new Se;break;case"Color":i=new Ae(o[0]);break;case"TextFormat":i=new de;break;case"MovieClipLoader":i=new me;break;default:if(r){var l=this,c=l.getVariable(a);c||(c=r.getVariable(a)),i=l.CreateNewActionScript(c,r,o)}}e[e.length]=i},jt.prototype.CreateNewActionScript=function(t,e,r){return t?(r.unshift(t),new(Function.prototype.bind.apply(t,r))):void 0},jt.prototype.ActionSetMember=function(t,e){var r=t.pop(),a=t.pop(),n=t.pop();if(n){if("string"==typeof n){var o=e.getProperty(n);o&&(n=o)}if("object"==typeof n||"function"==typeof n)switch(!0){default:case n===be.prototype:case n===ve.prototype:case n===ye.prototype:case n===pe.prototype:case n===ue.prototype:n[a]=r;break;case n instanceof se:case n instanceof Ue:n.setProperty(a,r,!1)}}},jt.prototype.ActionTargetPath=function(t){ot.log("ActionTargetPath");var e=t.pop(),r=null;if(e instanceof be&&(r=e.getName(),null!==r))for(;;){var a=e.getParent();if(null===a){r="/"+r;break}var n=a.getName();if(null===n){r=null;break}r=n+"/"+r}t[t.length]=r},jt.prototype.ActionWith=function(t,e,r){var a=r;return e&&(a=t.pop()),a},jt.prototype.ActionToNumber=function(t){var e=t.pop();t[t.length]=J(e)},jt.prototype.ActionToString=function(t){var e=t.pop();t[t.length]=this.valueToString(e)},jt.prototype.ActionTypeOf=function(t){var e=t.pop();t[t.length]=e instanceof be?"movieclip":typeof e},jt.prototype.ActionAdd2=function(t){var e=t.pop(),r=t.pop();t[t.length]=r+e},jt.prototype.ActionLess2=function(t){var e=t.pop(),r=t.pop();t[t.length]=e>r},jt.prototype.ActionModulo=function(t){var e=t.pop(),r=t.pop();t[t.length]=r%e},jt.prototype.ActionBitAnd=function(t){var e=t.pop(),r=t.pop();t[t.length]=r&e},jt.prototype.ActionBitLShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r<<e},jt.prototype.ActionBitOr=function(t){var e=t.pop(),r=t.pop();t[t.length]=r|e},jt.prototype.ActionBitRShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},jt.prototype.ActionBitURShift=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>>e},jt.prototype.ActionBitXor=function(t){var e=t.pop(),r=t.pop();t[t.length]=e^r},jt.prototype.ActionDecrement=function(t){var e=J(t.pop());e--,t[t.length]=e},jt.prototype.ActionIncrement=function(t){var e=J(t.pop());e++,t[t.length]=e},jt.prototype.ActionPushDuplicate=function(t){t[t.length]=t[0]},jt.prototype.ActionStackSwap=function(t){var e=t.pop(),r=t.pop();t[t.length]=e,t[t.length]=r},jt.prototype.ActionStoreRegister=function(t,e){this.params[e]=t[t.length-1]},jt.prototype.ActionInstanceOf=function(t){var e=t.pop(),r=t.pop();t[t.length]=r instanceof e},jt.prototype.ActionStrictEquals=function(t){var e=t.pop(),r=t.pop();t[t.length]=r===e},jt.prototype.ActionGreater=function(t){var e=t.pop(),r=t.pop();t[t.length]=r>e},jt.prototype.ActionExtends=function(t,e){var r=t.pop(),a=t.pop();if(r&&a){var n;if(r===be){n=new be;var o=e.getStage();n.setStage(o),n.setParent(e)}else n=new r;a.prototype=n,a.prototype.constructor=r}},jt.prototype.ActionCastOp=function(t){ot.log("ActionCastOp");var e=t.pop(),r=t.pop();ot.log(r),""===e?t[t.length]=null:t[t.length]=null},jt.prototype.ActionImplementsOp=function(t){ot.log("ActionImplementsOp");var e=t.pop();ot.log(e);for(var r=t.pop(),a=[];r--;)a[a.length]=t.pop();t[t.length]=null},jt.prototype.ActionTry=function(){ot.log("ActionTry")},jt.prototype.ActionThrow=function(t){ot.log("ActionThrow");var e=t.pop();throw new Error(e)};var Vt=function(){};Vt.prototype.clone=function(){var t=this,e=[];for(var r in t)t.hasOwnProperty(r)&&(e[e.length]=t[r]);var a=t.filterId,n=t;switch(a){case 0:n=new(Function.prototype.bind.apply(Wt,e));break;case 1:n=new(Function.prototype.bind.apply(Gt,e));break;case 2:n=new(Function.prototype.bind.apply(zt,e));break;case 3:n=new(Function.prototype.bind.apply(Kt,e));break;case 4:n=new(Function.prototype.bind.apply(qt,e));break;case 5:n=new(Function.prototype.bind.apply(Jt,e));break;case 6:n=new(Function.prototype.bind.apply(Qt,e));break;case 7:n=new(Function.prototype.bind.apply($t,e))}return n},Vt.prototype.toColorInt=function(t){if("string"==typeof t){var e=Ht.getCanvas();e.width=1,e.height=1;var r=e.getContext("2d");r.fillStyle=t,t="0x"+r.fillStyle.substr(1),Ht.destroy(r)}return q(t)};var Gt=function(){var t=this;Vt.call(t),t.filterId=1,t.blurX=4,t.blurY=4,t.quality=1;var e=arguments,r=q(e[0]);!Q(r)&&r>=0&&255>=r&&(t.blurX=r);var a=q(e[1]);!Q(a)&&a>=0&&255>=a&&(t.blurY=a);var n=q(e[2]);!Q(n)&&n>=1&&15>=n&&(t.quality=n)};Gt.prototype=Object.create(Vt.prototype),Gt.prototype.constructor=Gt,Gt.prototype.render=function(t,e,r,a){var n=t.canvas,o=Ht.getCanvas();o.width=n.width,o.height=n.height;var i=o.getContext("2d");return i.drawImage(n,0,0),i._offsetX=t._offsetX,i._offsetY=t._offsetY,this.executeFilter(i,a)},Gt.prototype.executeFilter=function(t,e){var r=this,a=r.blurX,n=r.blurY;if(0===a&&0===n)return t;0===a&&(a=4),0===n&&(n=4);var o=r.quality,i=e.getScale(),s=[.5,1.05,1.35,1.55,1.75,1.9,2,2.1,2.2,2.3,2.5,3,3,3.5,3.5],l=s[o-1],c=D(a*l*i*Mt),g=D(n*l*i*Mt),p=t.canvas,u=D(p.width+2*c+1),f=D(p.height+2*g+1),h=Ht.getCanvas();h.width=u,h.height=f;var d=h.getContext("2d"),v=c,y=g;d._offsetX=c+t._offsetX,d._offsetY=g+t._offsetY,d.drawImage(p,v,y);for(var b=d.getImageData(0,0,u,f),m=b.data,S=v>>1,I=y>>1,C=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],x=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],A=C[S],M=x[S],F=C[I],U=x[I],B=0,k=0,Y=0,T=0,_=0,w=0,X=0,P=0,L=0,O=0,E=0,H=0,R=0,Z=0,N=S+S+1,j=I+I+1,V=b.width,G=b.height,W=V-1,z=G-1,K=S+1,q=I+1,J={r:0,b:0,g:0,a:0},Q=J,$=1;N>$;$++)Q=Q.n={r:0,b:0,g:0,a:0};Q.n=J;var tt={r:0,b:0,g:0,a:0},et=tt;for($=1;j>$;$++)et=et.n={r:0,b:0,g:0,a:0};et.n=tt;for(var rt=null;o-- >0;){w=_=0;var at=A,nt=M;for(k=G;--k>-1;){for(E=m[_],H=m[_+1],R=m[_+2],Z=m[_+3],X=K*E,P=K*H,L=K*R,O=K*Z,Q=J,$=K;--$>-1;)Q.r=E,Q.g=H,Q.b=R,Q.a=Z,Q=Q.n;for($=1;K>$;$++)Y=_+(($>W?W:$)<<2)|0,X+=Q.r=m[Y],P+=Q.g=m[Y+1],L+=Q.b=m[Y+2],O+=Q.a=m[Y+3],Q=Q.n;for(rt=J,B=0;V>B;B++)m[_++]=X*at>>>nt,m[_++]=P*at>>>nt,m[_++]=L*at>>>nt,m[_++]=O*at>>>nt,Y=w+((Y=B+S+1)<W?Y:W)<<2,X-=rt.r-(rt.r=m[Y]),P-=rt.g-(rt.g=m[Y+1]),L-=rt.b-(rt.b=m[Y+2]),O-=rt.a-(rt.a=m[Y+3]),rt=rt.n;w+=V}for(at=F,nt=U,B=0;V>B;B++){for(_=B<<2|0,X=q*(E=m[_])|0,P=q*(H=m[_+1|0])|0,L=q*(R=m[_+2|0])|0,O=q*(Z=m[_+3|0])|0,et=tt,$=0;q>$;$++)et.r=E,et.g=H,et.b=R,et.a=Z,et=et.n;for(T=V,$=1;I>=$;$++)_=T+B<<2,X+=et.r=m[_],P+=et.g=m[_+1],L+=et.b=m[_+2],O+=et.a=m[_+3],et=et.n,z>$&&(T+=V);if(_=B,rt=tt,o>0)for(k=0;G>k;k++)Y=_<<2,m[Y+3]=Z=O*at>>>nt,Z>0?(m[Y]=X*at>>>nt,m[Y+1]=P*at>>>nt,m[Y+2]=L*at>>>nt):m[Y]=m[Y+1]=m[Y+2]=0,Y=B+((Y=k+q)<z?Y:z)*V<<2,X-=rt.r-(rt.r=m[Y]),P-=rt.g-(rt.g=m[Y+1]),L-=rt.b-(rt.b=m[Y+2]),O-=rt.a-(rt.a=m[Y+3]),rt=rt.n,_+=V;else for(k=0;G>k;k++)Y=_<<2,m[Y+3]=Z=O*at>>>nt,Z>0?(Z=255/Z,m[Y]=(X*at>>>nt)*Z,m[Y+1]=(P*at>>>nt)*Z,m[Y+2]=(L*at>>>nt)*Z):m[Y]=m[Y+1]=m[Y+2]=0,Y=B+((Y=k+q)<z?Y:z)*V<<2,X-=rt.r-(rt.r=m[Y]),P-=rt.g-(rt.g=m[Y+1]),L-=rt.b-(rt.b=m[Y+2]),O-=rt.a-(rt.a=m[Y+3]),rt=rt.n,_+=V}}return d.putImageData(b,0,0),Ht.destroy(t),d};var Wt=function(){var t=this;Vt.call(t),t.filterId=0,t.distance=4,t.angle=45,t.color=0,t.alpha=1,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.inner=!1,t.knockout=!1,t.hideObject=!1;var e=arguments,r=q(e[0]);Q(r)||(t.distance=r);var a=J(e[1]);!Q(a)&&a>=0&&360>=a&&(t.angle=a);var n=t.toColorInt(e[2]);Q(n)||(t.color=n);var o=J(e[3]);!Q(o)&&o>=0&&1>=o&&(t.alpha=o);var i=q(e[4]);!Q(i)&&i>=0&&255>=i&&(t.blurX=i);var s=q(e[5]);!Q(s)&&s>=0&&255>=s&&(t.blurY=s);var l=J(e[6]);!Q(l)&&l>=0&&255>=l&&(t.strength=l);var c=q(e[7]);!Q(c)&&c>=1&&15>=c&&(t.quality=c);var g=e[8];"boolean"==typeof g&&(t.inner=g);var p=e[9];"boolean"==typeof p&&(t.knockout=p);var u=e[10];"boolean"==typeof u&&(t.hideObject=u)};Wt.prototype=Object.create(Vt.prototype),Wt.prototype.constructor=Wt,Wt.prototype.render=function(t,e,r,a){var n=this,o=n.strength;if(0===o)return t;var i=n.quality,s=n.inner,l=n.angle*W/180,c=n.blurX,p=n.blurY,u=new Gt(c,p,i),d=u.render(t,e,r,a),v=n.toColorInt(n.color),y=g(v),b=S(y,r);d=f(d,b,s,o);var m=t._offsetX,I=t._offsetY,C=d._offsetX,x=d._offsetY,A=d.canvas,M=Ht.getCanvas(),F=A.width+m,U=A.height+I,B=0,k=0,Y=0,T=0,_=n.distance,w=a.getScale(),X=D(R(l)*_*w),P=D(Z(l)*_*w);0!==X&&(F+=j(X),0>X?B-=X:Y=X),0!==P&&(U+=j(X),0>P?k-=P:T=P),M.width=F,M.height=U;var L=M.getContext("2d");L.drawImage(t.canvas,C+B,x+k),L.globalAlpha=n.alpha,1>o&&(L.globalAlpha*=o);var O=n.knockout,E=n.hideObject;return L.globalCompositeOperation=h(s,O,E),L.drawImage(A,m+Y,I+T),L._offsetX=m+C,L._offsetY=I+x,Ht.destroy(d),L};var zt=function(){var t=this;Vt.call(t),t.filterId=2,t.color=16711680,t.alpha=1,t.blurX=6,t.blurY=6,t.strength=2,t.quality=1,t.inner=!1,t.knockout=!1;var e=arguments,r=t.toColorInt(e[0]);Q(r)||(t.color=r);var a=J(e[1]);!Q(a)&&a>=0&&1>=a&&(t.alpha=a);var n=q(e[2]);!Q(n)&&n>=0&&255>=n&&(t.blurX=n);var o=q(e[3]);!Q(o)&&o>=0&&255>=o&&(t.blurY=o);var i=J(e[4]);!Q(i)&&i>=0&&255>=i&&(t.strength=i);var s=q(e[5]);!Q(s)&&s>=1&&15>=s&&(t.quality=s);var l=e[6];"boolean"==typeof l&&(t.inner=l);var c=e[7];"boolean"==typeof c&&(t.knockout=c)};zt.prototype=Object.create(Vt.prototype),zt.prototype.constructor=zt,zt.prototype.render=function(t,e,r,a){var n=this,o=n.strength;if(0===o)return t;var i=n.inner,s=n.blurX,l=n.blurY,c=new Gt(s,l,n.quality),p=c.render(t,e,r,a),u=p.canvas.width+t._offsetX,h=p.canvas.height+t._offsetY,d=n.toColorInt(n.color),v=g(d),y=S(v,r);p=f(p,y,i,o);var b=Ht.getCanvas();b.width=u,b.height=h;var m=b.getContext("2d");m.drawImage(t.canvas,p._offsetX,p._offsetY),m.globalAlpha=n.alpha,1>o&&(m.globalAlpha*=o);var I="source-over";return I=n.knockout?i?"source-in":"source-out":i?"source-atop":"destination-over",m.globalCompositeOperation=I,m.drawImage(p.canvas,t._offsetX,t._offsetY),m._offsetX=t._offsetX+p._offsetX,m._offsetY=t._offsetY+p._offsetY,Ht.destroy(p),m};var Kt=function(){var t=this;Vt.call(t),t.filterId=3,t.distance=4,t.angle=45,t.highlightColor=16777215,t.highlightAlpha=1,t.shadowColor=0,t.shadowAlpha=1,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.type="inner",t.knockout=!1;var e=arguments,r=q(e[0]);Q(r)||(t.distance=r);var a=J(e[1]);!Q(a)&&a>=0&&360>=a&&(t.angle=a);var n=t.toColorInt(e[2]);Q(n)||(t.highlightColor=n);var o=J(e[3]);!Q(o)&&o>=0&&1>=o&&(t.highlightAlpha=o);var i=t.toColorInt(e[4]);Q(i)||(t.shadowColor=i);var s=J(e[5]);!Q(s)&&s>=0&&1>=s&&(t.shadowAlpha=s);var l=q(e[6]);!Q(l)&&l>=0&&255>=l&&(t.blurX=l);var c=q(e[7]);!Q(c)&&c>=0&&255>=c&&(t.blurY=c);var g=J(e[8]);!Q(g)&&g>=0&&255>=g&&(t.strength=g);var p=q(e[9]);!Q(p)&&p>=1&&15>=p&&(t.quality=p);var u=e[10];"string"==typeof u&&(t.type=u);var f=e[11];"boolean"==typeof f&&(t.knockout=f)};Kt.prototype=Object.create(Vt.prototype),Kt.prototype.constructor=Kt,Kt.prototype.render=function(t,e,r,a){var n,o,i=this,s=i.distance,l=i.angle,c=i.shadowColor,p=i.shadowAlpha,u=i.highlightColor,d=i.highlightAlpha,v=i.blurX,y=i.blurY,b=i.strength,m=i.quality,I=i.knockout,C=l*W/180,x=i.type,A=new Gt(v,y,m),M=A.render(t,e,r,a),F=M.canvas,U=M._offsetX,B=M._offsetY,k=Ht.getCanvas();k.width=F.width,k.height=F.height;var Y=k.getContext("2d");Y.drawImage(F,0,0);var T=i.toColorInt(c);n=g(T),o=S(n,r),Y=f(Y,o,!1,b);var _=Ht.getCanvas();_.width=F.width,_.height=F.height;var w=_.getContext("2d");w.drawImage(F,0,0);var X=i.toColorInt(u);n=g(X),o=S(n,r),w=f(w,o,!1,b);var P="inner"===x||"full"===x,L="outer"===x||"full"===x,O=t._offsetX,E=t._offsetY,H=Ht.getCanvas(),N=F.width+O,V=F.height+E,G=0,z=0,K=a.getScale(),q=D(R(C)*s*K),J=D(Z(C)*s*K);0!==q&&(N+=j(q),0>q&&(G-=q)),0!==J&&(V+=j(q),0>J&&(z-=J)),H.width=N,H.height=V;var Q=H.getContext("2d");I||Q.drawImage(t.canvas,U+G,B+z),1>b&&(Q.globalAlpha*=b),Q._offsetX=O+U,Q._offsetY=E+B;var $=Ht.getCanvas();$.width=N+U,$.height=V+B;var tt=$.getContext("2d");tt.globalCompositeOperation="xor",tt.globalAlpha=d,tt.drawImage(w.canvas,-q+G,-J+z),tt.globalAlpha=p,tt.drawImage(Y.canvas,q,J);var et;return P&&L?et="source-over":P?(Q.drawImage(t.canvas,U+G,B+z),et=h(!0,I)):L&&(et="destination-over"),Q.globalCompositeOperation=et,Q.drawImage(tt.canvas,0,0),!P&&L&&I&&(Q.globalCompositeOperation="destination-out",Q.drawImage(t.canvas,U+G,B+z)),Ht.destroy(M),Ht.destroy(w),Ht.destroy(Y),Ht.destroy(tt),Q};var qt=function(){var t=this;Vt.call(t),t.filterId=4,t.distance=4,t.angle=45,t.colors=null,t.alphas=null,t.ratios=null,t.blurX=4,t.blurY=4,t.strength=1,t.quality=1,t.type="inner",t.knockout=!1;var e=arguments,r=q(e[0]);Q(r)||(t.distance=r);var a=J(e[1]);!Q(a)&&a>=0&&360>=a&&(t.angle=a),t.colors=e[2],t.alphas=e[3],t.ratios=e[4];var n=q(e[5]);!Q(n)&&n>=0&&255>=n&&(t.blurX=n);var o=q(e[6]);!Q(o)&&o>=0&&255>=o&&(t.blurY=o);var i=J(e[7]);!Q(i)&&i>=0&&255>=i&&(t.strength=i);var s=q(e[8]);!Q(s)&&s>=1&&15>=s&&(t.quality=s);var l=e[9];"string"==typeof l&&(t.type=l);var c=e[10];"boolean"==typeof c&&(t.knockout=c)};qt.prototype=Object.create(Vt.prototype),qt.prototype.constructor=qt,qt.prototype.render=function(t,e,r,a){var n=this,o=n.strength;if(0===o)return t;var i=n.type,s=n.blurX,l=n.blurY,c="inner"===i||"full"===i,g="outer"===i||"full"===i,p=n.knockout,u=n.angle,f=u*W/180,d=new Gt(s,l,n.quality),v=d.render(t,e,r,a),y=t._offsetX,b=t._offsetY,m=v._offsetX,S=v._offsetY,I=v.canvas,C=Ht.getCanvas(),x=I.width+y,A=I.height+b,M=0,F=0,U=0,B=0,k=n.distance,Y=a.getScale(),T=D(R(f)*k*Y),_=D(Z(f)*k*Y);0!==T&&(x+=j(T),0>T?M-=T:U=T),0!==_&&(A+=j(T),0>_?F-=_:B=_),C.width=x,C.height=A;var w=C.getContext("2d");p||w.drawImage(t.canvas,m+M,S+F),1>o&&(w.globalAlpha*=o);var X;return c&&g?X="source-over":(p&&w.drawImage(t.canvas,m+M,S+F),X=h(c,p)),w.globalCompositeOperation=X,w.drawImage(I,y+U,b+B),w._offsetX=y+m,w._offsetY=b+S,Ht.destroy(v),w};var Jt=function(){var t=this;Vt.call(t),t.filterId=5};Jt.prototype=Object.create(Vt.prototype),Jt.prototype.constructor=Jt,Jt.prototype.render=function(t){return t};var Qt=function(){var t=this;Vt.call(t),t.filterId=6};Qt.prototype=Object.create(Vt.prototype),Qt.prototype.constructor=Qt,Qt.prototype.render=function(t){return t};var $t=function(){var t=this;Vt.call(t),t.filterId=7};$t.prototype=Object.create(Vt.prototype),$t.prototype.constructor=$t,$t.prototype.render=function(t){return t};var te=function(){this.clear()};te.prototype.clear=function(){var t=this,e=z.MAX_VALUE;return t.bounds={xMin:e,xMax:-e,yMin:e,yMax:-e},t.maxWidth=0,t.isDraw=!1,t.isFillDraw=!1,t.isLineDraw=!1,t.cacheKey="",t.fillRecodes=[],t.lineRecodes=[],t},te.prototype.getCacheKey=function(){return this.cacheKey},te.prototype.addCacheKey=function(){var t=arguments,e="",r=t.length;if(r)for(var a=0;r>a;a++){var n=t[a];e+="_"+n}this.cacheKey+=e},te.prototype.getBounds=function(){return this.bounds},te.prototype.setBounds=function(t,e){var r=this.bounds;r.xMin=w(r.xMin,t),r.xMax=X(r.xMax,t),r.yMin=w(r.yMin,e),r.yMax=X(r.yMax,e)},te.prototype.pushFillRecode=function(t){var e=this.fillRecodes;e[e.length]={recodes:[],style:t,cmd:null}},te.prototype.getFillRecode=function(){var t=this.fillRecodes,e=t[t.length-1];return e.cmd=null,e.recodes},te.prototype.pushLineRecode=function(t,e,r,a){var n=this.lineRecodes;n[n.length]={recodes:[],Width:e,capsStyle:r,jointStyle:a,style:t,cmd:null}},te.prototype.getLineRecode=function(){var t=this.lineRecodes,e=t[t.length-1];return e.cmd=null,e.recodes},te.prototype.beginFill=function(t,e){"string"==typeof t&&(t=p(t));var r=this,a=q(t);if(!Q(a)){e=J(e),Q(e)&&(e=100);var n=g(t,e);r.pushFillRecode(n),r.addCacheKey(t,e),r.isDraw=!0,r.isFillDraw=!0}return r},te.prototype.lineStyle=function(t,e,r,a,n,o,i){var s=this;if(t=J(t),!Q(t)){"string"==typeof e&&(e=p(e));var l=q(e);Q(l)&&(e=0),r=J(r),Q(r)&&(r=100),o||(o="round"),i||(i="round");var c=g(e,r);t*=20,s.maxWidth=X(s.maxWidth,t),s.pushLineRecode(c,t,o,i),s.addCacheKey(e,r),s.isDraw=!0,s.isLineDraw=!0}return s},te.prototype.moveTo=function(t,e){var r=this,a=r.isFillDraw,n=r.isLineDraw;if(t*=20,e*=20,a){var o=r.getFillRecode();o[o.length]=[0,t,e]}if(n){var i=r.getLineRecode();i[i.length]=[0,t,e]}return(a||n)&&(r.setBounds(t,e),r.addCacheKey(t,e)),r},te.prototype.lineTo=function(t,e){var r=this,a=r.isFillDraw,n=r.isLineDraw;if(t*=20,e*=20,a){var o=r.getFillRecode();o[o.length]=[2,t,e]}if(n){var i=r.getLineRecode();i[i.length]=[2,t,e]}return(a||n)&&(r.setBounds(t,e),r.addCacheKey(t,e)),r},te.prototype.curveTo=function(t,e,r,a){var n=this,o=n.isFillDraw,i=n.isLineDraw;if(t*=20,e*=20,r*=20,a*=20,o){var s=n.getFillRecode();s[s.length]=[1,t,e,r,a]}if(i){var l=n.getLineRecode();l[l.length]=[1,t,e,r,a]}return(o||i)&&(n.setBounds(t,e),n.setBounds(r,a),n.addCacheKey(t,e,r,a)),n},te.prototype.cubicCurveTo=function(t,e,r,a,n,o){var i=this,s=i.isFillDraw,l=i.isLineDraw;if(t*=20,e*=20,r*=20,a*=20,n*=20,o*=20,s){var c=i.getFillRecode();c[c.length]=[3,t,e,r,a,n,o]}if(l){var g=i.getLineRecode();g[g.length]=[3,t,e,r,a,n,o]}return(s||l)&&(i.setBounds(n,o),i.addCacheKey(t,e,r,a,n,o)),i},te.prototype.drawCircle=function(t,e,r){var a=this,n=a.isFillDraw,o=a.isLineDraw;if(t*=20,e*=20,r*=20,n){var i=a.getFillRecode();i[i.length]=[4,t,e,r,0,2*W]}if(o){var s=a.getLineRecode();s[s.length]=[4,t,e,r,0,2*W]}return(n||o)&&(a.setBounds(t-r,e-r),a.setBounds(t+r,e+r),a.addCacheKey(t,e,r)),a},te.prototype.drawEllipse=function(t,e,r,a){var n=this,o=n.isFillDraw,i=n.isLineDraw;t*=20,e*=20,r*=20,a*=20;var s=w(r,a),l=d(r,a),c=r/l,g=a/l,p=w(c,g)/X(c,g),u=[5];if(r===a?(u[u.length]=1,u[u.length]=1):r>a?(u[u.length]=1,u[u.length]=p):(u[u.length]=p,u[u.length]=1),u[u.length]=t,u[u.length]=e,u[u.length]=s,u[u.length]=0,u[u.length]=2*W,o){var f=n.getFillRecode();f[f.length]=u}if(i){var h=n.getLineRecode();h[h.length]=u}return(o||i)&&(n.setBounds(t-r,e-a),n.setBounds(t+r,e+a),n.addCacheKey(t,e,r,a)),n},te.prototype.drawRect=function(t,e,r,a){var n=this;return n.moveTo(t,e),n.lineTo(t+r,e),n.lineTo(t+r,e+a),n.lineTo(t,e+a),n.lineTo(t,e),n},te.prototype.drawRoundRect=function(t,e,r,a,n,o){var i=this,s=i.isFillDraw,l=i.isLineDraw;t*=20,e*=20,r*=20,a*=20,n*=20,o*=20;var c,g,p,u=n/2,f=o/2,h=w(u,f),v=d(n,o),y=n/v,b=o/v,m=w(y,b)/X(y,b),S=[];n===o?(g=1,p=1):n>o?(g=1,p=m):(g=m,p=1),c=[],c[c.length]=5,c[c.length]=g,c[c.length]=p,c[c.length]=t+u,c[c.length]=e+f,c[c.length]=h,c[c.length]=W,c[c.length]=1.5*W,S[S.length]=c,c=[],c[c.length]=2,c[c.length]=t+r-u,c[c.length]=e,S[S.length]=c,c=[],c[c.length]=5,c[c.length]=g,c[c.length]=p,c[c.length]=t+r-u,c[c.length]=e+f,c[c.length]=h,c[c.length]=1.5*W,c[c.length]=0,S[S.length]=c,c=[],c[c.length]=2,c[c.length]=t+r,c[c.length]=e+a-f,S[S.length]=c,c=[],c[c.length]=5,c[c.length]=g,c[c.length]=p,c[c.length]=t+r-u,c[c.length]=e+a-f,c[c.length]=h,c[c.length]=0,c[c.length]=.5*W,S[S.length]=c,c=[],c[c.length]=2,c[c.length]=t+u,c[c.length]=e+a,S[S.length]=c,c=[],c[c.length]=5,c[c.length]=g,c[c.length]=p,c[c.length]=t+u,c[c.length]=e+a-f,c[c.length]=h,c[c.length]=.25*W,c[c.length]=W,S[S.length]=c,c=[],c[c.length]=2,c[c.length]=t,c[c.length]=e-f,S[S.length]=c;var I=S.length,C=0;if(s){var x=i.getFillRecode();for(C=0;I>C;C++)x[x.length]=S[C]}if(l){var A=i.getLineRecode();for(C=0;I>C;C++)A[A.length]=S[C]}return(s||l)&&(i.setBounds(t-r,e-a),i.setBounds(t+r,e+a),i.addCacheKey(t,e,r,a,n,o)),i},te.prototype.drawTriangles=function(t,e){var r=this,a=t.length;if(a&&a%3===0){var n=0,o=0;if(e){if(a=e.length,a&&a%3===0)for(n=0;a>n;n++){var i=e[n];0===o?r.moveTo(t[i],t[i+1]):r.lineTo(t[i],t[i+1]),o++,o%3===0&&(o=0)}}else for(n=0;a>n;n++)0===o?r.moveTo(t[n++],t[n]):r.lineTo(t[n++],t[n]),o++,o%3===0&&(o=0)}return r},te.prototype.endFill=function(){var t=this;return t.isFillDraw=!1,t},te.prototype.closePath=function(){var t=this,e=t.isFillDraw,r=t.isLineDraw;if(e){var a=t.getFillRecode();a[a.length]=[6]}if(r){var n=t.getLineRecode();n[n.length]=[6]}return t},te.prototype.render=function(t,e,r,a){var n=this,i="",l=r[3]+r[7]/255;if(!l)return i;var c=o(a.getMatrix(),e),g=b(c),p=g[0],u=g[1],f=n.maxWidth,h=f/2,d=n.getBounds(),v=d.xMax,y=d.xMin,m=d.yMax,S=d.yMin,I=j(D((v-y+f)*p)),C=j(D((m-S+f)*u));if(0>=I||0>=C)return i;var x,A;if(i=Ht.generateKey("Graphics",0,g,r),i+=n.getCacheKey(),x=Ht.getCache(i),!x&&a.getWidth()>I&&a.getHeight()>C&&Ht.size>I*C){A=Ht.getCanvas(),A.width=I,A.height=C,x=A.getContext("2d");var M=[p,0,0,u,(-y+h)*p,(-S+h)*u];s(x,M),x=n.executeRender(x,w(p,u),r,a.clipMc),Ht.setCache(i,x)}if(x){A=x.canvas;var F=[1/p,0,0,1/u,y-h,S-h],U=o(c,F);s(t,U),bt&&!St?(t.fillStyle=a.context.createPattern(x.canvas,"no-repeat"),t.fillRect(0,0,I,C)):t.drawImage(A,0,0,I,C)}else s(t,c),n.executeRender(t,w(c[0],c[3]),r,a.clipMc);return i+"_"+c[4]+"_"+c[5]},te.prototype.executeRender=function(t,e,r,a){var n,o,i,s,l,g,p=this,u=p.fillRecodes,f=p.lineRecodes,h=S,d=c;if(n=u.length)for(o=0;n>o;o++)i=u[o],s=i.recodes,s.length&&(l=h(i.style,r),g=i.cmd,null===g&&(g=Ot.buildCommand(s),i.cmd=g),t.beginPath(),t.fillStyle=d(l),g(t),a?t.clip():t.fill());if(!a&&(n=f.length))for(o=0;n>o;o++)i=f[o],s=i.recodes,s.length&&(l=h(i.style,r),g=i.cmd,null===g&&(g=Ot.buildCommand(s),i.cmd=g),t.beginPath(),t.strokeStyle=d(l),t.lineWidth=X(i.Width,1/e),t.lineCap=i.capsStyle,t.lineJoin=i.jointStyle,g(t),t.stroke());var v="rgba(0,0,0,1)";return t.strokeStyle=v,t.fillStyle=v,t.globalAlpha=1,t},te.prototype.renderHitTest=function(t,e,r,a,n){var i,l,c,g,p,u=this,f=o(r.getMatrix(),e),h=u.fillRecodes,d=u.lineRecodes,v=!1;if(s(t,f),g=h.length)for(c=0;g>c;c++)if(p=h[c],l=p.cmd,null===l&&(i=p.recodes,l=Ot.buildCommand(i),p.cmd=l),t.beginPath(),l(t),v=t.isPointInPath(a,n))return v;if(g=d.length){var y=w(f[0],f[3]);for(c=0;g>c;c++)if(p=d[c],l=p.cmd,null===l&&(i=p.recodes,l=Ot.buildCommand(i),p.cmd=l),t.beginPath(),t.lineWidth=X(p.Width,1/y),t.lineCap="round",t.lineJoin="round",l(t),v=t.isPointInStroke(a,n))return v}return v};var ee=function(){var t=this;t._leftToLeft=0,t._leftToRight=1,t._pan=0,t._rightToLeft=0,t._rightToRight=1,t._volume=1};Object.defineProperties(ee.prototype,{leftToLeft:{get:function(){return this.getLeftToLeft()},set:function(t){this.setLeftToLeft(t)}},leftToRight:{get:function(){return this.getLeftToRight()},set:function(t){this.setLeftToRight(t)}},pan:{get:function(){return this.getPan()},set:function(t){this.setPan(t)}},rightToLeft:{get:function(){return this.getRightToLeft()},set:function(t){this.setRightToLeft(t)}},rightToRight:{get:function(){return this.getRightToRight()},set:function(t){this.setRightToRight(t)}},volume:{get:function(){return this.getVolume()},set:function(t){this.setVolume(t)}}}),ee.prototype.getLeftToLeft=function(){return this._leftToLeft},ee.prototype.setLeftToLeft=function(t){t=q(t),Q(t)||(this._leftToLeft=t)},ee.prototype.getLeftToRight=function(){return this._leftToRight},ee.prototype.setLeftToRight=function(t){t=q(t),Q(t)||(this._leftToRight=t)},ee.prototype.getPan=function(){return this._pan},ee.prototype.setPan=function(t){t=q(t),Q(t)||(this._pan=t)},ee.prototype.getRightToLeft=function(){return this._rightToLeft},ee.prototype.setRightToLeft=function(t){t=q(t),Q(t)||(this._rightToLeft=t)},ee.prototype.getRightToRight=function(){return this._rightToRight},ee.prototype.setRightToRight=function(t){t=q(t),Q(t)||(this._rightToRight=t)},ee.prototype.getVolume=function(){return this._volume},ee.prototype.setVolume=function(t){t=q(t),Q(t)||(this._volume=t)},ee.prototype.SoundTransform=function(t,e){var r=this;t=q(t),Q(t)||(r.volume=t),e=q(e),Q(e)||(r.pan=e)};var re=function(){var t=this;t.target={},t.bubbles=!0,t.cancelable=!0,t.currentTarget={},t.eventPhase=0};re.prototype.ACTIVATE="activate";var ae=function(t){var e=this;e.type=t,re.call(this)};ae.prototype=Object.create(re.prototype),ae.prototype.constructor=ae;var ne=new ae,oe=function(){var t=this;t.events={},t.isLoad=!1,t.active=!1};Object.defineProperties(oe.prototype,{onEnterFrame:{get:function(){return this.getOnEvent("onEnterFrame")},set:function(t){this.setVariable("onEnterFrame",t)}},onPress:{get:function(){return this.getOnEvent("onPress")},set:function(t){this.setVariable("onPress",t)}},onRelease:{get:function(){return this.getOnEvent("onRelease")},set:function(t){this.setVariable("onRelease",t)}},onRollOver:{get:function(){return this.getOnEvent("onRollOver")},set:function(t){this.setVariable("onRollOver",t)}},onRollOut:{get:function(){return this.getOnEvent("onRollOut")},set:function(t){this.setVariable("onRollOut",t)}},onData:{get:function(){return this.getOnEvent("onData")},set:function(t){this.setVariable("onData",t)}},onMouseDown:{get:function(){return this.getOnEvent("onMouseDown")},set:function(t){this.setVariable("onMouseDown",t)}},onMouseUp:{get:function(){return this.getVariable("onMouseUp")},set:function(t){this.setVariable("onMouseUp",t)}},onMouseMove:{get:function(){return this.getOnEvent("onMouseMove")},set:function(t){this.setVariable("onMouseMove",t)}},onDragOut:{get:function(){return this.getOnEvent("onDragOut")},set:function(t){this.setVariable("onDragOut",t)}},onDragOver:{get:function(){return this.getOnEvent("onDragOver")},set:function(t){this.setVariable("onDragOver",t)}},onKeyDown:{get:function(){return this.getOnEvent("onKeyDown")},set:function(t){this.setVariable("onKeyDown",t)}},onKeyUp:{get:function(){return this.getOnEvent("onKeyUp")},set:function(t){this.setVariable("onKeyUp",t)}},onLoad:{get:function(){return this.getOnEvent("onLoad")},set:function(t){
this.setVariable("onLoad",t)}},onUnLoad:{get:function(){return this.getVariable("onUnLoad")},set:function(t){this.setVariable("onUnLoad",t)}}}),oe.prototype.getOnEvent=function(t){return this.getVariable(t)},oe.prototype.addEventListener=function(t,e){var r=this.events;t in r||(r[t]=[]);var a=r[t];a[a.length]=e},oe.prototype.dispatchEvent=function(t){var e=this,r=t.type;if(e.hasEventListener(r)){var a=e.events[r];e.setActionQueue(a)}},oe.prototype.hasEventListener=function(t){return t in this.events},oe.prototype.removeEventListener=function(t,e){var r=this;if(r.hasEventListener(t))for(var a=r.events,n=a[t],o=n.length,i=0;o>i;i++)if(n[i]===e){delete n[i];break}},oe.prototype.willTrigger=function(t){return this.hasEventListener(t)},oe.prototype.setActionQueue=function(t){var e=this,r=e.getMovieClip("_root"),a=r.getStage(),n=a.actions;n[n.length]={as:t,mc:e}};var ie=function(){},se=function(){var t=this;oe.call(t),t.initialize()};se.prototype=Object.create(oe.prototype),se.prototype.constructor=se,Object.defineProperties(se.prototype,{accessibilityProperties:{value:new ie},alpha:{get:function(){return this.getAlpha()/100},set:function(t){this.setAlpha(100*t)}},_alpha:{get:function(){return this.getAlpha()},set:function(t){this.setAlpha(t)}},name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},_name:{get:function(){return this.getName()},set:function(t){this.setName(t)}},blendMode:{get:function(){return this.getBlendMode()},set:function(t){this.setBlendMode(t)}},filters:{get:function(){return this.getFilters()},set:function(t){this.setFilters(t)}},_visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},visible:{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)}},_rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},rotation:{get:function(){return this.getRotation()},set:function(t){this.setRotation(t)}},_height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},height:{get:function(){return this.getHeight()},set:function(t){this.setHeight(t)}},_width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},width:{get:function(){return this.getWidth()},set:function(t){this.setWidth(t)}},_x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},x:{get:function(){return this.getX()},set:function(t){this.setX(t)}},_y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},y:{get:function(){return this.getY()},set:function(t){this.setY(t)}},_xscale:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},scaleX:{get:function(){return this.getXScale()},set:function(t){this.setXScale(t)}},_yscale:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},scaleY:{get:function(){return this.getYScale()},set:function(t){this.setYScale(t)}},_xmouse:{get:function(){return this.getXMouse()},set:function(){}},mouseX:{get:function(){return this.getXMouse()},set:function(){}},_ymouse:{get:function(){return this.getYMouse()},set:function(){}},mouseY:{get:function(){return this.getYMouse()},set:function(){}},mask:{get:function(){return this.getMask()},set:function(t){this.setMask(t)}},enabled:{get:function(){return this.getEnabled()},set:function(t){this.setEnabled(t)}}}),se.prototype.initialize=function(){var t=this;t.instanceId=ft++,t.characterId=0,t.tagType=0,t.ratio=0,t.clipDepth=0,t.isClipDepth=!1,t.stageId=null,t.loadStageId=null,t.variables={},t.buttonStatus="up",t.__visible=!0,t.__name=null,t._url=null,t._highquality=1,t._focusrect=1,t._soundbuftime=null,t._totalframes=1,t._level=0,t._depth=null,t._framesloaded=0,t._target="",t._lockroot=!0,t._enabled=!0,t._blendMode=null,t._filters=null,t._filterCacheKey=null,t._parent=null,t._parentPlace=null,t._mask=null,t._matrix=null,t._colorTransform=null},se.prototype.flash={filters:{DropShadowFilter:Wt,BlurFilter:Gt,GlowFilter:zt,BevelFilter:Kt,GradientGlowFilter:qt,ConvolutionFilter:Jt,ColorMatrixFilter:Qt,GradientBevelFilter:$t,BitmapFilter:Vt}},se.prototype.toString=function(){var t=this.getTarget(),e="_level0",r=t.split("/");return e+=r.join(".")},se.prototype.setStage=function(t){var e=this;if(e.stageId=t.getId(),e instanceof ye){var r=e.getSprite("up");r.setStage(t);var a=e.getSprite("down");a.setStage(t);var n=e.getSprite("hit");n.setStage(t);var o=e.getSprite("over");o.setStage(t)}t.setInstance(e)},se.prototype.getStage=function(){var t=this,e=t.getLoadStage();return e||(e=t.getParentStage()),e},se.prototype.getParentStage=function(){var t=this.stageId;return null!==t?t in pt?pt[t]:ut[t]:void 0},se.prototype.getLoadStage=function(){var t=this.loadStageId;return null!==t?t in pt?pt[t]:ut[t]:void 0},se.prototype.setLoadStage=function(t){this.loadStageId=null!==t?t.getId():null},se.prototype.getCharacterId=function(){return this.characterId},se.prototype.setCharacterId=function(t){this.characterId=t},se.prototype.getTagType=function(){return this.tagType},se.prototype.setTagType=function(t){this.tagType=t},se.prototype.getRatio=function(){return this.ratio},se.prototype.setRatio=function(t){this.ratio=t},se.prototype.getParent=function(){var t,e=this,r=e.getLoadStage();return r&&(t=r.getInstance(e._parent)),t||(r=e.getParentStage(),t=r.getInstance(e._parent)),t},se.prototype.setParent=function(t){var e=this;t instanceof ge&&t.setInstance(e),e._parent=t.instanceId},se.prototype.getParentSprite=function(){var t=this,e=t.getStage();return e.getInstance(t._sprite)},se.prototype.setParentSprite=function(t){this._sprite=t.instanceId},se.prototype.getButtonStatus=function(){return this.buttonStatus},se.prototype.setButtonStatus=function(t){this.buttonStatus=t},se.prototype.getMask=function(){return this._mask},se.prototype.setMask=function(t){this._mask=t},se.prototype.getEnabled=function(){return this._enabled},se.prototype.setEnabled=function(t){this._enabled=t},se.prototype.getButtonMode=function(){return this._buttonMode},se.prototype.setButtonMode=function(t){this._buttonMode=t},se.prototype.getTarget=function(){return this._target},se.prototype.setTarget=function(t){this._target=t},se.prototype.addProperty=function(t,e,r){return"string"!=typeof t||""===t?!1:(e||(e=function(){}),r&&(r=function(){}),"function"!=typeof e||"function"!=typeof r?!1:(Object.defineProperty(this,t,{get:e,set:r}),!0))},se.prototype.splitPath=function(t){var e,r=this,a=r,n=t,o="";if("string"==typeof t&&(-1!==t.indexOf(":")?(e=t.split(":"),o=e[0],n=e[1]):-1!==t.indexOf(".")&&(e=t.split("."),n=e.pop(),o+=e.join(".")),""!==o)){var i=r.getMovieClip(o);i&&(a=i)}return{scope:a,target:n}},se.prototype.getProperty=function(t,e){var r=this,a=t;if(e!==!1){var n=r.splitPath(t);r=n.scope,a=n.target}var o;switch(a){case 0:case"_x":o=r.getX();break;case 1:case"_y":o=r.getY();break;case 2:case"_xscale":o=r.getXScale();break;case 3:case"_yscale":o=r.getYScale();break;case 4:case"_currentframe":r instanceof be&&(o=r.getCurrentFrame());break;case 5:case"_totalframes":r instanceof be&&(o=r.getTotalFrames());break;case 6:case"_alpha":o=r.getAlpha();break;case 7:case"_visible":o=r.getVisible();break;case 8:case"_width":o=r.getWidth();break;case 9:case"_height":o=r.getHeight();break;case 10:case"_rotation":o=r.getRotation();break;case 11:case"_target":o=r.getTarget();break;case 12:case"_framesloaded":o=r._framesloaded;break;case 13:case"_name":o=r.getName();break;case 14:case"_droptarget":r instanceof be&&(o=r.getDropTarget());break;case 15:case"_url":o=r._url;break;case 16:case"_highquality":o=r._highquality;break;case 17:case"_focusrect":o=r._focusrect;break;case 18:case"_soundbuftime":o=r._soundbuftime;break;case 19:case"_quality":o=r._quality;break;case 20:case"_xmouse":o=r.getXMouse();break;case 21:case"_ymouse":o=r.getYMouse();break;case"text":if(r instanceof ve){var i=r.getVariable("variable");if(i){var s=r.getParent();o=s.getProperty(i)}else o=r.getVariable("text")}else o=r.getVariable(a);break;case"Key":o=Fe;break;case"$version":o="swf2js 8,0,0";break;case"MovieClip":o=be;break;case"TextField":o=ve;break;case"Sprite":o=pe;break;case"SimpleButton":o=ye;break;case"Shape":o=ue;break;case"enabled":o=r.getEnabled();break;case"blendMode":o=r.getBlendMode();break;case"SharedObject":o=new xe;break;default:o=r.getVariable(a,e),void 0===o&&a!==t&&(o=r.getGlobalVariable(t))}return o},se.prototype.setProperty=function(t,e,r){var a=this,n=t;if(r!==!1){var o=a.splitPath(t);a=o.scope,n=o.target}switch(n){case 0:case"_x":a.setX(e);break;case 1:case"_y":a.setY(e);break;case 2:case"_xscale":e=J(e),Q(e)||a.setXScale(e);break;case 3:case"_yscale":e=J(e),Q(e)||a.setYScale(e);break;case 4:case"_currentframe":case 5:case"_totalframes":case 15:case"_url":case 20:case"_xmouse":case 21:case"_ymouse":case 11:case"_target":case 12:case"_framesloaded":case 14:case"_droptarget":break;case 6:case"_alpha":a.setAlpha(e);break;case 7:case"_visible":a.setVisible(e);break;case 8:case"_width":a.setWidth(e);break;case 9:case"_height":a.setHeight(e);break;case 10:case"_rotation":a.setRotation(e);break;case 13:case"_name":a.setName(e);break;case 16:case"_highquality":a._highquality=e;break;case 17:case"_focusrect":a._focusrect=e;break;case 18:case"_soundbuftime":a._soundbuftime=e;break;case 19:case"_quality":a._quality=e;break;case"text":if(a instanceof ve){var i=a.getVariable("variable");if(i){var s=a.getParent();s.setProperty(i,e)}else a.setVariable("text",e);var l=a.input;l&&(l.value=e)}else a.setVariable(n,e);break;case"blendMode":a.setBlendMode(e);break;case"enabled":a.setEnabled(e);break;case"filters":a.setFilters(e);break;default:a.setVariable(n,e)}},se.prototype.getX=function(){var t=this.getMatrix();return t?t[4]/20:void 0},se.prototype.setX=function(t){if(t=J(t),!Q(t)){var e=this,r=e.getMatrix(),n=a(r);n[4]=20*t,e.setMatrix(n)}},se.prototype.getY=function(){var t=this.getMatrix();return t?t[5]/20:void 0},se.prototype.setY=function(t){if(t=J(t),!Q(t)){var e=this,r=e.getMatrix(),n=a(r);n[5]=20*t,e.setMatrix(n)}},se.prototype.getXScale=function(){var t=this.getMatrix(),e=100*H(t[0]*t[0]+t[1]*t[1]);return 0>t[0]&&(e*=-1),e},se.prototype.setXScale=function(t){var e=this,r=e.getMatrix(),n=a(r),o=1;0>n[0]&&(o=-1);var i=E(n[1],n[0]);t/=100,n[0]=t*R(i)*o,n[1]=t*Z(i)*o,e.setMatrix(n)},se.prototype.getYScale=function(){var t=this.getMatrix(),e=100*H(t[2]*t[2]+t[3]*t[3]);return 0>t[3]&&(e*=-1),e},se.prototype.setYScale=function(t){var e=this,r=e.getMatrix(),n=a(r),o=1;0>n[3]&&(o=-1);var i=E(-n[2],n[3]);t/=100,n[2]=-t*Z(i)*o,n[3]=t*R(i)*o,e.setMatrix(n)},se.prototype.getAlpha=function(){var t=this.getColorTransform(),e=t[3]+t[7]/255;return 100*e},se.prototype.setAlpha=function(t){if(t=J(t),!Q(t)){var e=this,r=e.getColorTransform(),n=a(r);n[3]=t/100,n[7]=0,e.setColorTransform(n)}},se.prototype.getVisible=function(){var t=this,e=t.getStage(),r=e.getVersion();return r>4?t.__visible:t.__visible?1:0},se.prototype.setVisible=function(t){var e=this;"boolean"==typeof t?e.__visible=t:(t=J(t),Q(t)||(e.__visible=t?!0:!1))},se.prototype.getLevel=function(){return this._level},se.prototype.setLevel=function(t){this._level=t},se.prototype.getName=function(){return this.__name},se.prototype.setName=function(t){this.__name=t},se.prototype.getRotation=function(){var t=this.getMatrix(),e=180*E(t[1],t[0])/W;switch(e){case-90.00000000000001:e=-90;break;case 90.00000000000001:e=90}return e},se.prototype.setRotation=function(t){if(t=J(t),!Q(t)){var e=this,r=e.getMatrix(),n=a(r),o=E(n[1],n[0]),i=E(-n[2],n[3]),s=H(n[0]*n[0]+n[1]*n[1]),l=H(n[2]*n[2]+n[3]*n[3]);t*=W/180,i+=t-o,o=t,n[0]=s*R(o),n[1]=s*Z(o),n[2]=-l*Z(i),n[3]=l*R(i),e.setMatrix(n)}},se.prototype.getWidth=function(){var t=this,e=t.getMatrix(),r=t.getBounds(e),a=r.xMax-r.xMin;return j(a)},se.prototype.setWidth=function(t){if(t=J(t),!Q(t)){var e=this,r=e.getOriginMatrix(),n=e.getBounds(r),o=j(n.xMax-n.xMin),i=t*r[0]/o;Q(i)&&(i=0),r=e.getMatrix();var s=a(r);s[0]=i,e.setMatrix(s)}},se.prototype.getHeight=function(){var t=this,e=t.getMatrix(),r=t.getBounds(e),a=r.yMax-r.yMin;return j(a)},se.prototype.setHeight=function(t){if(t=J(t),!Q(t)){var e=this,r=e.getOriginMatrix(),n=e.getBounds(r),o=j(n.yMax-n.yMin),i=t*r[3]/o;Q(i)&&(i=0),r=e.getMatrix();var s=a(r);s[3]=i,e.setMatrix(s)}},se.prototype.getXMouse=function(){if(!Ut)return null;var t=this,e=t.getMovieClip("_root"),r=e.getStage(),a=T.getElementById(r.getName()),n=a.getBoundingClientRect(),i=T.body,s=i.scrollLeft+n.left,l=0;if(It){var c=Ut.changedTouches[0];l=c.pageX}else l=Ut.pageX;for(var g=t,p=t.getMatrix(),u=o;;){var f=g.getParent();if(!f)break;p=u(f.getMatrix(),p),g=f}var h=r.getScale();return l-=s,l/=h,l-=p[4]/20},se.prototype.getYMouse=function(){if(!Ut)return null;var t=this,e=t.getMovieClip("_root"),r=e.getStage(),a=T.getElementById(r.getName()),n=a.getBoundingClientRect(),i=T.body,s=i.scrollTop+n.top,l=0;if(It){var c=Ut.changedTouches[0];l=c.pageY}else l=Ut.pageY;for(var g=t,p=t.getMatrix(),u=o;;){var f=g.getParent();if(!f)break;p=u(f.getMatrix(),p),g=f}var h=r.getScale();return l-=s,l/=h,l-=p[5]/20},se.prototype.getVariable=function(e,r){var a=this;if(void 0===e)return e;var n=a.variables;if(n){if(e in n)return n[e];var o=a.getStage(),i=o.getVersion();if(7>i)for(var s in n)if(n.hasOwnProperty(s)&&s.toLowerCase()===e.toLowerCase())return n[s];if(i>4){if(a instanceof be&&(c=a.getMovieClip(e,r)))return c;var l=o.getGlobal(),c=l.getVariable(e);if(c)return c;if(a instanceof be&&"flash"===e)return a.flash;if(e in t)return t[e]}}},se.prototype.setVariable=function(t,e){var r=this,a=r.variables,n=r.getStage();if("string"!=typeof t&&(t+=""),n.getVersion()<7)for(var o in a)if(a.hasOwnProperty(o)&&o.toLowerCase()===t.toLowerCase())return r.variables[o]=e,0;r.variables[t]=e},se.prototype.getGlobalVariable=function(t){var e=this,r=e.getStage(),a=r.getVersion();if(!(5>a)){var n=null;-1!==t.indexOf(".")&&(n=t.split("."));var o;if(n)for(var i=r.getGlobal(),s=i.variables,l=n.length,c=0;l>c;c++){var g=n[c];if(7>a){for(var p in s)if(s.hasOwnProperty(p)&&p.toLowerCase()===g.toLowerCase()){o=s[p];break}}else o=s[g];if(!o)break;s=o}return o}},se.prototype.getMovieClip=function(t,e){for(var r,a,n,o=this,i=o,s=i;n=s.getParent(),n;)s=n;if("string"!=typeof t&&(t+=""),"_root"===t)return s;if("this"===t)return this;var l=s.getStage();if("_global"===t)return l.getGlobal();if(n=i.getParent(),"_parent"===t)return null!==n?n:void 0;var c=1,g=[t];if(e!==!1)if(-1!==t.indexOf("/"))g=t.split("/"),c=g.length,""===g[0]&&(i=s);else if(-1!==t.indexOf("."))g=t.split("."),c=g.length,"_root"===g[0]&&(i=s);else if("_level"===t.substr(0,6)){var p=t.substr(6);if(Q(p)||(p=J(p)),0===p)return s;if(n||(n=l.getParent()),r=n.getTags(),p in r&&(a=r[p],a instanceof be))return a;return}for(var u=l.getVersion(),f=o.getStage(),h=0;c>h;h++){var d=g[h];if(""!==d)if("_root"!==d)if("this"!==d)if("_parent"!==d){if(".."!==d){if(r=i.getTags(),void 0===r)return;var v=r.length,y=!1;if(v>0)for(var b in r)if(r.hasOwnProperty(b)){var m=r[b];if(a=f.getInstance(m)){var S=a.getName();if(S)if(7>u){if(S.toLowerCase()===d.toLowerCase()){i=a,y=!0;break}}else if(S===d){i=a,y=!0;break}}}if(!y)return}else if(i=i.getParent(),!i)return}else{if(n=i.getParent(),!n)return;i=n}else i=o;else i=s}return i},se.prototype.preRender=function(t,e,r,a,n){var i=this;i.isLoad=!0;var s="",l=t,c=e;switch(!0){case i instanceof ge:case i instanceof ye:i.setHitRange(e,a,n)}var g=i.getMask();g&&i.renderMask(l,c,r,a);var p=i.getFilters(),u=!1;!a.clipMc&&null!==p&&p.length&&(u=!0);var f=i.getBlendMode(),h=!1;null!==f&&"normal"!==f&&(h=!0);var d,v,y,b,m,S,I,C;if(u||h){v=o(a.getMatrix(),e);var x,A=1;i instanceof ue||i instanceof he?(x=i.getBounds(),y=H(v[0]*v[0]+v[1]*v[1]),b=H(v[2]*v[2]+v[3]*v[3])):(A=20,x=i.getBounds(e),y=a.getScale()*Ft,b=a.getScale()*Ft),m=x.xMin,S=x.yMin,I=x.xMax,C=x.yMax;var M=j(D((I-m)*y)),F=j(D((C-S)*b)),U=Ht.getCanvas();U.width=M,U.height=F,d=U.getContext("2d"),d._offsetX=0,d._offsetY=0;var B=[1,0,0,1,-m*A,-S*A],k=[e[0],e[1],e[2],e[3],e[4],e[5]];(i instanceof ue||i instanceof he)&&(k[4]=0,k[5]=0),l=d,c=o(B,k)}return s+=i.renderGraphics(l,c,r,a),s+=i.render(l,c,r,a,n),g&&t.restore(),d&&(u&&""!==s&&(d=i.renderFilter(d,e,r,a,s)),m*=y,S*=b,(i instanceof ue||i instanceof he)&&(m+=v[4],S+=v[5]),m-=d._offsetX,S-=d._offsetY,i.renderBlend(t,d,m,S,u)),s},se.prototype.renderGraphics=function(t,e,r,a){var n=this.graphics,o="";return n&&n.isDraw&&(o=n.render(t,e,r,a)),o},se.prototype.renderMask=function(t,e,r,a){var n=this.getMask();if(n){t.save(),t.beginPath(),a.clipMc=!0;var s=o(e,n.getMatrix()),l=i(r,n.getColorTransform());n.render(t,s,l,a,!0),a.clipMc=!1}},se.prototype.getFilterKey=function(t){for(var e=[],r=t.length,a=0;r>a;a++){var n=t[a];for(var o in n)n.hasOwnProperty(o)&&(e[e.length]=n[o])}return e.join("_")},se.prototype.renderFilter=function(t,e,r,a,n){var o=this,i=o.getFilters();if(a.clipMc||!i||!i.length)return t;n+="_"+o.getFilterKey(i);var s,l="Filter_"+o.instanceId;if(o._filterCacheKey===n&&(s=Ht.getCache(l)),!s){for(var c=i.length,g=0;c>g;g++){var p=i[g];s=p.render(t,e,r,a)}o._filterCacheKey=n,Ht.setCache(l,s)}return Ht.destroy(t),s},se.prototype.renderBlend=function(t,e,r,a,n){var o=this,i=o.getBlendMode(),s="source-over",l=e.canvas,c=l.width,g=l.height;switch(e.setTransform(1,0,0,1,0,0),i){case"multiply":s="multiply";break;case"screen":s="screen";break;case"lighten":s="lighten";break;case"darken":s="darken";break;case"difference":s="difference";break;case"add":s="lighter";break;case"subtract":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,g),e.globalCompositeOperation="darken",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,g),s="color-burn";break;case"invert":e.globalCompositeOperation="difference",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,g),e.globalCompositeOperation="lighter",e.fillStyle="rgb(255,255,255)",e.fillRect(0,0,c,g),s="difference";break;case"alpha":s="source-over";break;case"erase":s="destination-out";break;case"overlay":s="overlay";break;case"hardlight":s="hard-light"}t.globalAlpha=1,t.globalCompositeOperation=s,t.setTransform(1,0,0,1,0,0),t.drawImage(l,r,a,l.width,l.height),t.globalCompositeOperation="source-over",n||Ht.destroy(e)},se.prototype.getOriginMatrix=function(){var t=this,e=t.getController();return e.getMatrix()},se.prototype.getMatrix=function(){var t=this,e=t._matrix;return e?e:t.getOriginMatrix()},se.prototype.setMatrix=function(t){var e=this;e._matrix=t,e.setController(!0,!1,!1,!1)},se.prototype.getOriginColorTransform=function(){var t=this,e=t.getController();return e.getColorTransform()},se.prototype.getColorTransform=function(){var t=this,e=t._colorTransform;return e?e:t.getOriginColorTransform()},se.prototype.setColorTransform=function(t){var e=this;e._colorTransform=t,e.setController(!1,!0,!1,!1)},se.prototype.getOriginBlendMode=function(){var t=this,e=t.getController();return e.getBlendMode()},se.prototype.getBlendMode=function(){var t=this,e=t._blendMode;return e?e:t.getOriginBlendMode()},se.prototype.setBlendMode=function(t){var e=y(t);if(null!==e){var r=this;r._blendMode=e,r.setController(!1,!1,!1,!0)}},se.prototype.getOriginFilters=function(){var t=this,e=t.getController();return e.getFilters()},se.prototype.getFilters=function(){var t=this,e=t._filters;return e?e:t.getOriginFilters()},se.prototype.setFilters=function(t){var e=this;e._filterCacheKey=null,e._filters=t,e.setController(!1,!1,!0,!1)},se.prototype.setController=function(t,e,r,n){var o=this,i=a;if(!t){var s=o._matrix;null===s&&(s=o.getMatrix(),o._matrix=i(s))}if(!e){var l=o._colorTransform;null===l&&(l=o.getColorTransform(),o._colorTransform=i(l))}if(!r){var c=o._filters;null===c&&(c=o.getFilters(),null===c&&(c=[]),o._filters=c)}if(!n){var g=o._blendMode;null===g&&(g=o.getBlendMode(),o._blendMode=g)}},se.prototype.getController=function(){var t=this,e=0,r=t.getLevel(),a=t.getParentStage();if(!a)return new Zt;var n=t.getParentSprite();if(n||(n=t.getParent()),!n)return new Zt;n instanceof be&&(e=n.getCurrentFrame());var o=a.getPlaceObject(n.instanceId,r,e);return o||(a=t.getLoadStage(),a&&(o=a.getPlaceObject(n.instanceId,r,e))),o?o:new Zt},se.prototype.reset=function(){var t=this;if(t.active=!1,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t._depth=null,t.setVisible(!0),t.setEnabled(!0),t.setButtonStatus("up"),t instanceof ve){var e=t.input;if(t.inputActive){e.onchange=null;var r=t.getStage(),a=T.getElementById(r.getName());if(a){t.setProperty("text",e.value),t.inputActive=!1;var n=T.getElementById(t.getTagName());if(n)try{a.removeChild(n)}catch(o){}}}}};var le=function(){var t=this;se.call(t)};le.prototype=Object.create(se.prototype),le.prototype.constructor=le;var ce=function(){this.charCount=0};ce.prototype.findText=function(){},ce.prototype.getSelected=function(){},ce.prototype.getSelectedText=function(){},ce.prototype.getText=function(){},ce.prototype.getTextRunInfo=function(){},ce.prototype.hitTestTextNearPos=function(){},ce.prototype.setSelectColor=function(){},ce.prototype.setSelected=function(){};var ge=function(){var t=this;le.call(t),t._mouseChildren=!0,t._tabChildren=!0,t._textSnapshot=new ce,t._numChildren=0,t.soundId=null,t.soundInfo=null,t.container=[],t.instances=[],t.isSwap=!1};ge.prototype=Object.create(le.prototype),ge.prototype.constructor=ge,Object.defineProperties(ge.prototype,{mouseChildren:{get:function(){return this.getMouseChildren()},set:function(t){this.setMouseChildren(t)}},textSnapshot:{get:function(){return this.getTextSnapshot()},set:function(){}},numChildren:{get:function(){return this.getNumChildren()},set:function(){}},tabChildren:{get:function(){return this.getTabChildren()},set:function(t){this.setTabChildren(t)}}}),ge.prototype.getMouseChildren=function(){return this._mouseChildren},ge.prototype.setMouseChildren=function(t){this._mouseChildren=t},ge.prototype.getTextSnapshot=function(){return this._textSnapshot},ge.prototype.getNumChildren=function(){return this._numChildren},ge.prototype.getTabChildren=function(){return this._tabChildren},ge.prototype.setTabChildren=function(t){this._tabChildren=t},ge.prototype.getContainer=function(){return this.container},ge.prototype.getInstances=function(){return this.instances},ge.prototype.setInstance=function(t){var e=this.instances,r=t.instanceId;r in e||(e[r]=1)},ge.prototype.deleteInstance=function(t){delete this.instances[t.instanceId]},ge.prototype.addChild=function(t,e){if(t instanceof se){var r=this;void 0===e&&(e=r._numChildren);var a=r.getStage();t.setParent(r),t.setStage(a),t.setLevel(e);var n=r.getContainer(),o=1;o in n||(n[o]=[]);var i=new Zt,s=r.instanceId;if(r instanceof be)for(var l=r.getTotalFrames()+1;l>o;o++)a.setPlaceObject(i,s,e,o),n[o][e]=t.instanceId;else a.setPlaceObject(i,s,e,o),n[e]=t.instanceId;r._numChildren++}return t},ge.prototype.addChildAt=function(t,e){return this.addChild(t,e)},ge.prototype.getChildAt=function(t){var e=this,r=e.getContainer(),a=r;if(16384>t&&(t+=16384),e instanceof be){var n=e.getCurrentFrame();a=r[n]}return a[t]},ge.prototype.getChildByName=function(t){var e=this,r=e.getContainer(),a=r;if(e instanceof be){var n=e.getCurrentFrame();a=r[n]}var o;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];if(s.getName()===t){o=s;break}}return o},ge.prototype.getChildIndex=function(t){var e;return t instanceof se&&(e=t.getLevel()-16384),e},ge.prototype.removeChild=function(t){var e,r,a=this,n=a.getContainer();if(a instanceof be){for(var o=a.getTotalFrames()+1,i=1;o>i;i++)if(i in n){var s=n[i];for(e in s)if(s.hasOwnProperty(e)){var l=s[e];if(l===t.instanceId){delete n[i][e];break}}}}else for(e in n)if(n.hasOwnProperty(e)&&(r=n[e],r.instanceId===t.instanceId)){delete n[e];break}return t&&(a.deleteInstance(t),a._numChildren--),t},ge.prototype.removeChildAt=function(t){var e=this,r=e.getContainer(),a=r;16384>t&&(t+=16384);var n;if(e instanceof be)for(var o=e.getTotalFrames(),i=1;o>i;i++)i in r&&(a=r[i],t in a&&(n=a[t],delete r[i][t]));else n=a[t],delete a[t];return n&&e._numChildren--,n},ge.prototype.addTag=function(t,e){var r=this;r.container[t]=e.instanceId,r._numChildren++},ge.prototype.startSound=function(){var t=this,e=t.soundId;if(e){var r=t.getStage(),a=r.sounds[e];if(a){var n=T.createElement("audio");n.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},n.src=a.base64,I(n,t.soundInfo)}}},ge.prototype.reset=function(){var t=this,e=t.container,r=e.length;if(r){var a=t.getStage();for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],i=a.getInstance(o);i.reset()}}t._depth=null,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null},ge.prototype.setHitRange=function(t,e,r){var n,i=this,s=i.getMask(),l=i.getStage(),c=a,g=o,p=[],u=i.getTags(),f=u.length,h=0;if(f){for(var d in u)if(u.hasOwnProperty(d)){h=X(d,h);var v=u[d],y=l.getInstance(v);if(y&&y!==s){for(var b=p.length,m=0;b>m;m++){var S=p[m];if(d>S){p.splice(m,1);break}}y.isClipDepth&&(p[p.length]=y.clipDepth);var I=w(y.getVisible(),r),C=g(t,y.getMatrix()),x=e.buttonHits;if(I&&y.getEnabled()&&(y.hasEventListener("press")||y.hasEventListener("release")||y.hasEventListener("rollOver")||y.hasEventListener("rollOut")||void 0!==y.onPress||void 0!==y.onRelease||void 0!==y.onRollOver||void 0!==y.onRollOut)&&(n=y.getBounds(C),x[x.length]={xMax:n.xMax,xMin:n.xMin,yMax:n.yMax,yMin:n.yMin,parent:y,matrix:c(C),active:p.length?!1:!0}),y instanceof ve){var A=y.getVariable("type");"input"===A&&(n=y.getBounds(C),x[x.length]={xMax:n.xMax,xMin:n.xMin,yMax:n.yMax,yMin:n.yMin,parent:y,active:p.length?!1:!0})}}}h++,f&&f!==h&&(u.length=h)}},ge.prototype.rendering=function(t,e,r,a,n,s){var l=this,c=o,g=i,p=l.getMask(),u=l.getStage(),f="",h=[],d=t.length;if(d)for(var v in t)if(t.hasOwnProperty(v)){var y=t[v],b=u.getInstance(y);if(b&&b!==p){for(var m=h.length,S=0;m>S;S++){var I=h[S];if(v>I){h.splice(S,1),e.restore();break}}b.isClipDepth&&(e.save(),e.beginPath(),h[h.length]=b.clipDepth,b instanceof be&&(n.isClipDepth=!0));var C=c(r,b.getMatrix()),x=g(a,b.getColorTransform()),A=w(b.getVisible(),s);b.isClipDepth&&(0===C[0]&&(C[0]=1e-14),0===C[3]&&(C[3]=1e-14)),f+=b.preRender(e,C,x,n,A),n.isClipDepth&&(n.isClipDepth=!1)}}return h.length&&e.restore(),f},ge.prototype.createMovieClip=function(t,e){var r=new be;return r=this.addChild(r,e),t&&r.setName(t),r},ge.prototype.createSprite=function(t,e){var r=new pe;return r=this.addChild(r,e),t&&r.setName(t),r},ge.prototype.createButton=function(t,e){var r=new ye;return r=this.addChild(r,e),t&&r.setName(t),r},ge.prototype.createText=function(t,e,r,a){var n=new ve(t,a,e,r);return n=this.addChild(n,a),n.setInitParams(),t&&n.setName(t),n.size=12,n},ge.prototype.createShape=function(t){var e=new ue;return e=this.addChild(e,t)};var pe=function(){var t=this;ge.call(t),t.touchPointID=0,t._buttonMode=!1,t._useHandCursor=!1,t._dropTarget=null,t._hitArea=null,t._graphics=new te,t._soundTransform=new ee};pe.prototype=Object.create(ge.prototype),pe.prototype.constructor=pe,Object.defineProperties(pe.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}},hitArea:{get:function(){return this.getHitArea()},set:function(t){this.setHitArea(t)}},soundTransform:{get:function(){return this._soundTransform},set:function(){}},useHandCursor:{get:function(){return this.getUseHandCursor()},set:function(t){this.setUseHandCursor(t)}},dropTarget:{get:function(){return this.getDropTarget()},set:function(){this.setDropTarget()}}}),pe.prototype.getGraphics=function(){return this._graphics},pe.prototype.getHitArea=function(){return this._hitArea},pe.prototype.setHitArea=function(t){this._buttonMode=t},pe.prototype.getUseHandCursor=function(){return this._useHandCursor},pe.prototype.setUseHandCursor=function(t){this._useHandCursor=t},pe.prototype.startTouchDrag=function(t,e){this.startDrag(e)},pe.prototype.stopTouchDrag=function(){this.stopDrag()},pe.prototype.startDrag=function(){var t=arguments,e=t[0],r=J(t[1]),a=J(t[2]),n=J(t[3]),o=J(t[4]),i=this,s=i.getMovieClip("_root"),l=s.getStage(),c=0,g=0;e||(c=i.getXMouse(),g=i.getYMouse()),l.dragMc=i,l.dragRules={startX:c,startY:g,left:r,top:a,right:n,bottom:o},i.setDropTarget()},pe.prototype.stopDrag=function(){var t=this,e=t.getMovieClip("_root"),r=e.getStage();r.dragMc=null,r.dragRules=null,t.setDropTarget()},pe.prototype.executeDrag=function(){var t=this,e=t.getMovieClip("_root"),r=e.getStage(),a=r.dragRules,n=a.startX,o=a.startY,i=a.left,s=a.top,l=a.right,c=a.bottom,g=t.getX(),p=t.getY(),u=t.getXMouse(),f=t.getYMouse();u-=n,f-=o;var h=g+u,d=p+f;Q(i)?(t.setX(h),t.setY(d)):(Q(s)&&(s=0),Q(l)&&(l=0),Q(c)&&(c=0),h>l?t.setX(l):i>h?t.setX(i):t.setX(h),d>c?t.setY(c):s>d?t.setY(s):t.setY(d))},pe.prototype.getDropTarget=function(){return this._droptarget},pe.prototype.setDropTarget=function(){var t=this;t._droptarget=null;var e=t.getMovieClip("_root"),r=e.getStage(),a=t.getParent();a||(a=r.getParent());var n=e.getXMouse(),o=e.getYMouse(),i=a.getTags();for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];if(l!==t.instanceId){var c=r.getInstance(l);if(c instanceof be){var g=c.hitTest(n,o);if(g){t._droptarget=c;break}}}}},pe.prototype.getTags=function(){return this.getContainer()},pe.prototype.render=function(t,e,r,a,n){var o=this,i=o.getContainer();return o.rendering(i,t,e,r,a,n)},pe.prototype.putFrame=function(){var t=this;t.active=!0;var e=t.getStage(),r=t.getTags(),a=r.length;if(a){r.reverse();for(var n in r)if(r.hasOwnProperty(n)){var o=r[n],i=e.getInstance(o);i&&i.putFrame()}r.reverse()}ne.type="enterFrame",t.dispatchEvent(ne)},pe.prototype.addActions=function(){var t=this,e=t.getStage(),r=t.getTags(),a=r.length;if(a)for(var n in r)if(r.hasOwnProperty(n)){var o=r[n],i=e.getInstance(o);i&&i.addActions()}};var ue=function(){var t=this;se.call(t),t.data=null,t._graphics=new te;var e=z.MAX_VALUE;t.setBounds({xMin:e,xMax:-e,yMin:e,yMax:-e})};ue.prototype=Object.create(se.prototype),ue.prototype.constructor=ue,Object.defineProperties(ue.prototype,{graphics:{get:function(){return this.getGraphics()},set:function(){}}}),ue.prototype.addActions=function(){},ue.prototype.putFrame=function(){var t=this;t.active=!0,ne.type="enterFrame",t.dispatchEvent(ne)},ue.prototype.getGraphics=function(){return this._graphics},ue.prototype.getData=function(){return this.data},ue.prototype.setData=function(t){this.data=t},ue.prototype.getBounds=function(t){var e,r,a=this,n=a.graphics,o=n.isDraw;if(t){e=m(a.bounds,t),o&&(r=m(n.getBounds(),t),e.xMin=w(r.xMin,e.xMin),e.xMax=X(r.xMax,e.xMax),e.yMin=w(r.yMin,e.yMin),e.yMax=X(r.yMax,e.yMax));for(var i in e)e.hasOwnProperty(i)&&(e[i]/=20);return e}return e=a.bounds,o&&(r=n.getBounds(),e.xMin=w(r.xMin,e.xMin),e.xMax=X(r.xMax,e.xMax),e.yMin=w(r.yMin,e.yMin),e.yMax=X(r.yMax,e.yMax)),this.bounds},ue.prototype.setBounds=function(t){this.bounds=t},ue.prototype.isMorphing=function(){var t=this.getTagType();return 46===t||84===t},ue.prototype.render=function(t,e,r,a,n){var i=this,l=null,c="",g=r[3]+r[7]/255;if(!g||!n)return c;var p,u,f,h,d,v,y=o(a.getMatrix(),e),m=i.isClipDepth||a.isClipDepth||a.clipMc;if(m)s(t,y),i.executeRender(t,w(y[0],y[3]),r,m,a);else{var S=b(y);p=S[0],u=S[1];var I=i.getBounds();f=I.xMax,h=I.xMin,d=I.yMax,v=I.yMin;var C=j(D((f-h)*p)),x=j(D((d-v)*u));if(0>=C||0>=x)return c;var A,M=i.getStage(),F=i.getCharacterId()+"_"+M.getId();if(i.isMorphing()&&(F+="_"+i.getRatio()),c=Ht.generateKey("Shape",F,S,r),l=Ht.getCache(c),!l&&a.getWidth()>C&&a.getHeight()>x&&Ht.size>C*x){A=Ht.getCanvas(),A.width=C,A.height=x,l=A.getContext("2d");var U=[p,0,0,u,-h*p,-v*u];s(l,U),l=i.executeRender(l,w(p,u),r,m,a),Ht.setCache(c,l)}if(l){A=l.canvas;var B=[1/p,0,0,1/u,h,v],k=o(y,B);s(t,k),bt&&!St?(t.fillStyle=a.context.createPattern(l.canvas,"no-repeat"),t.fillRect(0,0,C,x)):t.drawImage(A,0,0,C,x)}else s(t,y),i.executeRender(t,w(y[0],y[3]),r,m,a)}return c+="_"+y[4]+"_"+y[5]},ue.prototype.renderHitTest=function(t,e,r,a,n){var i=this,l=i.graphics;if(l.isDraw)return l.renderHitTest(t,e,r,a,n);if(!i.getData())return!1;var c=o(r.getMatrix(),e);s(t,c);for(var g=w(c[0],c[3]),p=i.getData(),u=p.length,f=!1,h=0;u>h;h++){var d=p[h],v=d.obj,y=void 0!==v.Width;t.beginPath();var b=d.cmd;
if(b(t),y&&(t.lineWidth=X(v.Width,1/g),t.lineCap="round",t.lineJoin="round"),f=t.isPointInPath(a,n))return f;if(f=t.isPointInStroke(a,n))return f}return f},ue.prototype.executeRender=function(t,e,r,a,n){var o=this,i=o.getData();if(!i)return t;for(var s,g,p,u=i.length,f=S,h=o.generateImageTransform,d=l,v=0;u>v;v++){var y=i[v],b=y.obj,m=b.HasFillFlag?b.FillType:b,I=y.cmd,C=void 0!==b.Width;if(a){if(C)continue;I(t)}else{t.beginPath(),I(t);var x=m.fillStyleType;switch(x){case 0:s=m.Color,s=f(s,r),g=c(s),C?(t.strokeStyle=g,t.lineWidth=X(b.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=g,t.fill());break;case 16:case 18:case 19:var A=m.gradientMatrix,M=m.fillStyleType;if(16!==M)t.save(),t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),g=t.createRadialGradient(0,0,0,0,0,16384);else{var F=d(A);g=t.createLinearGradient(F[0],F[1],F[2],F[3])}for(var B=m.gradient.GradientRecords,k=B.length,T=0;k>T;T++){var _=B[T];s=_.Color,s=f(s,r),g.addColorStop(_.Ratio,c(s))}C?(t.strokeStyle=g,t.lineWidth=X(b.Width,1/e),t.lineCap="round",t.lineJoin="round",t.stroke()):(t.fillStyle=g,t.fill()),16!==M&&t.restore();break;case 64:case 65:case 66:case 67:var P,D,L=o.getStage(),O=m.bitmapId,E=m.bitmapMatrix,H=64===x||66===x?"repeat":"no-repeat",R=Ht.generateKey("Bitmap",O+"_"+L.getId()+"_"+H,void 0,r),Z=Ht.getCache(R);if(void 0===Z){if(Z=L.getCharacter(O),!Z)break;if(1!==r[0]||1!==r[1]||1!==r[2]||r[4]||r[5]||r[6]){var N=Z.canvas;if(P=N.width,D=N.height,P>0&&D>0){p=Ht.getCanvas(),p.width=P,p.height=D;var j=p.getContext("2d");j.drawImage(Z.canvas,0,0,P,D),Z=h.call(o,j,r),Ht.setCache(R,Z)}}else t.globalAlpha=X(0,w(255*r[3]+r[7],255))/255}Z&&(t.save(),p=Z.canvas,P=p.width,D=p.height,P>0&&D>0&&(65===x||67===x?(t.clip(),t.transform(E[0],E[1],E[2],E[3],E[4],E[5]),t.drawImage(p,0,0,P,D)):(t.fillStyle=n.context.createPattern(p,H),t.transform(E[0],E[1],E[2],E[3],E[4],E[5]),t.fill())),t.restore())}}}if(a&&(t.clip(),yt&&St)){var V=Y.canvas;p=t.canvas,V.width=p.width,V.height=p.height,Y.drawImage(p,0,0),t.save(),t.setTransform(1,0,0,1,0,0),t.beginPath(),t.clearRect(0,0,p.width+1,p.height+1),t.drawImage(V,0,0),t.restore(),U()}var G="rgba(0,0,0,1)";return t.strokeStyle=G,t.fillStyle=G,t.globalAlpha=1,t},ue.prototype.generateImageTransform=function(t,e){for(var r=t.canvas,a=r.width,n=r.height,o=t.getImageData(0,0,a,n),i=o.data,s=0,l=e[0],c=e[1],g=e[2],p=e[3],u=e[4],f=e[5],h=e[6],d=e[7],v=a*n;v--;){var y=i[s++],b=i[s++],m=i[s++],S=i[s++];i[s-4]=P(X(0,w(y*l+u,255))),i[s-3]=P(X(0,w(b*c+f,255))),i[s-2]=P(X(0,w(m*g+h,255))),i[s-1]=X(0,w(S*p+d,255))}return t.putImageData(o,0,0),t};var fe=function(){var t=this;t.color=null,t.matrix=null};fe.prototype.getColor=function(){return this.color},fe.prototype.setColor=function(t){this.color=t},fe.prototype.getMatrix=function(){return this.matrix},fe.prototype.setMatrix=function(t){this.matrix=t},fe.prototype.getData=function(){return this.data},fe.prototype.setData=function(t){this.data=t};var he=function(){var t=this;se.call(t),t.data=null,t.records=[]};he.prototype=Object.create(se.prototype),he.prototype.constructor=he,he.prototype.putFrame=function(){},he.prototype.addActions=function(){},he.prototype.getBounds=function(t){if(t){var e=m(this.bounds,t);for(var r in e)e.hasOwnProperty(r)&&(e[r]/=20);return e}return this.bounds},he.prototype.setBounds=function(t){this.bounds=t},he.prototype.getRecords=function(){return this.records},he.prototype.addRecord=function(t){var e=this.getRecords();e[e.length]=t},he.prototype.render=function(t,e,r,a,n){var i=this,l=r[3]+r[7]/255;if(!l||!n)return 0;var c=o,g=c(a.getMatrix(),e),p=b(g),u=p[0],f=p[1],h=i.getBounds(),d=h.xMax,v=h.xMin,y=h.yMax,m=h.yMin,S=D((d-v)*u),I=D((y-m)*f);if(S>0&&I>0){var C,x=i.getCharacterId()+"_"+i.getStage().getId(),A=Ht.generateKey("Text",x,p,r),M=Ht.getCache(A);if(!M&&a.getWidth()>S&&a.getHeight()>I&&Ht.size>S*I){C=Ht.getCanvas(),C.width=S,C.height=I,M=C.getContext("2d");var F=[u,0,0,f,-v*u,-m*f];s(M,F),M=i.executeRender(M,F,r),Ht.setCache(A,M)}if(M){C=M.canvas;var U=c(g,[1/u,0,0,1/f,v,m]);s(t,U),bt&&!St?(t.fillStyle=a.context.createPattern(M.canvas,"no-repeat"),t.fillRect(0,0,S,I)):t.drawImage(C,0,0,S,I)}else s(t,g),i.executeRender(t,g,r);return A+"_"+g[4]+"_"+g[5]}return null},he.prototype.executeRender=function(t,e,r){var a=this,n=a.getRecords(),i=n.length;if(!i)return t;for(var l=S,g=o,p=0;i>p;p++){var u=n[p],f=u.getData(),h=f.length;if(h){var d=g(e,u.getMatrix());s(t,d);var v=u.getColor();v=l(v,r),t.fillStyle=c(v);for(var y=0;h>y;y++){var b=f[y],m=b.cmd;t.beginPath(),m(t),t.fill()}}}return t.globalAlpha=1,t},he.prototype.renderHitTest=function(t,e,r,a,n){var i=this,l=i.getRecords(),c=l.length;if(!c)return!1;var g=i.getBounds(),p=g.xMax,u=g.xMin,f=g.yMax,h=g.yMin,d=D(p-u),v=D(f-h),y=o(r.getMatrix(),e);return s(t,y),t.beginPath(),t.rect(u,h,d,v),t.isPointInPath(a,n)};var de=function(){var t=this;t.align="left",t.font="'HiraKakuProN-W3', 'sans-serif'",t.size=0,t.color={R:0,G:0,B:0,A:1},t.bold=0,t.italic=0,t.underline=0,t.bullet=0,t.kerning=0,t.blockIndent=0,t.indent=0,t.leading=0,t.leftMargin=0,t.rightMargin=0,t.letterSpacing=0,t.tabStops=[],t.url=null,t.target=null},ve=function(t,e,r,a){var n=this;le.call(n),t&&n.setName(t),e&&n.setLevel(e),r||(r=0),r*=20,a||(a=0),a*=20,n.fontId=0,n.bounds={xMin:0,xMax:r,yMin:0,yMax:a},n.input=null,n.inputActive=!1,n.span=null};ve.prototype=Object.create(le.prototype),ve.prototype.constructor=ve,Object.defineProperties(ve.prototype,{text:{get:function(){return this.getProperty("text")},set:function(t){this.setProperty("text",t)}},size:{get:function(){return this.getProperty("size")},set:function(t){this.setProperty("size",t)}},type:{get:function(){return this.getProperty("type")},set:function(t){this.setProperty("type",t),"input"===t&&this.setInputElement()}},multiline:{get:function(){return this.getProperty("multiline")},set:function(t){this.setProperty("multiline",t)}},wordWrap:{get:function(){return this.getProperty("wordWrap")},set:function(t){this.setProperty("wordWrap",t)}},border:{get:function(){return this.getProperty("border")},set:function(t){this.setProperty("border",t)}},borderColor:{get:function(){return this.getProperty("borderColor")},set:function(t){"string"==typeof t&&(t=p(t)),t=g(t),this.setProperty("borderColor",t)}},background:{get:function(){return this.getProperty("background")},set:function(t){this.setProperty("background",t)}},backgroundColor:{get:function(){return this.getProperty("backgroundColor")},set:function(t){"string"==typeof t&&(t=p(t)),t=g(t),this.setProperty("backgroundColor",t)}},textColor:{get:function(){return this.getProperty("textColor")},set:function(t){"string"==typeof t&&(t=p(t)),t=g(t),this.setProperty("textColor",t)}}}),ve.prototype.setInitParams=function(){var t=this,e={};e.antiAliasType=null,e.autoSize="none",e.background=0,e.backgroundColor={R:255,G:255,B:255,A:1},e.border=0,e.borderColor={R:0,G:0,B:0,A:1},e.condenseWhite=0,e.html=0,e.password=0,e.embedFonts=0,e.gridFitType="none",e.maxChars=null,e.mouseWheelEnabled=0,e.multiline=0,e.selectable=0,e.sharpness=0,e.textColor=0,e.thickness=0,e.type="dynamic",e.wordWrap=0,e.text="";for(var r in e)e.hasOwnProperty(r)&&t.setProperty(r,e[r]);t.setTextFormat(new de)},ve.prototype.getTagName=function(){return"__swf2js_input_element_"+this.instanceId},ve.prototype.setTextFormat=function(t){var e=this;for(var r in t)t.hasOwnProperty(r)&&e.setProperty(r,t[r])},ve.prototype.getBounds=function(t){if(t){var e=m(this.bounds,t);for(var r in e)e.hasOwnProperty(r)&&(e[r]/=20);return e}return this.bounds},ve.prototype.setBounds=function(t){this.bounds=t},ve.prototype.setInputElement=function(){var t=this;if(t.input)return 0;var e=t.getStage(),r=T.createElement("textarea"),a=t.getProperty("multiline"),n=t.getProperty("align"),o=t.initialText;o||(o=t.getProperty("text")),a||(r.onkeypress=function(t){return 13===t.keyCode?!1:void 0}),r.style.position="absolute",r.style.webkitBorderRadius="0px",r.style.padding="1px",r.style.margin="0px",r.style.webkitAppearance="none",r.style.resize="none",r.style.border="none",r.style.overflow="hidden",r.style.backgroundColor="transparent",r.style.zIndex=2147483647,r.style.textAlign=n,r.value=o,r.id=t.getTagName();var i=function(t,e,r){return function(){var a=T.getElementById(t.getName());if(a){e.setProperty("text",r.value),e.inputActive=!1;var n=T.getElementById(e.getTagName());if(n)try{a.removeChild(n)}catch(o){}}}};r.onblur=i(e,t,r),t.input=r},ve.prototype.render=function(t,e,r,a,n){var i=r[3]+r[7]/255;if(!i||!n)return 0;var l=["TextField"],p=this,u=o,f=S,h=p.variables,d=h.text,v=h.variable;if(v){var y=p.getParent();d=y.getProperty(v),void 0===d&&(d=h.text)}if("number"==typeof d&&(d+=""),!d){var b=h.html;if(b){d=h.htmlText;var m=p.span;m||(m=T.createElement("span"),p.span=m),m.innerHTML=d,d=m.innerText}}t.textBaseline="top";var I=p.getBounds(),C=I.xMax,x=I.xMin,A=I.yMax,M=I.yMin,F=D(C-x),U=D(A-M);if(F>0&&U>0){var B=u(a.getMatrix(),e);s(t,B);var k,Y=x,_=M,X=p._matrix;if(X){Y=-x,_=-M;var P=u(e,[1,0,0,1,x,M]);B=u(a.getMatrix(),P),s(t,B)}var L=h.border;L&&(t.beginPath(),t.rect(Y,_,F,U),k=f(h.backgroundColor,r),l[l.length]=k,t.fillStyle=c(k),k=f(h.borderColor,r),l[l.length]=k,t.strokeStyle=c(k),t.lineWidth=w(20,1/w(B[0],B[3])),t.globalAlpha=1,t.fill(),t.stroke());var O=h.textColor,E=O;"number"==typeof O&&(E=g(O,100)),k=f(E,r);var H=c(k);l[l.length]=H,t.fillStyle=H;var R="";h.italic&&(R+="italic "),h.bold&&(R+="bold ");var Z=R+h.size+"px "+h.font;if(l[l.length]=Z,t.font=Z,null!==p.input){var N=p.input,j=a.getScale(),V=D(h.size*j*w(e[0],e[3]));N.style.font=R+V+"px "+h.font,N.style.color=c(k);var G=h.onChanged;if(G&&!N.onchange){var W=function(t,e,r,a){return function(){r.active&&(r.setProperty("text",a.value),e.apply(r,arguments),t.executeAction())}};N.onchange=W(a,G,p,N)}}if(d){if(t.save(),t.beginPath(),t.rect(Y,_,F,U),t.clip(),p.inputActive===!1){var z=d.split("\n");if(h.embedFonts){var K=p.getStage().getCharacter(p.fontId);p.renderOutLine(t,K,z,B,Y,F,h)}else p.renderText(t,z,B,h)}t.restore(),t.globalAlpha=1}return l[l.length]=d,Ht.generateKey(l.join("_"),p.getCharacterId(),B,r)}return null},ve.prototype.renderOutLine=function(t,e,r,a,n,i,l){for(var c,g,p=this,u=p.fontScale,f=(e.FontAscent+e.FontDescent)*u,h=l.rightMargin*u,d=l.leftMargin*u,v=l.indent*u,y=l.align,b="",m=e.CodeTable,S=e.GlyphShapeTable,I=e.FontAdvanceTable,C=e.FontAscent*u,x=C,A=l.wordWrap,M=l.multiline,F=p.getBounds(),U=D(F.xMax-F.xMin)-d-h,B=o,k=r.length,Y=0;k>Y;Y++){b=r[Y];var T=n,_=b.length,w=0;for(c=0;_>c;c++)g=m.indexOf(b[c].charCodeAt(0)),-1!==g&&(w+=I[g]*u);T+="right"===y?i-h-w-40:"center"===y?v+d+(i-v-d-h-w)/2:v+d+40;var X=T,P=0;for(c=0;_>c;c++)if(g=m.indexOf(b[c].charCodeAt(0)),!(0>g)){var L=I[g]*u;A&&M&&P+L>U&&(T=X,C+=x,P=0);var O=B(a,[u,0,0,u,T,C]);s(t,O),p.renderGlyph(S[g],t),T+=L,P+=L}C+=f}},ve.prototype.renderGlyph=function(t,e){"data"in t||(t.data=Ot.convert(t));for(var r=t.data,a=r.length,n=0;a>n;n++){var o=r[n],i=o.cmd;e.beginPath(),i(e),e.fill()}},ve.prototype.renderText=function(t,e,r,a){var n=this,i="",l=n.getBounds(),c=l.xMax/20,g=l.xMin/20,p=D(c-g),u=a.wordWrap,f=a.multiline,h=a.leading/20,d=a.rightMargin/20,v=a.leftMargin/20,y=a.indent/20,b=a.align,m=g,S=0;"right"===b?(t.textAlign="end",m+=p-d):"center"===b?(t.textAlign="center",m+=v+y+(p-v-y-d)/2):m+=v+y;var I=a.size,C=[20*r[0],20*r[1],20*r[2],20*r[3],r[4],r[5]];s(t,C);var x=1/Ft,A=o(C,[x,0,0,x,0,0]),M=H(A[0]*A[0]+A[1]*A[1]);l=n.getBounds(A);for(var F=D(l.xMax-l.xMin)-v-d,U=e.length,B=0;U>B;B++)if(i=e[B],u&&f){var k=t.measureText(i),Y=k.width*M;if(Y>F)for(var T=i.length,_="",w=I,X=0;T>X;X++){var P=t.measureText(i[X]);w+=P.width*M,_+=i[X],(w>F||X+1===T)&&(t.fillText(_,m,S,p),w=I,_="",S+=h+I)}else t.fillText(i,m,S,p),S+=h+I}else t.fillText(i,m,S,p),S+=h+I},ve.prototype.putFrame=function(){var t=this;t.active=!0,t.inputActive===!1&&(ne.type="enterFrame",t.dispatchEvent(ne))},ve.prototype.renderHitTest=function(t,e,r,a,n){var i=this,l=i.getBounds(),c=l.xMax,g=l.xMin,p=l.yMax,u=l.yMin,f=D(c-g),h=D(p-u),d=o,v=d(r.getMatrix(),e);s(t,v);var y=i.getMatrix();if(y){g=-g,u=-u;var b=d(e,[1,0,0,1,g,u]);v=d(r.getMatrix(),b),s(t,v)}return t.beginPath(),t.rect(g,u,f,h),t.isPointInPath(a,n)},ve.prototype.addActions=function(){},ve.prototype.getTags=function(){};var ye=function(){var t=this;le.call(t),t.actions=[],t._downState=new pe,t._hitState=new pe,t._overState=new pe,t._upState=new pe};ye.prototype=Object.create(le.prototype),ye.prototype.constructor=ye,Object.defineProperties(ye.prototype,{downState:{get:function(){return this.getSprite("down")},set:function(t){this.setSprite("down",t)}},hitState:{get:function(){return this.getSprite("hit")},set:function(t){this.setSprite("hit",t)}},overState:{get:function(){return this.getSprite("over")},set:function(t){this.setSprite("over",t)}},upState:{get:function(){return this.getSprite("up")},set:function(t){this.setSprite("up",t)}}}),ye.prototype.getActions=function(){return this.actions},ye.prototype.setActions=function(t){this.actions=t},ye.prototype.setButtonStatus=function(t){var e=this;e.getButtonStatus()!==t&&e.buttonReset(t),e.buttonStatus=t},ye.prototype.getSprite=function(t){var e=this;return t||(t=e.buttonStatus),t+="State",e["_"+t]},ye.prototype.setSprite=function(t,e){var r=this,a=r.getStage(),n=0;switch(t){case"down":n=1;break;case"hit":n=2;break;case"over":n=3;break;case"up":n=4}a.setPlaceObject(new Zt,r.instanceId,n,0),e.setParent(r),e.setLevel(n),e.setStage(a);var o=e.getContainer();for(var i in o)if(o.hasOwnProperty(i)){var s=o[i],l=a.getInstance(s);l.setParentSprite(e)}t+="State",r["_"+t]=e},ye.prototype.getBounds=function(t,e){var r=this,a=0,n=0,i=0,s=0,l=o,c=r.getSprite(e),g=c.getContainer(),p=g.length;if(p){var u=r.getStage(),f=z.MAX_VALUE;a=-f,n=-f,i=f,s=f;for(var h in g)if(g.hasOwnProperty(h)){var d=g[h],v=u.getInstance(d);if(v&&!v.isClipDepth){var y=t?l(t,v.getMatrix()):v.getMatrix(),b=v.getBounds(y,e);b&&(i=w(i,b.xMin),a=X(a,b.xMax),s=w(s,b.yMin),n=X(n,b.yMax))}}}return{xMin:i,xMax:a,yMin:s,yMax:n}},ye.prototype.buttonReset=function(t){var e=this,r=e.getSprite(),a=r.getContainer(),n=e.getSprite(t),o=n.getContainer(),i=e.getStage();for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];if(!(s in o&&l===o[s])){var c=i.getInstance(l);c&&c.reset()}}},ye.prototype.setHitRange=function(t,e,r){var n=this,o=e.buttonHits;if(r&&n.getEnabled()){if(It){var i=n.getActions(),s=i.length;if(s)for(var l=0;s>l;l++){var c=i[l];13===c.CondKeyPress&&(o[o.length]={button:n,xMin:0,xMax:e.getWidth(),yMin:0,yMax:e.getHeight(),CondKeyPress:c.CondKeyPress,parent:n.getParent(),active:!0})}}var g="hit",p=n.getSprite(g),u=p.getContainer();if(u.length||(g="up",p=n.getSprite(g),u=p.getContainer()),u.length){var f=n.getBounds(t,g);f&&(o[o.length]={button:n,xMin:f.xMin,xMax:f.xMax,yMin:f.yMin,yMax:f.yMax,CondKeyPress:0,parent:n.getParent(),matrix:a(t),active:!0})}}},ye.prototype.render=function(t,e,r,a,n){var s=this,l=s.getSprite(),c=o(e,l.getMatrix()),g=i(r,l.getColorTransform()),p=w(l.getVisible(),n);return l.preRender(t,c,g,a,p)},ye.prototype.renderHitTest=function(t,e,r,a,n){var i=this,s=o,l=i.getSprite("hit"),c=l.getContainer(),g=c.length;if(g||(l=i.getSprite(),c=l.getContainer(),g=c.length),g){var p=s(e,l.getMatrix()),u=i.getStage();for(var f in c)if(c.hasOwnProperty(f)){var h=c[f],d=u.getInstance(h);if(d){var v=s(p,d.getMatrix()),y=d.renderHitTest(t,v,r,a,n);if(y)return y}}}return!1},ye.prototype.addActions=function(){var t=this.getSprite(),e=t.getContainer(),r=e.length;if(r){var a=this.getStage();for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],i=a.getInstance(o);i&&i.addActions()}}},ye.prototype.putFrame=function(){var t=this,e=t.getSprite(),r=e.getContainer(),a=r.length;if(a){r.reverse();var n=t.getStage();for(var o in r)if(r.hasOwnProperty(o)){var i=r[o],s=n.getInstance(i);s&&s.putFrame()}r.reverse()}},ye.prototype.getTags=function(){};var be=function(){var t=this;pe.call(t),t._currentframe=1,t.removeTags=[],t.actions=[],t.labels=[],t.stopFlag=!1,t.isAction=!0,t.isClipDepth=!1,t.clipDepth=0,t.sounds=[],t.soundStopFlag=!1};be.prototype=Object.create(pe.prototype),be.prototype.constructor=be,be.prototype.dispatchOnEvent=function(t){var e=this,r=e.variables;if(t in r){var a=r[t];a&&e.setActionQueue(a)}},be.prototype.createEmptyMovieClip=function(t,e){var r=this,a=r.getStage(),n=r.getMovieClip(t);n||(n=new be),e+=16384,n.setName(t),n.setLevel(e),n.setParent(r),n.setStage(a);for(var o=r.getContainer(),i=r.getTotalFrames()+1,s=new Zt,l=r.instanceId,c=1;i>c;c++)c in o||(o[c]=[]),o[c][e]=n.instanceId,a.setPlaceObject(s,l,e,c);return n},be.prototype.createTextField=function(t,e,r,a,n,o){16384>e&&(e+=16384);var i=this,s=new ve(t,e,n,o);s.setParent(i),s.setStage(i.getStage()),s.setInitParams();var l=i.getContainer();for(var c in l)l.hasOwnProperty(c)&&(l[c][e]=s);return s},be.prototype.setBackgroundColor=function(t,e,r){var a=this,n=a.getStage();n.setBackgroundColor(t,e,r)},be.prototype.play=function(){this.stopFlag=!1},be.prototype.stop=function(){this.stopFlag=!0},be.prototype.gotoAndPlay=function(t){var e=this;Q(t)||(t=J(t)),"number"!=typeof t&&(t=e.getLabel(t)),"number"==typeof t&&t&&(e.setNextFrame(t),e.play())},be.prototype.gotoAndStop=function(t){var e=this;Q(t)||(t=q(t)),"number"!=typeof t&&(t=e.getLabel(t)),"number"==typeof t&&t>e.getTotalFrames()&&(t=e.getTotalFrames(),e.isAction=!1),t>0&&(e.setNextFrame(t),e.stop())},be.prototype.stopAllSounds=function(){for(var t=this.getStage(),e=t.loadSounds,r=e.length,a=function(){this.removeEventListener("pause",a),this.currentTime=0,this.loop=!1};r--;)if(r in e){var n=e[r];n.addEventListener("pause",a),n.pause()}},be.prototype.loadMovie=function(t,e,r){var a=this,n=a.getStage(),o=null;if(e||(e=a.getName(),o=a),!o){if("string"==typeof e){var i=e.substr(0,6);"_level"===i&&(e=J(e.substr(6)))}if("number"==typeof e){var s=n.getParent();s||(s=n.getParent());var l=s.getTags();o=l[e]}else o=a.getMovieClip(e)}if(o){a.unloadMovie(o);var c=new XMLHttpRequest,g=t,p=null;if(2===r){var u=t.split("?");void 0!==u[1]&&(p=u[1]),g=u[0],c.open("POST",g),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else c.open("GET",g);xt?c.responseType="arraybuffer":c.overrideMimeType("text/plain; charset=x-user-defined"),c.onreadystatechange=function(){var r=c.readyState;if(4===r){var a=c.status;switch(a){case 200:case 304:var i=xt?c.response:c.responseText,s=new Be;if(ut[s.getId()]=s,s.parse(i),0===e||"number"!=typeof e&&!o.getParent())n.stop(),s.setId(n.getId()),s.setName(n.getName()),s.backgroundColor=n.backgroundColor,s.initCanvas(),s.loadStatus=2,s.loadEvent(),delete ut[s.getId()],pt[n.getId()]=s,n=null;else{s.stop();var l=s.getParent();l.setLoadStage(s),o.addChild(l)}o._url=t;var g=o.onData;g&&s.executeEventAction(g,o),o.hasEventListener("data")&&(ne.type="data",o.dispatchEvent(ne)),o.addActions()}}},c.send(p)}},be.prototype.unloadMovie=function(t){var e=this,r=null;if(t instanceof be)r=t;else if(r=e.getMovieClip(t),!r)return 0;r.setLoadStage(null),r.setStage(e.getStage()),r.container=[],r.actions=[],r.instances=[],r.labels=[],r.sounds=[],r.removeTags=[],r._totalframes=1,r._url=null,r._lockroot=!0,r.reset();var a=r.getStage();delete ut[a.getId()]},be.prototype.unloadClip=function(t){var e=this,r=null;if(t instanceof be)r=t;else if(r=e.getMovieClip(t),!r)return 0},be.prototype.getURL=function(t,e,r){if("string"==typeof t){var a=t.substr(0,9);if("FSCommand"===a)return!0}var n=this;if(e&&"string"==typeof e)switch(e.toLowerCase()){case"_self":case"_blank":case"_parent":case"_top":break;case"post":e="_self",r="GET";break;case"get":e="_self",r="GET";break;default:return r||(r="GET"),n.loadMovie(t,e,r),0}if("POST"===r){var o=T.createElement("form");o.action=t,o.method=r,e&&(o.target=e);var i=t.split("?");if(i.length>1)for(var s=i[1].split("&"),l=s.length,c=encodeURI,g=0;l>g;g++){var p=s[g].split("="),u=T.createElement("input");u.type="hidden",u.name=p[0],u.value=c(p[1]||""),o.appendChild(u)}T.body.appendChild(o),o.submit()}else{var f=new at("location.href = '"+t+"';");f()}},be.prototype.loadVariables=function(t,e,r){var a=this,n=a;if(e&&(n=a.getMovieClip(e)),n){var o=new XMLHttpRequest,i=null;if("POST"===r){var s=t.split("?");void 0!==s[1]&&(i=s[1]),o.open(r,s[0]),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}else o.open("GET",t);o.onreadystatechange=function(){var t=o.readyState;if(4===t){var e=o.status;switch(e){case 200:case 304:for(var r=decodeURIComponent(o.responseText),i=r.split("&"),s=i.length,l=0;s>l;l++){var c=i[l],g=c.split("=");n.setVariable(g[0],g[1])}var p=a.getStage(),u=n.onData;u&&p.executeEventAction(u,n),n.hasEventListener("data")&&(ne.type="data",n.dispatchEvent(ne))}}},o.send(i)}},be.prototype.hitTest=function(){var t=this,e=arguments[0],r=0,a=0,n=!1;if(!(e instanceof be||(r=arguments[0],a=arguments[1],n=arguments[2],r&&a)))return!1;var i=t.getHitBounds(),s=i.xMax,l=i.xMin,c=i.yMax,g=i.yMin;if(e instanceof be){var p=e.getHitBounds(),u=p.xMax,f=p.xMin,h=p.yMax,d=p.yMin;return u>l&&h>g&&s>f&&c>d}if(r>=l&&s>=r&&a>=g&&c>=a){if(n){for(var v=t.getMatrix(),y=o,b=t;;){var m=b.getParent();if(!m.getParent())break;v=y(m.getMatrix(),v),b=m}var S=t.getMovieClip("_root"),I=S.getStage(),C=I.hitContext,x=I.getScale();return r*=x,r*=Ft,a*=x,a*=Ft,t.renderHitTest(C,v,I,r,a)}return!0}return!1},be.prototype.getHitBounds=function(){for(var t=this,e=t,r=t.getMatrix(),a=o;;){var n=e.getParent();if(!n.getParent())break;r=a(n.getMatrix(),r),e=n}return t.getBounds(r)},be.prototype.getInstanceAtDepth=function(t){var e=this,r=e.getParent();r||(r=e.getMovieClip("_root"));var a=r.getTags();return t+=16384,a[t]},be.prototype.swapDepths=function(){var t=this,e=arguments[0],r=0,a=t.getParent();if(a){var n=a.getTags();if(e instanceof be){if(a===e.getParent()){r=t.getDepth()+16384;var o=e.getDepth()+16384;t.setDepth(r,o,e)}}else if(r=q(arguments[0]),Q(r)&&(r=a.getNextHighestDepth()),16384>r&&(r+=16384),r in n){var i=n[r];if(i!==t.instanceId){var s=t.getStage(),l=s.getInstance(i);t.swapDepths(l)}}else t.setDepth(r,null,null)}},be.prototype.attachMovie=function(t,e,r,a){var n=null,o=this;Q(r)&&(r=o.getNextHighestDepth()),16384>r&&(r+=16384);var i=o.getMovieClip(e);i&&i.removeMovieClip();var s=o.getStage(),l=s.exportAssets;if(t in l){var c=l[t],g=s.getCharacter(c);if(g){var p=new Nt(s,null),u=s.registerClass[c];n=u?new u:new be,n.setStage(s),n.setCharacterId(c),n.setParent(o),n.setLevel(r),n.setName(e),n.setTarget(o.getTarget()+"/"+e),p.build(g,n);for(var f=new Zt,h=o.instanceId,d=o.getTotalFrames()+1,v=o.getContainer(),y=1;d>y;y++)y in v||(v[y]=[]),v[y][r]=n.instanceId,s.setPlaceObject(f,h,r,y);var b=s.initMovieClip[c];if(b&&(n.variables=b.variables),a)for(var m in a)a.hasOwnProperty(m)&&n.setProperty(m,a[m]);n.addActions()}}return n},be.prototype.getNextHighestDepth=function(){var t=0,e=this,r=e.getContainer();for(var a in r)if(r.hasOwnProperty(a)){var n=r[a];t=X(t,n.length)}return t},be.prototype.getBytesLoaded=function(){var t=this,e=t.getStage(),r=e.bitio;return r?r.byte_offset:e.fileSize},be.prototype.getBytesTotal=function(){var t=this,e=t.getStage();return e.fileSize},be.prototype.updateAfterEvent=function(){var t=this,e=t.getMovieClip("_root"),r=e.getStage();r.touchRender()},be.prototype.duplicateMovieClip=function(){var t,e,r=this,a=r.getMovieClip("_root"),n=a.getStage(),o=arguments[0],i=arguments[1],s=arguments[2],l=r.getMovieClip(i);!l&&n.getVersion()>4&&(o=arguments[0],s=arguments[1],Q(s)&&(t=r.getParent(),t||(t=n.getParent()),s=t.getNextHighestDepth(),s+=16384),e=arguments[2],l=r);var c;if(void 0!==l&&0!==l.getCharacterId()){n=l.getStage(),c=new be,c.setStage(n);var g=n.getCharacter(l.characterId),p=new Nt(n);p.build(g,c),p=null,t=l.getParent(),t||(t=n.getParent()),c.setParent(t),c.setName(o),c.setLevel(s),c.setTotalFrames(l.getTotalFrames()),c.setCharacterId(l.characterId),c.events=l.events,c._matrix=l._matrix,c._colorTransform=l._colorTransform,c._filters=l._filters,c._blendMode=l._blendMode;for(var u=t.getTotalFrames()+1,f=t.getContainer(),h=t.instanceId,d=n.placeObjects[h],v=l.getLevel(),y=1;u>y;y++)if(y in f||(f[y]=[]),f[y][s]=c.instanceId,y in d){var b=d[y][v];b&&(y in d||(d[y]=[]),d[y][s]=b.clone())}if(e)for(var m in e)e.hasOwnProperty(m)&&c.setProperty(m,e[m]);c.addActions()}return c},be.prototype.removeMovieClip=function(t){var e=this,r=e;if("string"==typeof t){var a=e.getMovieClip(t);a&&(r=a)}var n=r.getLevel();if(r instanceof be&&n>16384){var o=r.getDepth()+16384,i=r.getParent(),s=i.getContainer(),l=e.getStage(),c=r.instanceId;l.removePlaceObject(c);for(var g,p=i.getTotalFrames()+1;--p;)if(p in s){var u=s[p];o in u&&(g=u[o],g===c&&delete s[p][o]),n in u&&(g=u[n],g===c&&delete s[p][n])}}},be.prototype.putFrame=function(){var t=this,e=t.getStage();t.active=!0;var r=t.stopFlag,a=t.getCurrentFrame();if(!r){var n=t.getTotalFrames();n>1&&(t.isLoad&&a++,a>n&&(a=1,t.resetCheck()),t.setCurrentFrame(a),t.remove(),t.isAction=!0,t.soundStopFlag=!1)}var o=t.getTags(),i=o.length;if(i){o.reverse();for(var s in o)if(o.hasOwnProperty(s)){var l=o[s],c=e.getInstance(l);c&&c.putFrame()}o.reverse()}if(t.isLoad&&(ne.type="enterFrame",t.dispatchEvent(ne),t.dispatchOnEvent("onEnterFrame"),t.addTouchEvent(),t.isAction)){t.isAction=!1;var g=t.getActions(t.getCurrentFrame());g&&t.setActionQueue(g)}},be.prototype.nextFrame=function(){var t=this,e=t.getCurrentFrame();e++,t.setNextFrame(e),t.stop()},be.prototype.prevFrame=function(){var t=this,e=t.getCurrentFrame();e--,t.setNextFrame(e),t.stop()},be.prototype.getCurrentFrame=function(){return this._currentframe},be.prototype.setCurrentFrame=function(t){this._currentframe=t},be.prototype.setNextFrame=function(t){var e=this;if(t>0&&e.getCurrentFrame()!==t){e.isAction=!0,t>e.getTotalFrames()&&(t=e.getTotalFrames(),e.isAction=!1);var r,a,n,o,i,s=X(t,e.getCurrentFrame())+1,l=w(t,e.getCurrentFrame()),c=e.getStage(),g=e.getTags(),p=[],u=e.getTags(t),f=X(g.length,u.length);if(f)for(n=0;f>n;n++)if((n in g||n in u)&&(a=g[n],i=u[n],a||i))if(r=c.getInstance(a),o=c.getInstance(i),a&&i){if(a===i){p[a]=!0;continue}r.reset(),o.reset(),p[a]=!0,p[i]=!0}else r?(r.reset(),p[a]=!0):o&&(o.reset(),p[i]=!0);if(p.length)for(var h=l;s>h;h++){var d=e.getTags(h);if(d.length)for(n in d)d.hasOwnProperty(n)&&(a=d[n],a in p||(p[a]=!0,r=c.getInstance(a),r.reset()))}e.setCurrentFrame(t),e.soundStopFlag=!1,e.addActions()}},be.prototype.getTotalFrames=function(){return this._totalframes},be.prototype.setTotalFrames=function(t){this._totalframes=t,this._framesloaded=t},be.prototype.getDepth=function(){var t=this,e=t._depth,r=null!==e?e:t.getLevel();return r-16384},be.prototype.setDepth=function(t,e,r){var a=this,n=a.getParent();n.isSwap=!0;var o=a._depth,i=null!==o?o:a.getLevel(),s=n.getTotalFrames()+1;r?(a._depth=e,r._depth=t):a._depth=t;for(var l=n.container,c=a.instanceId,g=1;s>g;g++)if(g in l){var p=l[g];p.length&&(r?(i in p&&p[i]===c&&(p[t]=r.instanceId),e in p&&p[e]===r.instanceId&&(p[e]=c)):i in p&&p[i]===c&&(delete p[i],p[t]=c),l[g]=p)}a.setController(!1,!1,!1,!1),r&&r.setController(!1,!1,!1,!1)},be.prototype.addLabel=function(t,e){"string"!=typeof e&&(e+=""),this.labels[e.toLowerCase()]=q(t)},be.prototype.getLabel=function(t){return"string"!=typeof t&&(t+=""),this.labels[t.toLowerCase()]},be.prototype.addSound=function(t,e){var r=this;t in r.sounds||(r.sounds[t]=[]),r.sounds[t].push(e)},be.prototype.getSounds=function(){var t=this;return t.sounds[t.getCurrentFrame()]},be.prototype.startSound=function(t){var e=this,r=e.getStage(),a=t.SoundId,n=r.getCharacter(a);if(!n)return 0;var o=n.SoundInfo;I(t.Audio,o),e.soundStopFlag=!0},be.prototype.getTags=function(t){var e=this,r=t?t:e.getCurrentFrame();return r in e.container?e.container[r]:[]},be.prototype.setRemoveTag=function(t,e){var r=this.removeTags;r[t]=[];for(var a=e.length,n=0;a>n;n++){var o=e[n];r[t][o.Depth]=1}},be.prototype.getRemoveTags=function(t){return this.removeTags[t]},be.prototype.remove=function(){var t=this,e=t.getRemoveTags(t.getCurrentFrame());if(e){var r=t.getStage(),a=t.getTags(t.getCurrentFrame()-1);for(var n in a)if(a.hasOwnProperty(n)){var o=a[n],i=r.getInstance(o);if(i)if(i instanceof be){var s=i.getDepth()+16384;if(!(s in e))continue;s===i.getLevel()&&(ne.type="unload",t.dispatchEvent(ne),i.reset())}else{if(!(n in e))continue;i.reset()}}}},be.prototype.resetCheck=function(){var t=this,e=t.getInstances(),r=t.getStage();for(var a in e)if(e.hasOwnProperty(a)){var n=r.getInstance(a);n&&n.getRatio()&&n.reset()}},be.prototype.reset=function(){var t=this,e=t.getStage(),r=t.getParent();if(r&&r.isSwap){r.isSwap=!1;for(var a=r.getTotalFrames()+1,n=1;a>n;n++){var o=r.getTags(n),i=o.length;if(i){var s=[];for(var l in o)if(o.hasOwnProperty(l)){var c=o[l],g=e.getInstance(c);g||delete o[l],g.getLevel()!==q(l)&&(g._depth=null,s[g.getLevel()]=c,delete o[l])}if(i=s.length)for(var p in s)s.hasOwnProperty(p)&&(o[p]=s[p])}}}var u=t.getInstances();for(var f in u)if(u.hasOwnProperty(f)){var h=e.getInstance(f);h instanceof be&&h.getDepth()>=0?h.removeMovieClip():h.reset()}t.play(),t.setCurrentFrame(1),t.clear(),t.initParams(),t.variables={};var d=e.initMovieClip[t.getCharacterId()];d&&(t.variables=d.variables)},be.prototype.initParams=function(){var t=this;t.active=!1,t.isLoad=!1,t.isAction=!0,t.soundStopFlag=!1,t._droptarget=null,t._depth=null,t._mask=null,t._matrix=null,t._colorTransform=null,t._filters=null,t._blendMode=null,t.buttonStatus="up",t.setVisible(!0),t.setEnabled(!0)},be.prototype.addTouchEvent=function(){var t,e=this,r=e.events,a=e.getMovieClip("_root"),n=a.getStage(),o=n.moveEventHits,i=n.downEventHits,s=n.upEventHits,l=n.keyDownEventHits;for(var c in r)if(r.hasOwnProperty(c))switch(t=r[c],c){case"mouseDown":i[i.length]={as:t,mc:e};break;case"mouseMove":o[o.length]={as:t,mc:e};break;case"mouseUp":s[s.length]={as:t,mc:e};break;case"keyDown":It?i[i.length]={as:t,mc:e}:l[l.length]={as:t,mc:e};break;case"keyUp":s[s.length]={as:t,mc:e}}t=e.onMouseDown,t&&(i[i.length]={mc:e}),t=e.onMouseMove,t&&(o[o.length]={mc:e}),t=e.onMouseUp,t&&(s[s.length]={mc:e})},be.prototype.addActions=function(){var t=this;if(t.active=!0,t.isAction){if(t.isAction=!1,!t.isLoad){ne.type="initialize",t.dispatchEvent(ne),ne.type="construct",t.dispatchEvent(ne),ne.type="load",t.dispatchEvent(ne);var e=t.onLoad;void 0!==e&&t.setActionQueue(e),t.addTouchEvent()}var r=t.getActions(t.getCurrentFrame());r&&t.setActionQueue(r)}var a=t.getStage(),n=t.getTags(),o=n.length;if(o)for(var i in n)if(n.hasOwnProperty(i)){var s=n[i],l=a.getInstance(s);l&&l.addActions()}},be.prototype.getRect=function(t){var e=this;t||(t=e);var r=t.getBounds(t.getOriginMatrix()),a=e.graphics,n=20,o=a.maxWidth/n,i=o/2,s=r.xMin+i,l=r.xMax-i,c=r.yMin+i,g=r.yMax-i;return{xMin:s,xMax:l,yMin:c,yMax:g}},be.prototype.getBounds=function(t){if(t instanceof be)return t.getBounds(t.getOriginMatrix());var e=this,r=e.getTags(),a=0,n=0,i=0,s=0,l=e.graphics,c=l.isDraw;if(c){var g=l.maxWidth,p=g/2,u=m(l.bounds,t),f=t?20:1;i=(u.xMin-p)/f,a=(u.xMax+p)/f,s=(u.yMin-p)/f,n=(u.yMax+p)/f}var h=r.length,d=e.getStage();if(h){if(!c){var v=z.MAX_VALUE;a=-v,n=-v,i=v,s=v}var y=o;for(var b in r)if(r.hasOwnProperty(b)){var S=r[b],I=d.getInstance(S);if(I&&!I.isClipDepth){var C=t?y(t,I.getMatrix()):I.getMatrix(),x=I.getBounds(C);x&&(i=w(i,x.xMin),a=X(a,x.xMax),s=w(s,x.yMin),n=X(n,x.yMax))}}}return{xMin:i,xMax:a,yMin:s,yMax:n}},be.prototype.getActions=function(t){return this.actions[t]},be.prototype.setActions=function(t,e){var r=this,a=r.actions;t in a||(a[t]=[]);var n=a[t].length;a[t][n]=v(r,e)},be.prototype.executeActions=function(t){var e=this,r=e.getActions(t);if(void 0!==r)for(var a=r.length,n=0;a>n;n++)r[n].apply(e)},be.prototype.render=function(t,e,r,a,n){var o=this;if(o.isLoad=!0,!o.soundStopFlag){var i=o.getSounds();if(void 0!==i)for(var s=i.length,l=0;s>l;l++)if(l in i){var c=i[l];o.startSound(c)}}var g=o.getTags();return o.rendering(g,t,e,r,a,n)},be.prototype.renderHitTest=function(t,e,r,a,n){var i=this,s=i.getTags(),l=s.length,c=!1;if(l){var g=i.getStage(),p=o;for(var u in s)if(s.hasOwnProperty(u)){var f=s[u],h=g.getInstance(f),d=p(e,h.getMatrix());if(c=h.renderHitTest(t,d,r,a,n))return c;
}}var v=i.graphics;return v.isDraw?v.renderHitTest(t,e,r,a,n):c},be.prototype.ASSetPropFlags=function(){},be.prototype.beginFill=function(t,e){var r=this.getGraphics();r.beginFill(t,e)},be.prototype.lineStyle=function(t,e,r,a,n,o,i,s){var l=this.getGraphics();l.lineStyle(t,e,r,a,n,o,i,s)},be.prototype.moveTo=function(t,e){var r=this.getGraphics();r.moveTo(t,e)},be.prototype.lineTo=function(t,e){var r=this.getGraphics();r.lineTo(t,e)},be.prototype.curveTo=function(t,e,r,a){var n=this.getGraphics();n.curveTo(t,e,r,a)},be.prototype.clear=function(){var t=this.getGraphics();t.clear()},be.prototype.endFill=function(){var t=this.getGraphics();t.endFill()};var me=function(){var t=this;t.variables={}};Object.defineProperties(me.prototype,{onLoadComplete:{get:function(){return this.getProperty("onLoadComplete")},set:function(t){this.setProperty(t)}},onLoadError:{get:function(){return this.getProperty("onLoadError")},set:function(t){this.setProperty(t)}},onLoadInit:{get:function(){return this.getProperty("onLoadInit")},set:function(t){this.setProperty(t)}},onLoadProgress:{get:function(){return this.getProperty("onLoadProgress")},set:function(t){this.setProperty(t)}},onLoadStart:{get:function(){return this.getProperty("onLoadStart")},set:function(t){this.setProperty(t)}}}),me.prototype.loadClip=function(){},me.prototype.addListener=function(){},me.prototype.getProgress=function(){},me.prototype.removeListener=function(){},me.prototype.unloadClip=function(){},me.prototype.getProperty=function(t){return this.variables[t]},me.prototype.setProperty=function(t,e){this.variables[String(t)]=e};var Se=function(){var t=this;t.xmlHttpRequest=new XMLHttpRequest,t.variables={},t.target=t};Object.defineProperties(Se.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Se.prototype.getProperty=function(t){return this.variables[t]},Se.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Se.prototype.load=function(t){var e=this,r=e.xmlHttpRequest;r.open("GET",t),r.onreadystatechange=function(){var t=r.readyState;if(4===t){var a=decodeURIComponent(r.responseText);e.decode(a);var n=e.onData;n&&n.apply(a,[a]);var o,i=r.status;switch(i){case 200:case 304:return o=e.onLoad,o&&o.apply(a,[!0]),!0;default:return o=e.onLoad,o&&o.apply(a,[!1]),!1}}},r.send(null)},Se.prototype.send=function(t,e,r){var a=this,n=a.xmlHttpRequest,o=r?r.toUpperCase():"GET";return n.open(o,t),"POST"===o&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e instanceof Se&&(a.target=e),n.send(a.toString()),!0},Se.prototype.sendAndLoad=function(t,e,r){var a=this;return a.send(t,e,r),a.load(t)},Se.prototype.addRequestHeader=function(t,e){var r=this.xmlHttpRequest;if(t instanceof Array)for(var a=t.length,n=0;a>n;)r.setRequestHeader(t[n++],e[n++]);else r.setRequestHeader(t,e)},Se.prototype.decode=function(t){for(var e=this.variables,r=t.split("&"),a=r.length,n=0;a>n;n++){var o=r[n],i=o.split("=");i.length<1||(e[String(i[0])]=i[1])}},Se.prototype.getBytesLoaded=function(){return 1},Se.prototype.getBytesTotal=function(){return 1},Se.prototype.toString=function(){var t=this.variables,e=[];for(var r in t)t.hasOwnProperty(r)&&(e[e.length]=r+"="+t[r]);return e.join("&")};var Ie=function(){var t=this;t.ignoreWhite=!1,t.loaded=!1,t.status=0,t.variables={}};Object.defineProperties(Ie.prototype,{onData:{get:function(){return this.getProperty("onData")},set:function(t){this.setProperty("onData",t)}},onLoad:{get:function(){return this.getProperty("onLoad")},set:function(t){this.setProperty("onLoad",t)}}}),Ie.prototype.getProperty=function(t){return this.variables[t]},Ie.prototype.setProperty=function(t,e){this.variables[String(t)]=e},Ie.prototype.load=function(t){var e=this;t=""+t;var r=new XMLHttpRequest;r.open("GET",t),r.onreadystatechange=function(){var t=r.readyState;if(4===t){var a=r.responseXML,n=e.onData;n&&n.apply(a,[a]);var o,i=r.status;switch(i){case 200:case 304:return o=e.onLoad,o&&o.apply(a,[!0]),!0;default:return o=e.onLoad,o&&o.apply(a,[!1]),!1}}},r.send(null)},Ie.prototype.send=function(t,e,r){var a=r?r.toUpperCase():"GET";e&&ot.log(e);var n=new XMLHttpRequest;return n.open(a,t),n.send(null),!0},Ie.prototype.sendAndLoad=function(t,e){var r=this;return r.send(t),r.load(e)};var Ce=function(){var t=this;t.sounds=[],t.volume=100,t.pan=0,t.transform={ll:100,lr:100,rl:100,rr:100},t.isStreamin=!1,t.movieClip=null};Ce.prototype.start=function(t,e){var r,a=this,n=a.sounds,o=function(t,e){return function(){t.currentTime=e}},i=function(t,e){return function(){var r=e.volume;t.loopCount--,t.loopCount>0&&(t.volume=r/100,t.currentTime=0,t.play());var a=e.onSoundComplete;a&&a(a.cache,e.movieClip,[!0])}};for(var s in n)n.hasOwnProperty(s)&&(r=n[s],r.load(),t&&r.addEventListener("canplay",o(r,t)),"number"==typeof e&&e>0&&(r.loopCount=e,r.addEventListener("ended",i(r,a))),r.play())},Ce.prototype.stop=function(t){var e,r=this.sounds;if(t)e=r[t],e&&e.pause();else for(var a in r)r.hasOwnProperty(a)&&(e=r[a],e.pause())},Ce.prototype.loadSound=function(t,e){var r=this,a=r.sounds,n=T.createElement("audio"),o=function(){if(n.removeEventListener("canplaythrough",o),n.load(),n.preload="auto",n.autoplay=!1,n.loop=!1,"onLoad"in r){var t=r.onLoad;t&&t(t.cache,r.movieClip,[!0])}};n.addEventListener("canplaythrough",o);var i=function(){if(n.removeEventListener("error",o),"onLoad"in r){var t=r.onLoad;t&&t(t.cache,r.movieClip,[!0])}};n.addEventListener("error",i),n.src=t,a[0]=n,r.isStreamin=e},Ce.prototype.attachSound=function(t){var e=this,r=e.sounds;if(!(t in r)){var a=e.movieClip,n=a.getStage(),o=n.exportAssets;if(t in o){var i=o[t],s=n.sounds[i];if(s){var l=T.createElement("audio");l.onload=function(){this.load(),this.preload="auto",this.autoplay=!1,this.loop=!1},l.src=s.base64,r[t]=l}}}},Ce.prototype.getVolume=function(){return this.volume},Ce.prototype.setVolume=function(t){var e=this,r=e.sounds;e.volume=t;for(var a in r)if(r.hasOwnProperty(a)){var n=r[a];n.volume=t/100}},Ce.prototype.getPan=function(){return this.pan},Ce.prototype.setPan=function(t){this.pan=t},Ce.prototype.setTransform=function(t){var e=this.transform;for(var r in t)if(t.hasOwnProperty(r))switch(r){case"ll":case"lr":case"rl":case"rr":e[r]=t[r]}},Ce.prototype.getTransform=function(){return this.transform},Ce.prototype.getBytesLoaded=function(){return 1},Ce.prototype.getBytesTotal=function(){return 1};var xe=function(){var t=this;t.data=null,t.name=null};xe.prototype.getLocal=function(e){var r=this;r.name=e;var a=t.localStorage.getItem(e);return a=a?JSON.parse(a):{},r.data=a,r},xe.prototype.flush=function(){var e=this;return t.localStorage.setItem(e.name,JSON.stringify(e.data)),!0};var Ae=function(t){this.movieClip=t};Ae.prototype.setRGB=function(t){var e=this,r=e.movieClip;if(r instanceof be){var n=g(q(t)),o=r.getOriginColorTransform();if(o){var s=[n.R,n.G,n.B,255*n.A,0,0,0,0],l=a(s),c=i(o,l);r.setColorTransform(c)}}},Ae.prototype.getTransform=function(){var t=this,e=t.movieClip;return e instanceof be?e.getColorTransform():void 0},Ae.prototype.setTransform=function(t){var e=this,r=e.movieClip;if(r instanceof be){var n=r.getOriginColorTransform(),o=[t.rb,t.gb,t.bb,t.ab,t.ra,t.ga,t.ba,t.aa],s=a(o),l=i(n,s);r.setColorTransform(l)}};var Me=function(){var t=this;t.keyDownEvent=[],t.keyUpEvent=[]};Me.prototype.addListener=function(t){var e=this,r=t.onKeyDown,a=t.onKeyUp;if(r){var n=e.keyDownEvent;n[n.length]={as:r,mc:t}}if(a){var o=e.keyUpEvent;o[o.length]={as:a,mc:t}}},Me.prototype.isDown=function(t){return this.getCode()===t},Me.prototype.getCode=function(){var t=Bt?Bt.keyCode:null;if(t>=96&&105>=t){var e=t-96;switch(e){case 0:t=48;break;case 1:t=49;break;case 2:t=50;break;case 3:t=51;break;case 4:t=52;break;case 5:t=53;break;case 6:t=54;break;case 7:t=55;break;case 8:t=56;break;case 9:t=57}}return t};var Fe=new Me,Ue=function(){this.variables={}};Ue.prototype.getVariable=function(t){return this.variables[t]},Ue.prototype.setVariable=function(t,e){this.variables[t]=e},Ue.prototype.getProperty=function(t){return this.variables[t]},Ue.prototype.setProperty=function(t,e){this.variables[t]=e};var Be=function(){var t=this;t.id=gt++,t.name="swf2js_"+t.id,t.intervalId=0,t.fps=0,t.fileSize=0,t.stopFlag=!0,t.optionWidth=0,t.optionHeight=0,t.cacheMode=!0,t.callback=null,t.renderMode=st,t.tagId=null,t.context=null,t.canvas=null,t.preContext=null,t.hitContext=null,t.matrix=[1,0,0,1,0,0],t.characters=[],t.initActions=[],t.initMovieClip=[],t.exportAssets=[],t.registerClass=[],t.buttonHits=[],t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[],t.sounds=[],t.loadSounds=[],t.videos=[],t.actions=[],t.instances=[],t.controllers=[],t.placeObjects=[],t.isAction=!0,t.queue=null,t._global=new Ue,t.touchObj=null,t.touchStatus="up",t.overObj=null,t.touchEndAction=null,t.imgUnLoadCount=0,t.scale=1,t.baseWidth=0,t.baseHeight=0,t.width=0,t.height=0,t.isHit=!1,t.isTouchEvent=!1,t.isLoad=!1,t.jpegTables=null,t.backgroundColor="rgb(255,255,255)",t.version=8,t.loadStatus=0,t.isClipDepth=!1,t.clipDepth=0,t.clipMc=!1,t.dragMc=null,t.dragRules=null,t.scaleMode="showAll",t.align="";var e=new be;e.setStage(t),t.setParent(e)};Be.prototype.getId=function(){return this.id},Be.prototype.setId=function(t){this.id=t},Be.prototype.getParent=function(){return this.parent},Be.prototype.setParent=function(t){this.parent=t},Be.prototype.getVersion=function(){return this.version},Be.prototype.setVersion=function(t){this.version=t},Be.prototype.getBackgroundColor=function(){return this.backgroundColor},Be.prototype.setBackgroundColor=function(t,e,r){this.backgroundColor="rgb("+t+","+e+","+r+")"},Be.prototype.getGlobal=function(){return this._global},Be.prototype.play=function(){var t=this;t.stopFlag=!1;var e=function(t){return function(){lt(function(){t.onEnterFrame()},0)}};t.intervalId=et(e(t),t.getFps())},Be.prototype.stop=function(){var t=this;t.stopFlag=!0,rt(t.intervalId)},Be.prototype.getName=function(){return this.name},Be.prototype.setName=function(t){this.name=t},Be.prototype.setOptions=function(t){if(void 0!==t){var e=this;e.optionWidth=t.width||e.optionWidth,e.optionHeight=t.height||e.optionHeight,e.callback=t.callback||e.callback,e.tagId=t.tagId||e.tagId,e.renderMode=t.renderMode||e.renderMode,e.cacheMode=t.cacheMode||e.cacheMode}},Be.prototype.getBaseWidth=function(){return this.baseWidth},Be.prototype.setBaseWidth=function(t){this.baseWidth=t},Be.prototype.getBaseHeight=function(){return this.baseHeight},Be.prototype.setBaseHeight=function(t){this.baseHeight=t},Be.prototype.getWidth=function(){return this.width},Be.prototype.setWidth=function(t){0>t&&(t*=-1),this.width=t},Be.prototype.getHeight=function(){return this.height},Be.prototype.setHeight=function(t){0>t&&(t*=-1),this.height=t},Be.prototype.getScale=function(){return this.scale},Be.prototype.setScale=function(t){this.scale=t},Be.prototype.getMatrix=function(){return this.matrix},Be.prototype.setMatrix=function(t){this.matrix=t},Be.prototype.getCharacter=function(t){return this.characters[t]},Be.prototype.setCharacter=function(t,e){this.characters[t]=e},Be.prototype.getInstance=function(t){return this.instances[t]},Be.prototype.setInstance=function(t){this.instances[t.instanceId]=t},Be.prototype.getPlaceObject=function(t,e,r){var a=this.placeObjects;if(!(t in a))return null;var n=a[t];if(!(r in n))return null;var o=n[r];return e in o?o[e]:null},Be.prototype.setPlaceObject=function(t,e,r,a){var n=this,o=n.placeObjects;e in o||(o[e]=[]),a in o[e]||(o[e][a]=[]),o[e][a][r]=t},Be.prototype.copyPlaceObject=function(t,e,r){var a=this,n=a.getPlaceObject(t,e,r-1);a.setPlaceObject(n,t,e,r)},Be.prototype.removePlaceObject=function(t){delete this.placeObjects[t]},Be.prototype.getFps=function(){return this.fps},Be.prototype.setFps=function(t){this.fps=P(1e3/t)},Be.prototype.loadEvent=function(){var t=this;switch(t.loadStatus){case 2:t.resize(),t.loadStatus++;break;case 3:if(!t.isLoad||!t.stopFlag||t.imgUnLoadCount>0)break;t.loadStatus++,t.loaded()}4!==t.loadStatus&&$(function(){t.loadEvent()},0)},Be.prototype.parse=function(t){var e=this;e.isLoad=!1;var r=new Rt,a=new Nt(e,r);if(xt?r.setData(new Uint8Array(t)):r.init(t),e.setSwfHeader(r,a)){var n=e.getParent();n._url=location.href;var o=a.parse(n);a.build(o,n)}e.isLoad=!0},Be.prototype.setSwfHeader=function(t,e){var r=this,a=t.data;if(255===a[0]&&216===a[1])return r.parseJPEG(a,e),!1;var n=t.getHeaderSignature(),o=t.getVersion();r.setVersion(o);var i=t.getUI32();switch(r.fileSize=i,n){case"FWS":break;case"CWS":t.deCompress(i,"ZLIB");break;case"ZWS":return nt("not support LZMA"),!1}var s=e.rect(),l=t.getUI16()/256;return t.getUI16(),r.setBaseWidth(D((s.xMax-s.xMin)/20)),r.setBaseHeight(D((s.yMax-s.yMin)/20)),r.setFps(l),r.loadStatus++,!0},Be.prototype.parseJPEG=function(t,e){var r=this,a=T.createElement("img");a.onload=function(){var t=this.width,e=this.height,a=Ht.getCanvas();a.width=t,a.height=e;var n=a.getContext("2d");n.drawImage(this,0,0,t,e),r.setCharacter(1,n);var o=20*t,i=20*e;r.setBaseWidth(t),r.setBaseHeight(e);var s={ShapeRecords:[{FillStyle1:1,StateFillStyle0:0,StateFillStyle1:1,StateLineStyle:0,StateMoveTo:0,StateNewStyles:0,isChange:!0},{AnchorX:o,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:o,AnchorY:i,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:i,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},{AnchorX:0,AnchorY:0,ControlX:0,ControlY:0,isChange:!1,isCurved:!1},0],fillStyles:{fillStyleCount:1,fillStyles:[{bitmapId:1,bitmapMatrix:[20,0,0,20,0,0],fillStyleType:65}]},lineStyles:{lineStyleCount:0,lineStyles:[]}},l={xMin:0,xMax:o,yMin:0,yMax:i},c=Ot.convert(s);r.setCharacter(2,{tagType:22,data:c,bounds:l});var g=r.getParent(),p=new ue;p.setParent(g),p.setStage(r),p.setData(c),p.setTagType(22),p.setCharacterId(2),p.setBounds(l),p.setLevel(1),g.container[1]=[],g.container[1][1]=p.instanceId;var u=new Zt;r.setPlaceObject(u,p.instanceId,1,1),r.init()};var n=e.parseJpegData(t);a.src="data:image/jpeg;base64,"+e.base64encode(n)},Be.prototype.resize=function(){var e=this,r=T.getElementById(e.getName());if(!r)return 0;var n=e.optionWidth,o=e.optionHeight,i=t.innerWidth,s=t.innerHeight,l=r.parentNode;"BODY"!==l.tagName&&(i=l.offsetWidth,s=l.offsetHeight);var c=n>0?n:i,g=o>0?o:s,p=e.getBaseWidth(),u=e.getBaseHeight(),f=w(c/p,g/u),h=p*f,d=u*f,v=r.style;v.width=h+"px",v.height=d+"px",v.top=0,v.left=c/2-h/2+"px",h*=Mt,d*=Mt,e.setScale(f),e.setWidth(h),e.setHeight(d);var y=e.context.canvas;y.width=h,y.height=d;var b=e.preContext.canvas;b.width=h,b.height=d;var m=e.hitContext.canvas;if(m.width=h,m.height=d,yt&&St){var S=Y.canvas;S.width=h,S.height=d}var I=f*Ft/20;e.setMatrix(a([I,0,0,I,0,0]))},Be.prototype.loaded=function(){var e=this;e.buttonHits=[],e.downEventHits=[],e.moveEventHits=[],e.upEventHits=[],e.keyDownEventHits=[],e.keyUpEventHits=[],e.actions=[],e.deleteNode();var r=T.getElementById(e.getName());if(r){e.doInitActions();var a=e.getParent();a.addActions(),e.executeAction();var n=e.callback;"function"==typeof n&&n.call(t,a),e.render(),e.renderMain();var o=e.context,i=o.canvas;if(It){var s=e.loadSounds,l=s.length;if(l){var c=function(){i.removeEventListener(kt,c);for(var t=l;t--;)if(t in s){var e=s[t];e.load()}};i.addEventListener(kt,c)}}i.addEventListener(kt,function(t){Ut=t,e.touchStart(t)}),i.addEventListener(Yt,function(t){Ut=t,e.touchMove(t)}),i.addEventListener(Tt,function(t){Ut=t,e.touchEnd(t)}),r.appendChild(i),e.play()}},Be.prototype.deleteNode=function(t){var e=T.getElementById(t?t:this.getName());if(e){var r=e.childNodes,a=r.length;if(a)for(var n=a;n--;)e.removeChild(r[n])}},Be.prototype.onEnterFrame=function(){var t=this;t.isLoad&&!t.stopFlag&&t.nextFrame()},Be.prototype.nextFrame=function(){var t=this;t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[];var e=t.getParent();e.putFrame(),e.addActions(),t.executeAction(),t.render(),t.renderMain()},Be.prototype.render=function(){var t=this;t.buttonHits=[];var e=t.getParent(),r=t.preContext;r.setTransform(1,0,0,1,0,0),r.fillStyle=t.getBackgroundColor(),r.globalCompositeOperation="source-over",r.fillRect(0,0,t.getWidth()+1,t.getHeight()+1),e.preRender(r,e.getMatrix(),e.getColorTransform(),t,e.getVisible())},Be.prototype.doInitActions=function(){var t=this.initActions,e=t.length;if(e)for(var r=0;e>r;r++){var a=t[r],n=a.as,o=a.mc;n.apply(o)}},Be.prototype.executeAction=function(){var t=this;if(t.isAction&&t.actions.length){t.isAction=!1;for(var e=0;e<t.actions.length;e++){var r=t.actions[e],a=r.mc;if(a.active){var n=r.as;if("function"==typeof n)n.apply(a);else{var o=n.length;if(o)for(var i in n)n.hasOwnProperty(i)&&n[i].apply(a)}}}}t.actions=[],t.isAction=!0},Be.prototype.buttonAction=function(t,e){var r=this;r.downEventHits=[],r.moveEventHits=[],r.upEventHits=[],r.keyDownEventHits=[],r.keyUpEventHits=[],e.execute(t),r.executeAction()},Be.prototype.renderMain=function(){var t=this,e=t.preContext,r=e.canvas,a=t.context;a.setTransform(1,0,0,1,0,0),a.drawImage(r,0,0,r.width,r.height)},Be.prototype.reset=function(){var t=this;t.instanceId=0;var e=new be;e.reset(),e.setStage(t),t.parent=e,t.characters=[],t.instances=[],t.controllers=[],t.buttonHits=[],t.downEventHits=[],t.moveEventHits=[],t.upEventHits=[],t.keyDownEventHits=[],t.keyUpEventHits=[],t.sounds=[],t.loadSounds=[],t.actions=[],t.initMovieClip=[]},Be.prototype.init=function(){var e,r=this,a=r.tagId;if(r.getId()in pt)if(a){if("loading"===T.readyState){var n=function(){t.removeEventListener("DOMContentLoaded",n),r.init()};return t.addEventListener("DOMContentLoaded",n),0}var o=T.getElementById(a);if(!o)return nt("Not Found Tag ID:"+a),0;e=T.getElementById(r.getName()),e?r.deleteNode():(e=T.createElement("div"),e.id=r.getName(),o.appendChild(e))}else T.body.insertAdjacentHTML("beforeend","<div id='"+r.getName()+"'></div>");e=T.getElementById(r.getName()),e&&(r.initStyle(e),r.loading()),r.canvas||r.initCanvas(),r.loadStatus++,r.loadEvent()},Be.prototype.initStyle=function(e){var r,a=this;r=e.style,r.position="relative",r.top="0",r.backgroundColor="#000000",r.overflow="hidden",r["-webkit-backface-visibility"]="hidden";var n,o,i=e.parentNode,s=a.optionWidth,l=a.optionHeight;"BODY"===i.tagName?(n=s>0?s:t.innerWidth,o=l>0?l:t.innerHeight):(n=s>0?s:i.offsetWidth,o=l>0?l:i.offsetHeight),r.width=n+"px",r.height=o+"px",r["-webkit-user-select"]="none"},Be.prototype.initCanvas=function(){var e,r=this,a=T.createElement("canvas");a.width=1,a.height=1,e=a.style,e.zIndex=0,e.position="absolute",e.zoom=100/Ft+"%",e["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",e.MozTransformOrigin="0 0",e.MozTransform="scale("+1/Ft+")",yt&&a.addEventListener("touchcancel",function(){r.touchEnd(Ut)}),It||(t.addEventListener("keydown",k),t.addEventListener("keyup",B),t.addEventListener("keyup",function(t){Bt=t,r.touchEnd(t)})),r.context=a.getContext("2d"),r.canvas=a;var n=T.createElement("canvas");n.width=1,n.height=1,r.preContext=n.getContext("2d");var o=T.createElement("canvas");o.width=1,o.height=1,r.hitContext=o.getContext("2d")},Be.prototype.loading=function(){var t=this,e=T.getElementById(t.getName()),r=t.getName()+"_loading",a="<style>";a+="#"+r+" {\n",a+="z-index: 999;\n",a+="position: absolute;\n",a+="top: 50%;\n",a+="left: 50%;\n",a+="margin: -24px 0 0 -24px;\n",a+="width: 50px;\n",a+="height: 50px;\n",a+="border-radius: 50px;\n",a+="border: 8px solid #dcdcdc;\n",a+="border-right-color: transparent;\n",a+="box-sizing: border-box;\n",a+="-webkit-animation: "+r+" 0.8s infinite linear;\n",a+="animation: "+r+" 0.8s infinite linear;\n",a+="} \n",a+="@-webkit-keyframes "+r+" {\n",a+="0% {-webkit-transform: rotate(0deg);}\n",a+="100% {-webkit-transform: rotate(360deg);}\n",a+="} \n",a+="@keyframes "+r+" {\n",a+="0% {transform: rotate(0deg);}\n",a+="100% {transform: rotate(360deg);}\n",a+="} \n",a+="</style>",e.innerHTML=a;var n=T.createElement("div");n.id=r,e.appendChild(n)},Be.prototype.reload=function(e,r){var a=this;a.stop(),4===a.loadStatus&&a.deleteNode(),a.loadStatus=0,a.isLoad=!1,a.reset();var n=t.swf2js;return n.load(e,{optionWidth:r.optionWidth|a.optionWidth,optionHeight:r.optionHeight|a.optionHeight,callback:r.callback|a.callback,tagId:r.tagId|a.tagId,renderMode:r.renderMode|a.renderMode,cacheMode:r.cacheMode|a.cacheMode,stage:a})},Be.prototype.output=function(t,e,r,a){var n=this;if(!n.isLoad||n.stopFlag)return $(function(){n.output(t,e,r,a)},500),0;n.stop(),e||(e=1),r||(r=n.getWidth()),a||(a=n.getHeight());var o=n.getParent();o.reset(),o.gotoAndStop(e),(r!==n.getWidth()||a!==n.getHeight())&&(n.optionWidth=r,n.optionHeight=a,n.resize()),o.addActions();var i=n.preContext.canvas,s=i.style;s.backgroundColor=n.backgroundColor,n.render();var l=new XMLHttpRequest;l.open("POST",t),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){var t=l.readyState;if(4===t){var e=l.status;switch(e){case 200:case 304:ot.log("OUTPUT SUCCESS");break;default:nt(l.statusText)}}};var c=i.toDataURL();l.send("data="+encodeURIComponent(c))},Be.prototype.hitCheck=function(t){var e=this;e.isHit=!1;var r=e.buttonHits,a=r.length;if(!a)return 0;var n=T.getElementById(e.getName()),o=n.getBoundingClientRect(),i=T.body,s=i.scrollLeft+o.left,l=i.scrollTop+o.top,c=0,g=0;if(It){var p=t.changedTouches[0];c=p.pageX,g=p.pageY}else c=t.pageX,g=t.pageY;c-=s,g-=l;var u=e.getScale();c/=u,g/=u;for(var f=e.hitContext,h=f.canvas,d=h.width,v=h.height,y=c*u*Ft,b=g*u*Ft,m=a;m--;)if(m in r){var S=r[m];if(void 0!==S){var I=!1;if(c>=S.xMin&&c<=S.xMax&&g>=S.yMin&&g<=S.yMax){var C=S.matrix;if(C){var x=S.parent,A=S.button;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,d,v),I=A?A.renderHitTest(f,C,e,y,b):x.renderHitTest(f,C,e,y,b)}else I=!0}if(I)return t.preventDefault(),e.isHit=!0,S}}return 0},Be.prototype.executeEventAction=function(t,e){if(t){if("function"==typeof t)t.apply(e);else{var r=t.length;if(r)for(var a=0;r>a;a++)t[a].apply(e)}this.executeAction()}},Be.prototype.touchStart=function(t){var e=this;if("up"===e.touchStatus){e.touchStatus="down",e.isHit=!1,e.isTouchEvent=!0,e.touchEndAction=null;var r,a,n=e.downEventHits,o=n.length;if(o){t.preventDefault();for(var i=0;o>i;i++){var s=n[i];r=s.mc,a=s.as,a||(a=r.onMouseDown),e.executeEventAction(a,s.mc)}e.downEventHits=[]}var l=e.hitCheck(t);e.isHit&&(r=l.parent,r.active&&(r.setButtonStatus("down"),r instanceof ve?e.appendTextArea(r,l):e.executePress(r,l)),null===e.touchObj&&(e.touchObj=l))}},Be.prototype.executePress=function(t,e){var r,a,n=this,o=!1;It&&(a=t.onRollOver,a&&(n.executeEventAction(a,t),o=!0));var i=t.events,s=i.press;s&&(n.executeEventAction(s,t),o=!0),r=t.onPress,r&&(n.executeEventAction(r,t),o=!0);var l=e.button;if(l){It&&(a=l.onRollOver,a&&n.executeEventAction(a,l)),l.setButtonStatus("down"),It&&n.executeButtonAction(l,t,"CondIdleToOverUp");var c=l.getActions(),g=c.length;if(g)for(var p=n.touchObj,u=0;g>u;u++)if(u in c){var f=c[u];if(f.CondOverDownToOverUp&&null===p)n.touchEndAction=f.ActionScript;else{var h=f.CondKeyPress;(13!==e.CondKeyPress||e.CondKeyPress===h)&&(It?(13===h||h>=48&&57>=h||f.CondOverUpToOverDown)&&n.buttonAction(t,f.ActionScript):f.CondOverUpToOverDown&&n.buttonAction(t,f.ActionScript))}}r=l.onPress,r&&n.executeEventAction(r,l);var d=l.getSprite();d.startSound(),o=!0}o&&n.touchRender()},Be.prototype.appendTextArea=function(t,e){var r=this;t.inputActive=!0;var a=T.getElementById(t.getTagName());if(!a){a=t.input;var n,o=t.getProperty("variable");if(o){var i=t.getParent();n=i.getProperty(o),void 0===n&&(n=t.getVariable("text"))}void 0!==n&&(a.value=n);var s=t.getVariable("maxChars");s&&(a.maxLength=s);var l=t.getVariable("border");if(l){a.style.border="1px solid black";var g=t.getVariable("backgroundColor");a.style.backgroundColor=c(g)}var p=r.getScale(),u=e.xMin,f=e.yMin,h=e.xMax-u,d=e.yMax-f;a.style.left=D(u*p)-3+"px",a.style.top=D(f*p)-3+"px",a.style.width=D(h*p)+6+"px",a.style.height=D(d*p)+6+"px";var v=T.getElementById(r.getName());if(v){v.appendChild(a),a.focus();var y=function(t){return function(){t.focus()}};$(y(a),10)}}},Be.prototype.touchMove=function(t){var e,r,a,n,o,i,s,l,c,g,p,u,f=this,h=f.overObj,d=f.moveEventHits,v=d.length;if(v){t.preventDefault();for(var y=0;v>y;y++){var b=d[y];e=b.mc,r=b.as,r||(r=e.onMouseMove),f.executeEventAction(r,e)}f.moveEventHits=[]}if(!It||It&&f.isTouchEvent){var m=null,S=f.touchObj;(S||"up"===f.touchStatus)&&(m=f.hitCheck(t));var I,C=!1;if(!It){var x=f.canvas;(f.isHit||S)&&(!m||m.active)?x.style.cursor="pointer":x.style.cursor="auto"}S?(a=S.button,e=S.parent,e.active&&(f.overObj=m,m&&m.parent.instanceId===e.instanceId&&m.button===a?("up"===e.getButtonStatus()&&(e.setButtonStatus("down"),n=e.events,o=n.dragOver,o&&(C=!0,f.executeEventAction(o,e)),i=e.onDragOver,i&&(C=!0,f.executeEventAction(i,e))),a&&"up"===a.getButtonStatus()&&(a.setButtonStatus("down"),I=a.getSprite(),I.startSound(),i=a.onDragOver,i&&(C=!0,f.executeEventAction(i,a)))):("down"===e.getButtonStatus()&&(n=e.events,s=n.dragOut,s&&(C=!0,f.executeEventAction(s,e)),l=e.onDragOut,l&&(C=!0,f.executeEventAction(l,e))),e.setButtonStatus("up"),a&&"down"===a.getButtonStatus()&&(a.setButtonStatus("up"),l=a.onDragOut,l&&(C=!0,f.executeEventAction(l,a)))))):m?(h&&(a=h.button,a&&a!==m.button&&(e=h.parent,e.active&&(a.setButtonStatus("up"),f.executeButtonAction(a,e,"CondOverUpToIdle")))),f.overObj=m,a=m.button,e=m.parent,!It&&e.active&&(h&&h.parent===e||(n=e.events,c=n.rollOver,c&&(C=!0,f.executeEventAction(c,e)),g=e.onRollOver,g&&(C=!0,f.executeEventAction(g,e)))),a&&(a.setButtonStatus("over"),I=a.getSprite(),I.startSound(),It||h&&h.button===a||(f.executeButtonAction(a,e,"CondIdleToOverUp"),g=a.onRollOver,g&&(C=!0,f.executeEventAction(g,a))))):"up"===f.touchStatus&&(f.overObj=null,h&&(a=h.button,e=h.parent,e.active&&(e.setButtonStatus("up"),n=e.events,p=n.rollOut,p&&(C=!0,f.executeEventAction(p,e)),u=e.onRollOut,u&&(C=!0,f.executeEventAction(u,e)),a&&(a.setButtonStatus("up"),f.executeButtonAction(a,e,"CondOverUpToIdle"),u=a.onRollOut,u&&(C=!0,f.executeEventAction(u,a)))))),C&&f.touchRender()}var A=f.dragMc;A&&(t.preventDefault(),A.executeDrag(),f.isHit=!0)},Be.prototype.touchEnd=function(t){var e,r,a,n,o,i=this,s=i.touchObj;s&&(e=s.button,e&&e.setButtonStatus("up"));var l=i.upEventHits,c=l.length;if(c){t.preventDefault();for(var g=0;c>g;g++){var p=l[g];r=p.mc,a=p.as,a||(a=r.onMouseUp),i.executeEventAction(a,p.mc)}i.upEventHits=[]}var u=i.hitCheck(t),f=i.dragMc;if(f&&(u=s,i.isHit=!0),i.isHit&&s){var h=!1;r=s.parent,r.setButtonStatus("up");var d=r===u.parent,v=i.touchEndAction;if(r.active){if(d){null!==v&&(i.buttonAction(r,v),h=!0);var y=r.events;n=y.release,n&&(i.executeEventAction(n,r),h=!0),o=r.onRelease,o&&(i.executeEventAction(o,r),h=!0)}if(e=s.button){d&&(o=e.onRelease,o&&i.executeEventAction(o,e));var b="up";It||u&&u.button===e&&(b="over"),e.setButtonStatus(b);var m=e.getSprite("hit");m.startSound(),h=!0}h&&(t.preventDefault(),i.touchRender())}}if(i.isHit=!1,i.isTouchEvent=!1,i.touchObj=null,i.touchStatus="up",!It){i.hitCheck(t);var S=i.canvas;i.isHit?S.style.cursor="pointer":S.style.cursor="auto"}Bt=null},Be.prototype.executeButtonAction=function(t,e,r){var a=this,n=t.getActions(),o=n.length;if(o)for(var i=0;o>i;i++)if(i in n){var s=n[i];s[r]&&a.buttonAction(e,s.ActionScript)}},Be.prototype.touchRender=function(){var t=this;t.render(),t.renderMain()};var ke=function(){};ke.prototype.Shape=ue,ke.prototype.DropShadowFilter=Wt,ke.prototype.BlurFilter=Gt,ke.prototype.GlowFilter=zt,ke.prototype.BevelFilter=Kt,ke.prototype.GradientGlowFilter=qt,ke.prototype.ConvolutionFilter=Jt,ke.prototype.ColorMatrixFilter=Qt,ke.prototype.GradientBevelFilter=$t,ke.prototype.BitmapFilter=Vt,ke.prototype.load=function(t,e){if("develop"===t&&(t=location.search.substr(1).split("&")[0]),t){var r=e&&e.stage instanceof Be?e.stage:new Be;r.setOptions(e),pt[r.getId()]=r,r.init();var a=new XMLHttpRequest;a.open("GET",t,!0),xt?a.responseType="arraybuffer":a.overrideMimeType("text/plain; charset=x-user-defined"),a.onreadystatechange=function(){var t=a.readyState;if(4===t){var e=a.status;switch(e){case 200:case 304:var n=xt?a.response:a.responseText;r.parse(n),Ht.reset();break;default:nt(a.statusText)}}},a.send(null)}else nt("please set swf url")},ke.prototype.reload=function(t,e){if(!gt)return this.load(t,e);var r=pt[0];for(var a in pt)if(pt.hasOwnProperty(a)){var n=pt[a];n.stop(),a&&(n.deleteNode(n.tagId),n=null)}gt=1,pt=[],ut=[],pt[0]=r,r.reload(t,e)},ke.prototype.createRootMovieClip=function(e,r,a,n){var o=new Be;if(o.setBaseWidth(e),o.setBaseHeight(r),o.setFps(a),o.setOptions(n),pt[o.getId()]=o,o.init(),o.isLoad=!0,"loading"===T.readyState){var i=function(){t.removeEventListener("DOMContentLoaded",i,!1),o.resize(),o.loaded()};t.addEventListener("DOMContentLoaded",i,!1)}return o.getParent()},t.swf2js=new ke}(window);